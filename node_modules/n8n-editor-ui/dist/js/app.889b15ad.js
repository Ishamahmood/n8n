(function(e){function t(t){for(var n,i,r=t[0],l=t[1],c=t[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],n=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},a={app:0},o=[];function i(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b325a":"75271eb0","chunk-2d2073c1":"44215119","chunk-2d22d3e6":"d14ffd31","chunk-da232adc":"3e2187e6"}[e]+".js"}function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(t,n){s=a[e]=[t,n]}));t.push(s[2]=n);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=i(e);var c=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(d);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",c.name="ChunkLoadError",c.type=n,c.request=o,s[1](c)}a[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/%BASE_PATH%/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;o.push([4,"chunk-vendors"]),s()})({0:function(e,t){},"02f2":function(e,t,s){"use strict";s("5999")},"0355":function(e,t,s){},"0461":function(e,t,s){"use strict";var n=s("f783"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"0627":function(e,t,s){"use strict";s("1cbb")},"063a":function(e,t,s){e.exports={container:"SettingsView_container_Q9mKa",contentContainer:"SettingsView_contentContainer_l2Xrr SettingsView_container_Q9mKa",content:"SettingsView_content_2eXGx"}},"07e6":function(e,t,s){"use strict";var n=s("1b35"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"0871":function(e,t,s){"use strict";s("7d3f")},"08dc":function(e,t,s){e.exports={hint:"ParameterInputFull_hint_5d6td"}},"08e0":function(e,t,s){e.exports={title:"TemplateFilters_title_Ty-QK",categories:"TemplateFilters_categories_1dzdM",item:"TemplateFilters_item_347g_",button:"TemplateFilters_button_1U-1B"}},"09ba":function(e,t,s){e.exports={container:"CollectionsCarousel_container_1Fb33",button:"CollectionsCarousel_button_1uNWm",leftButton:"CollectionsCarousel_leftButton_2PnZ0 CollectionsCarousel_button_1uNWm",rightButton:"CollectionsCarousel_rightButton_An3tR CollectionsCarousel_button_1uNWm"}},"0d28":function(e,t,s){"use strict";s("1569")},"0e0c":function(e,t,s){},"0e91":function(e,t,s){"use strict";s("75c2")},1:function(e,t){},"105c":function(e,t,s){},"11fc":function(e,t,s){},1538:function(e,t,s){"use strict";var n=s("7bf4"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},1569:function(e,t,s){},1570:function(e,t,s){e.exports={wrapper:"GoBackButton_wrapper_TZ608",icon:"GoBackButton_icon_1k9kW",text:"GoBackButton_text_12RBB"}},"157e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-button",e._g(e._b({ref:"button"},"n8n-button",e.attrs,!1),e.$listeners),[e._t("default")],2)},a=[],o=s("9869"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",e._g({class:e.classes,attrs:{disabled:e.disabled||e.loading,"aria-disabled":e.ariaDisabled,"aria-busy":e.ariaBusy,"aria-live":"polite"}},e.$listeners),[e.loading||e.icon?s("span",{class:e.$style.icon},[e.loading?s("n8n-spinner",{attrs:{size:e.size}}):e.icon?s("n8n-icon",{attrs:{icon:e.icon,size:e.size}}):e._e()],1):e._e(),e.label||e.$slots.default?s("span",[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):e._e()])},r=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-text",{staticClass:"n8n-icon",attrs:{size:e.size,color:e.color,compact:!0}},[s("font-awesome-icon",{class:e.$style[e.size],attrs:{icon:e.icon,spin:e.spin}})],1)},c=[],d=s("dc04"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.tag,e._g({tag:"component",class:["n8n-text"].concat(e.classes)},e.$listeners),[e._t("default")],2)},p=[],h=o["default"].extend({name:"n8n-text",props:{bold:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:e=>["xsmall","small","mini","medium","large","xlarge"].includes(e)},color:{type:String,validator:e=>["primary","text-dark","text-base","text-light","text-xlight","danger"].includes(e)},align:{type:String,validator:e=>["right","left","center"].includes(e)},compact:{type:Boolean,default:!1},tag:{type:String,default:"span"}},computed:{classes(){const e=[];return this.align&&e.push("align-"+this.align),this.color&&e.push(this.color),this.compact&&e.push("compact"),e.push("size-"+this.size),e.push(this.bold?"bold":"regular"),e.map(e=>this.$style[e])}}}),m=h,g=s("d4cb"),f=s("2be6");function w(e){this["$style"]=g["default"].locals||g["default"]}var y=Object(f["a"])(m,u,p,!1,w,null,null),b=y.exports,v=b,x=o["default"].extend({name:"n8n-icon",components:{FontAwesomeIcon:d["a"],N8nText:v},props:{icon:{required:!0},size:{type:String,default:"medium"},spin:{type:Boolean,default:!1},color:{type:String}}}),k=x,T=s("2915");function $(e){this["$style"]=T["default"].locals||T["default"]}var _=Object(f["a"])(k,l,c,!1,$,null,null),C=_.exports,N=C,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"n8n-spinner"},["ring"===e.type?s("div",{staticClass:"lds-ring"},[s("div"),s("div"),s("div"),s("div")]):s("n8n-icon",{attrs:{icon:"spinner",size:e.size,spin:""}})],1)},S=[],D=o["default"].extend({name:"n8n-spinner",components:{N8nIcon:N},props:{size:{type:String,validator:function(e){return["small","medium","large"].includes(e)}},type:{type:String,validator:function(e){return["dots","ring"].includes(e)},default:"dots"}}}),I=D,O=(s("2794"),Object(f["a"])(I,E,S,!1,null,null,null)),P=O.exports,A=P,M=o["default"].extend({name:"n8n-button",props:{label:{type:String},type:{type:String,default:"primary",validator:e=>["primary","secondary","tertiary","success","warning","danger"].includes(e)},size:{type:String,default:"medium",validator:e=>["mini","small","medium","large","xlarge"].includes(e)},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},text:{type:Boolean,default:!1},icon:{type:[String,Array]},block:{type:Boolean,default:!1},active:{type:Boolean,default:!1},float:{type:String,validator:e=>["left","right"].includes(e)},square:{type:Boolean,default:!1}},components:{N8nSpinner:A,N8nIcon:N},computed:{ariaBusy(){return this.loading?"true":"false"},ariaDisabled(){return this.disabled?"true":"false"},classes(){return`button ${this.$style["button"]} ${this.$style[this.type]}`+(this.size?" "+this.$style[this.size]:"")+(this.outline?" "+this.$style["outline"]:"")+(this.loading?" "+this.$style["loading"]:"")+(this.float?" "+this.$style["float-"+this.float]:"")+(this.text?" "+this.$style["text"]:"")+(this.disabled?" "+this.$style["disabled"]:"")+(this.block?" "+this.$style["block"]:"")+(this.active?" "+this.$style["active"]:"")+(this.icon||this.loading?" "+this.$style["icon"]:"")+(this.square?" "+this.$style["square"]:"")}}}),L=M,R=s("27a5");function W(e){this["$style"]=R["default"].locals||R["default"]}var B=Object(f["a"])(L,i,r,!1,W,null,null),V=B.exports;const U={"btn--cancel":"secondary"};var j=o["default"].extend({components:{N8nButton:V},computed:{attrs(){let e="primary";return Object.entries(U).forEach(([t,s])=>{this.$refs.button&&this.$refs.button.$el.classList.contains(t)&&(e=s)}),{type:e,...this.$attrs}}}}),F=j,z=Object(f["a"])(F,n,a,!1,null,null,null);t["default"]=z.exports},"159e":function(e,t,s){e.exports={button:"Button_button_2WIRv",active:"Button_active_2xZPl",secondary:"Button_secondary_1WiyP",tertiary:"Button_tertiary_3fT6g",success:"Button_success_1Gh7a",warning:"Button_warning_q_9vD",danger:"Button_danger_1EST5",mini:"Button_mini_JmuMZ",square:"Button_square_21fU0",small:"Button_small_12twy",medium:"Button_medium_2asSI",large:"Button_large_1RXVh",xlarge:"Button_xlarge_1snNO",outline:"Button_outline_2Fy4R",primary:"Button_primary_R3gwZ",text:"Button_text_Yw19S",loading:"Button_loading_1F7gC",disabled:"Button_disabled_14SPm",transparent:"Button_transparent_xEIjI",icon:"Button_icon_2fKPT",block:"Button_block_EaSS7","float-left":"Button_float-left_3k-36","float-right":"Button_float-right_1B4bO"}},"15eb":function(e,t,s){},1765:function(e,t,s){e.exports={nodes:"TemplateCard_nodes_152WM",icon:"TemplateCard_icon_3cW0J",card:"TemplateCard_card_1P-oW",hideOnHover:"TemplateCard_hideOnHover_30BV3",buttonContainer:"TemplateCard_buttonContainer_2h91_",loaded:"TemplateCard_loaded_pSMZ3",first:"TemplateCard_first_3zy0f",last:"TemplateCard_last_23zcJ",content:"TemplateCard_content_3daaC",line:"TemplateCard_line_dE6io",loading:"TemplateCard_loading_1W8cr",nodesContainer:"TemplateCard_nodesContainer_2AuFa"}},"18a7":function(e,t,s){e.exports={container:"ParameterOptions_container_27DRr"}},"199b":function(e,t,s){"use strict";var n=s("b19d"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"1b35":function(e,t,s){e.exports={container:"NodeTitle_container_1q6V7",title:"NodeTitle_title_2Cfnl",hoverable:"NodeTitle_hoverable_3mcFd",editIcon:"NodeTitle_editIcon_386X8",iconWrapper:"NodeTitle_iconWrapper_12TDF",editIconContainer:"NodeTitle_editIconContainer_2c2v_",editButtons:"NodeTitle_editButtons_3dv4F",editContainer:"NodeTitle_editContainer_3T6eu"}},"1b4c":function(e,t,s){e.exports={descriptionContainer:"CommunityPackageManageConfirmModal_descriptionContainer_1CUkL",descriptionIcon:"CommunityPackageManageConfirmModal_descriptionIcon_vKhN8",descriptionText:"CommunityPackageManageConfirmModal_descriptionText_3-kE7"}},"1bb2":function(e,t,s){},"1c18":function(e,t,s){"use strict";var n=s("c01f"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"1cbb":function(e,t,s){},"1d78":function(e,t,s){"use strict";var n=s("b37c"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"1f2f":function(e,t,s){},2:function(e,t){},2185:function(e,t,s){"use strict";var n=s("fc9b"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"21ac":function(e,t,s){e.exports={dragging:"Draggable_dragging_1BX-e",draggable:"Draggable_draggable_3SZdJ","draggable-data-transfer":"Draggable_draggable-data-transfer_2TIWF"}},"22a2":function(e,t,s){},"22b2":function(e,t,s){},"22f9":function(e,t,s){e.exports={errors:"ParameterInputExpanded_errors_3HLzx",hint:"ParameterInputExpanded_hint_LEUNi"}},"24d5":function(e,t,s){},2553:function(e,t,s){e.exports={bold:"Text_bold_HOpZs",regular:"Text_regular_2G3Bu","size-xlarge":"Text_size-xlarge_3zdyx","size-large":"Text_size-large_2F0S7","size-medium":"Text_size-medium_2Sm8f","size-small":"Text_size-small_3pVg5","size-xsmall":"Text_size-xsmall_1x4SP",compact:"Text_compact_LS_Rs",primary:"Text_primary_23PHd","text-dark":"Text_text-dark_2qB5m","text-base":"Text_text-base_S67Vm","text-light":"Text_text-light_1ZKnW","text-xlight":"Text_text-xlight_1lM6o",danger:"Text_danger_3fAjG","align-left":"Text_align-left_lqpJl","align-right":"Text_align-right_Zqccg","align-center":"Text_align-center_3wvJc"}},2667:function(e,t,s){e.exports={"parameter-issues":"ParameterIssues_parameter-issues_2gG2C"}},2721:function(e,t,s){"use strict";var n=s("08dc"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},2794:function(e,t,s){"use strict";s("1f2f")},"27a5":function(e,t,s){"use strict";var n=s("159e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"27b4":function(e,t,s){e.exports={"heading-wrapper":"CredentialsView_heading-wrapper_3Vrr5","filters-row":"CredentialsView_filters-row_XYIsW",search:"CredentialsView_search_gLDup","sort-and-filter":"CredentialsView_sort-and-filter_2nG69","filter-button":"CredentialsView_filter-button_3vc5-","filters-dropdown":"CredentialsView_filters-dropdown_1lpbS","filters-dropdown-footer":"CredentialsView_filters-dropdown-footer_SULpe","header-loading":"CredentialsView_header-loading_2NCDc","card-loading":"CredentialsView_card-loading_3hpba","user-select":"CredentialsView_user-select_1WLzL","user-info":"CredentialsView_user-info_2eERh","type-input":"CredentialsView_type-input_121VT"}},"27cf":function(e,t,s){"use strict";var n=s("5abb"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"283d":function(e,t,s){e.exports={container:"CredentialInfo_container_6PQw5",label:"CredentialInfo_label_2EkWq",accessLabel:"CredentialInfo_accessLabel_3j9Lf CredentialInfo_label_2EkWq",valueLabel:"CredentialInfo_valueLabel_27AQP"}},2915:function(e,t,s){"use strict";var n=s("4260"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"2ab7":function(e,t,s){"use strict";var n=s("bdfb"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"2ad5":function(e,t,s){"use strict";var n=s("593b"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"2bb4":function(e,t,s){},"2c07":function(e,t,s){"use strict";var n=s("aa65"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"2d99":function(e,t,s){"use strict";s("d052")},"2dd6":function(e,t){(function(){"use strict";var e=this,t=e.jsPlumb,s=e.jsPlumbUtil,n=e.Biltong,a="Straight",o="Arc";const i=function(e){e=e||{},this.type="N8nCustom",e.stub=null==e.stub?30:e.stub;var s,n=t.Connectors.AbstractConnector.apply(this,arguments),a=0,o=0,i=null==e.midpoint?.5:e.midpoint,l=!0===e.alwaysRespectStubs,c=e.loopbackVerticalLength||0,d=null,u=null,h=null!=e.cornerRadius?e.cornerRadius:0,m=e.loopbackMinimum||100,y=.4,b=40,v=e.targetGap||0,x=e.stub||0;this.setTargetEndpoint=function(e){this.overrideTargetEndpoint=e},this.resetTargetEndpoint=function(){this.overrideTargetEndpoint=null},this._compute=function(t,s){const n=w(s,{targetGap:v,stub:x,overrideTargetEndpoint:this.overrideTargetEndpoint,getEndpointOffset:e.getEndpointOffset});Object.keys(n).forEach(e=>{t[e]=n[e]}),n.tx<0?this._computeFlowchart(n):this._computeBezier(n)},this._computeBezier=function(e){var t,s,i=e.sourcePos,l=e.targetPos,c=Math.abs(i[0]-l[0])-e.targetGap,d=Math.abs(i[1]-l[1]),u=i[0]<l[0]?c:0,p=i[1]<l[1]?d:0,h=i[0]<l[0]?0:c,m=i[1]<l[1]?0:d;o=e.ySpan<=20||e.ySpan<=100&&e.xSpan<=100?.1:e.xSpan*y+b,t=r([u,p],i,l,e.sourceEndpoint,e.targetEndpoint,e.so,e.to,o,a),s=r([h,m],l,i,e.targetEndpoint,e.sourceEndpoint,e.to,e.so,o,a),n.addSegment(this,"Bezier",{x1:u,y1:p,x2:h,y2:m,cp1x:t[0],cp1y:t[1],cp2x:s[0],cp2y:s[1]})};const k=function(e,t,s,n){if(d!==t||u!==s){var a=null==d?n.sx:d,o=null==u?n.sy:u,i=a===t?"v":"h";d=t,u=s,e.push([a,o,t,s,i])}};this._computeFlowchart=function(e){s=[],d=null,u=null;var t=g(e,{alwaysRespectStubs:l});k(s,t[0],t[1],e);var a=f(e,t,{midpoint:i,loopbackMinimum:m,loopbackVerticalLength:c});if(a)for(var o=0;o<a.length;o++)k(s,a[o][0],a[o][1],e);k(s,t[2],t[3],e),k(s,e.tx,e.ty,e),p(n,this,s,e,h)}};function r(e,t,s,n,a,o,i,r,l){var c=o[0]!==i[0]||o[1]===i[1],d=[];return c?(0===i[0]?d.push(s[0]<t[0]?e[0]+l:e[0]-l):d.push(e[0]+r*i[0]),0===i[1]?d.push(s[1]<t[1]?e[1]+l:e[1]-l):d.push(e[1]+r*o[1])):(0===o[0]?d.push(t[0]<s[0]?e[0]+l:e[0]-l):d.push(e[0]-r*o[0]),0===o[1]?d.push(t[1]<s[1]?e[1]+l:e[1]-l):d.push(e[1]+r*i[1])),d}function l(e){return e<0?-1:0===e?0:1}function c(e){return[l(e[2]-e[0]),l(e[3]-e[1])]}function d(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))}function u(e){var t=[];return t.push.apply(t,e),t}function p(e,t,s,n,i){for(var r,l,p,h=null,m=0;m<s.length-1;m++){if(h=h||u(s[m]),r=u(s[m+1]),l=c(h),p=c(r),i>0&&h[4]!==r[4]){var g=Math.min(d(h),d(r)),f=Math.min(i,g/2);h[2]-=l[0]*f,h[3]-=l[1]*f,r[0]+=p[0]*f,r[1]+=p[1]*f;var w=l[1]===p[0]&&1===p[0]||l[1]===p[0]&&0===p[0]&&l[0]!==p[1]||l[1]===p[0]&&-1===p[0],y=r[1]>h[3]?1:-1,b=r[0]>h[2]?1:-1,v=y===b,x=v&&w||!v&&!w?r[0]:h[2],k=v&&w||!v&&!w?h[3]:r[1];e.addSegment(t,a,{x1:h[0],y1:h[1],x2:h[2],y2:h[3]}),e.addSegment(t,o,{r:f,x1:h[2],y1:h[3],x2:r[0],y2:r[1],cx:x,cy:k,ac:w})}else{var T=h[2]===h[0]?0:h[2]>h[0]?n.lw/2:-n.lw/2,$=h[3]===h[1]?0:h[3]>h[1]?n.lw/2:-n.lw/2;e.addSegment(t,a,{x1:h[0]-T,y1:h[1]-$,x2:h[2]+T,y2:h[3]+$})}h=r}null!=r&&e.addSegment(t,a,{x1:r[0],y1:r[1],x2:r[2],y2:r[3]})}t.Connectors.N8nCustom=i,s.extend(t.Connectors.N8nCustom,t.Connectors.AbstractConnector);const h={opposite:function(e,{axis:t,startStub:s,endStub:n,idx:a,midx:o,midy:i}){var r=e,l=r["is"+t.toUpperCase()+"GreaterThanStubTimes2"];return!l||1===r.so[a]&&s>n||-1===r.so[a]&&s<n?{x:[[s,i],[n,i]],y:[[o,s],[o,n]]}[t]:1===r.so[a]&&s<n||-1===r.so[a]&&s>n?{x:[[o,r.sy],[o,r.ty]],y:[[r.sx,i],[r.tx,i]]}[t]:void 0}},m={opposite:function(e,{axis:t,alwaysRespectStubs:s}){var n=e,a="x"===t?0:1,o={x:function(){return 1===n.so[a]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[a]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[a]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[a]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}};return!s&&o[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}};function g(e,{alwaysRespectStubs:t}){return m["opposite"](e,{axis:e.sourceAxis,alwaysRespectStubs:t})}function f(e,t,{midpoint:s,loopbackVerticalLength:n,loopbackMinimum:a}){const o=e.sourceAxis,i="x"===e.sourceAxis?0:1,r="x"===e.sourceAxis?1:0,l=t[i],c=t[r],d=t[i+2],u=t[r+2],p=e.endStubX-e.startStubX,m=e.endStubY-e.startStubY,g=-1;var f,w=e.startStubX+(e.endStubX-e.startStubX)*s;return f=m>=0||p<-1*a?e.startStubY-(p<0?g*n:0):e.startStubY+(e.endStubY-e.startStubY)*s,h["opposite"](e,{axis:o,startStub:l,otherStartStub:c,endStub:d,otherEndStub:u,idx:i,oidx:r,midx:w,midy:f})}function w(e,{targetGap:t,stub:a,overrideTargetEndpoint:o,getEndpointOffset:i}){let{targetPos:r,targetEndpoint:l}=e;o&&(r=o.anchor.getCurrentLocation(),l=o);const c=0;a=a||0;const d=s.isArray(a)?a[0]:a,u=s.isArray(a)?a[1]:a;var p=n.quadrant(e.sourcePos,r),h=r[0]<e.sourcePos[0],m=r[1]<e.sourcePos[1],g=e.strokeWidth||1,f=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),w=l.anchor.getOrientation(l),y=h?r[0]:e.sourcePos[0],b=m?r[1]:e.sourcePos[1],v=Math.abs(r[0]-e.sourcePos[0]),x=Math.abs(r[1]-e.sourcePos[1]);if(0===f[0]&&0===f[1]||0===w[0]&&0===w[1]){var k=v>x?0:1,T=[1,0][k];f=[],w=[],f[k]=e.sourcePos[k]>r[k]?-1:1,w[k]=e.sourcePos[k]>r[k]?1:-1,f[T]=0,w[T]=0}const $=h?v+c*f[0]:c*f[0],_=m?x+c*f[1]:c*f[1],C=h?t*w[0]:v+t*w[0],N=m?t*w[1]:x+t*w[1],E=f[0]*w[0]+f[1]*w[1],S=d+(i&&e.sourceEndpoint?i(e.sourceEndpoint):0),D=u+(i&&l?i(l):0);var I={sx:$,sy:_,tx:C,ty:N,lw:g,xSpan:Math.abs(C-$),ySpan:Math.abs(N-_),mx:($+C)/2,my:(_+N)/2,so:f,to:w,x:y,y:b,w:v,h:x,segment:p,startStubX:$+f[0]*S,startStubY:_+f[1]*S,endStubX:C+w[0]*D,endStubY:N+w[1]*D,isXGreaterThanStubTimes2:Math.abs($-C)>S+D,isYGreaterThanStubTimes2:Math.abs(_-N)>S+D,opposite:-1===E,perpendicular:0===E,orthogonal:1===E,sourceAxis:0===f[0]?"y":"x",points:[y,b,v,x,$,_,C,N],stubs:[S,D],anchorOrientation:"opposite",sourceEndpoint:e.sourceEndpoint,targetEndpoint:l,sourcePos:e.sourcePos,targetPos:l.anchor.getCurrentLocation(),targetGap:t};return I}}).call("undefined"!==typeof window?window:this)},3:function(e,t){},"306e":function(e,t,s){e.exports={container:"NodeCredentials_container_3XrKr",warning:"NodeCredentials_warning_1WyCw",edit:"NodeCredentials_edit_FmnDE",input:"NodeCredentials_input_3QAyJ",hasIssues:"NodeCredentials_hasIssues_2eibp NodeCredentials_input_3QAyJ"}},"30a6":function(e,t,s){},3210:function(e,t,s){"use strict";var n=s("3ccc"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},3429:function(e,t,s){"use strict";s("ff07")},3440:function(e,t,s){e.exports={"parameter-value-container":"CredentialsSelect_parameter-value-container_3EW9u"}},"34d1":function(e,t,s){"use strict";var n=s("22f9"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},3627:function(e,t,s){"use strict";var n=s("1b4c"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},3760:function(e,t,s){},"37c7":function(e,t,s){"use strict";var n=s("063a"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},3946:function(e,t,s){"use strict";s("dbd9")},"39ac":function(e,t,s){"use strict";s("5efa")},"39b9":function(e,t,s){"use strict";var n=s("21ac"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"3a23":function(e,t,s){"use strict";s("afef4")},"3a29":function(e,t,s){"use strict";var n=s("41c8"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"3af8":function(e,t,s){"use strict";var n=s("688e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"3bf7":function(e,t,s){"use strict";s("1bb2")},"3c2f":function(e,t,s){"use strict";s("886a")},"3c38":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"parameter-input-list-wrapper"},[e._l(e.filteredParameters,(function(t,n){return s("div",{key:t.name,class:{indent:e.indent}},[e.indexToShowSlotAt===n?e._t("default"):e._e(),!0===e.multipleValues(t)&&"fixedCollection"!==t.type?s("div",{staticClass:"parameter-item"},[s("multiple-parameter",{attrs:{parameter:t,values:e.getParameterValue(e.nodeValues,t.name,e.path),nodeValues:e.nodeValues,path:e.getPath(t.name)},on:{valueChanged:e.valueChanged}})],1):"notice"===t.type?s("n8n-notice",{staticClass:"parameter-item",attrs:{content:e.$locale.nodeText().inputLabelDisplayName(t,e.path)},on:{action:e.onNoticeAction}}):["collection","fixedCollection"].includes(t.type)?s("div",{staticClass:"multi-parameter"},[!0===e.hideDelete||e.isReadOnly?e._e():s("div",{staticClass:"delete-option clickable",attrs:{title:e.$locale.baseText("parameterInputList.delete")}},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("parameterInputList.parameterOptions")},on:{click:function(s){return e.deleteOption(t.name)}}})],1),s("n8n-input-label",{attrs:{label:e.$locale.nodeText().inputLabelDisplayName(t,e.path),tooltipText:e.$locale.nodeText().inputLabelDescription(t,e.path),size:"small",underline:!0}}),"collection"===t.type?s("collection-parameter",{attrs:{parameter:t,values:e.getParameterValue(e.nodeValues,t.name,e.path),nodeValues:e.nodeValues,path:e.getPath(t.name)},on:{valueChanged:e.valueChanged}}):"fixedCollection"===t.type?s("fixed-collection-parameter",{attrs:{parameter:t,values:e.getParameterValue(e.nodeValues,t.name,e.path),nodeValues:e.nodeValues,path:e.getPath(t.name)},on:{valueChanged:e.valueChanged}}):e._e()],1):e.displayNodeParameter(t)?s("div",{staticClass:"parameter-item"},[!0===e.hideDelete||e.isReadOnly?e._e():s("div",{staticClass:"delete-option clickable",attrs:{title:e.$locale.baseText("parameterInputList.delete")}},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("parameterInputList.deleteParameter")},on:{click:function(s){return e.deleteOption(t.name)}}})],1),s("parameter-input-full",{attrs:{parameter:t,value:e.getParameterValue(e.nodeValues,t.name,e.path),displayOptions:!0,path:e.getPath(t.name),isReadOnly:e.isReadOnly},on:{valueChanged:e.valueChanged}})],1):e._e()],2)})),0===e.filteredParameters.length?s("div",{class:{indent:e.indent}},[e._t("default")],2):e._e()],2)},a=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"duplicate-parameter",on:{keydown:function(e){e.stopPropagation()}}},[s("n8n-input-label",{attrs:{label:e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path),tooltipText:e.$locale.nodeText().inputLabelDescription(e.parameter,e.path),underline:!0,size:"small"}}),e._l(e.values,(function(t,n){return s("div",{key:n,staticClass:"duplicate-parameter-item",class:e.parameter.type},[e.isReadOnly?e._e():s("div",{staticClass:"delete-item clickable"},[s("font-awesome-icon",{attrs:{icon:"trash",title:e.$locale.baseText("multipleParameter.deleteItem")},on:{click:function(t){return e.deleteItem(n)}}}),e.sortable?s("div",[0!==n?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-up",title:e.$locale.baseText("multipleParameter.moveUp")},on:{click:function(t){return e.moveOptionUp(n)}}}):e._e(),n!==e.values.length-1?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-down",title:e.$locale.baseText("multipleParameter.moveDown")},on:{click:function(t){return e.moveOptionDown(n)}}}):e._e()],1):e._e()],1),"collection"===e.parameter.type?s("div",[s("collection-parameter",{attrs:{parameter:e.parameter,values:t,nodeValues:e.nodeValues,path:e.getPath(n),hideDelete:e.hideDelete},on:{valueChanged:e.valueChanged}})],1):s("div",[s("parameter-input-full",{staticClass:"duplicate-parameter-input-item",attrs:{parameter:e.parameter,value:t,displayOptions:!0,hideLabel:!0,path:e.getPath(n),inputSize:"small",isReadOnly:e.isReadOnly},on:{valueChanged:e.valueChanged}})],1)])})),s("div",{staticClass:"add-item-wrapper"},[e.values&&0===Object.keys(e.values).length||e.isReadOnly?s("div",{staticClass:"no-items-exist"},[s("n8n-text",{attrs:{size:"small"}},[e._v(e._s(e.$locale.baseText("multipleParameter.currentlyNoItemsExist")))])],1):e._e(),e.isReadOnly?e._e():s("n8n-button",{attrs:{type:"tertiary",block:"",label:e.addButtonText},on:{click:function(t){return e.addItem()}}})],1)],2)},i=[],r=s("3eb9"),l=s("4a0c"),c=s("9ec3"),d=s("4971"),u=s("aaf5"),p=Object(u["a"])(d["a"]).extend({name:"MultipleParameter",components:{CollectionParameter:r["default"],ParameterInputFull:l["a"]},props:["nodeValues","parameter","path","values"],computed:{addButtonText(){return!this.parameter.typeOptions||this.parameter.typeOptions&&!this.parameter.typeOptions.multipleValueButtonText?this.$locale.baseText("multipleParameter.addItem"):this.$locale.nodeText().multipleValueButtonText(this.parameter)},hideDelete(){return 1===this.parameter.options.length},sortable(){return this.parameter.typeOptions&&this.parameter.typeOptions.sortable}},methods:{addItem(){const e=this.getPath();let t=Object(c["get"])(this.nodeValues,e);void 0===t&&(t=[]),t.push(JSON.parse(JSON.stringify(this.parameter.default)));const s={name:e,value:t};this.$emit("valueChanged",s)},deleteItem(e){const t={name:this.getPath(e),value:void 0};this.$emit("valueChanged",t)},getPath(e){return this.path+(void 0!==e?`[${e}]`:"")},moveOptionDown(e){this.values.splice(e+1,0,this.values.splice(e,1)[0]);const t={name:this.path,value:this.values};this.$emit("valueChanged",t)},moveOptionUp(e){this.values.splice(e-1,0,this.values.splice(e,1)[0]);const t={name:this.path,value:this.values};this.$emit("valueChanged",t)},valueChanged(e){this.$emit("valueChanged",e)}}}),h=p,m=(s("430e8"),s("c324"),s("2be6")),g=Object(m["a"])(h,o,i,!1,null,"1f384c1c",null),f=g.exports,w=s("d2e2"),y=Object(u["a"])(d["a"],w["a"]).extend({name:"ParameterInputList",components:{MultipleParameter:f,ParameterInputFull:l["a"]},props:["nodeValues","parameters","path","hideDelete","indent"],computed:{filteredParameters(){return this.parameters.filter(e=>this.displayNodeParameter(e))},filteredParameterNames(){return this.filteredParameters.map(e=>e.name)},node(){return this.$store.getters.activeNode},indexToShowSlotAt(){let e=0;const t=this.getCredentialsDependencies();return this.filteredParameters.forEach((s,n)=>{t.has(s.name)&&(e=n+1)}),e<this.filteredParameters.length?e:this.filteredParameters.length-1}},methods:{getCredentialsDependencies(){const e=new Set,t=this.$store.getters["nodeTypes/getNodeType"](this.node.type,this.node.typeVersion);if(t&&t.credentials)for(const s of t.credentials)s.displayOptions&&s.displayOptions.show&&Object.keys(s.displayOptions.show).forEach(t=>e.add(t));return e},multipleValues(e){return!0===this.getArgument("multipleValues",e)},getArgument(e,t){if(void 0!==t.typeOptions&&void 0!==t.typeOptions[e])return t.typeOptions[e]},getPath(e){return(this.path?this.path+".":"")+e},deleteOption(e){const t={name:this.getPath(e),value:void 0};this.$emit("valueChanged",t)},mustHideDuringCustomApiCall(e,t){if(e&&e.displayOptions&&e.displayOptions.hide)return!0;const s=["authentication","resource","operation",...Object.keys(t)];return!s.includes(e.name)},displayNodeParameter(e){if("hidden"===e.type)return!1;if(this.isCustomApiCallSelected(this.nodeValues)&&this.mustHideDuringCustomApiCall(e,this.nodeValues))return!1;if(void 0===e.displayOptions)return!0;const t={};let s=this.nodeValues;this.path&&(s=Object(c["get"])(this.nodeValues,this.path));const n=Object.keys(s);let a,o=0,i=!1;do{if(a=n.shift(),"string"===typeof s[a]&&"="===s[a].charAt(0)){if(s[a].includes("$parameter")&&n.some(e=>s[a].includes(e))){n.push(a);continue}try{t[a]=this.resolveExpression(s[a],t)}catch(r){t[a]=""}i=!0}else t[a]=s[a];if(o++>50)break}while(0!==n.length);return!0===i?this.path?(s=JSON.parse(JSON.stringify(this.nodeValues)),Object(c["set"])(s,this.path,t),this.displayParameter(s,e,this.path,this.node)):this.displayParameter(t,e,"",this.node):this.displayParameter(this.nodeValues,e,this.path,this.node)},valueChanged(e){this.$emit("valueChanged",e)},onNoticeAction(e){"activate"===e&&this.$emit("activate")}},watch:{filteredParameterNames(e,t){if(void 0!==e)for(const s of t)if(!e.includes(s)){const e={name:`${this.path}.${s}`,node:this.$store.getters.activeNode.name,value:void 0};this.$emit("valueChanged",e)}}},beforeCreate:function(){this.$options.components.FixedCollectionParameter=s("fe0b").default,this.$options.components.CollectionParameter=s("3eb9").default}}),b=y,v=(s("eb25"),Object(m["a"])(b,n,a,!1,null,null,null));t["default"]=v.exports},"3c89":function(e,t,s){e.exports={titleSection:"InputPanel_titleSection_rrL_I",noOutputData:"InputPanel_noOutputData_1R9vZ",notConnected:"InputPanel_notConnected_2M0Uw",title:"InputPanel_title_3AON9"}},"3ccc":function(e,t,s){e.exports={wrapper:"LoadingView_wrapper_1cp4c",spinner:"LoadingView_spinner_Fc75O"}},"3e6e":function(e,t,s){"use strict";var n=s("8da0"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"3eb9":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collection-parameter",on:{keydown:function(e){e.stopPropagation()}}},[s("div",{staticClass:"collection-parameter-wrapper"},[0===e.getProperties.length?s("div",{staticClass:"no-items-exist"},[s("n8n-text",{attrs:{size:"small"}},[e._v(e._s(e.$locale.baseText("collectionParameter.noProperties")))])],1):e._e(),s("parameter-input-list",{attrs:{parameters:e.getProperties,nodeValues:e.nodeValues,path:e.path,hideDelete:e.hideDelete,indent:!0},on:{valueChanged:e.valueChanged}}),e.parameterOptions.length>0&&!e.isReadOnly?s("div",{staticClass:"param-options"},[1===e.parameter.options.length?s("n8n-button",{attrs:{type:"tertiary",block:"",label:e.getPlaceholderText},on:{click:function(t){return e.optionSelected(e.parameter.options[0].name)}}}):s("div",{staticClass:"add-option"},[s("n8n-select",{attrs:{placeholder:e.getPlaceholderText,size:"small",filterable:""},on:{change:e.optionSelected},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}},e._l(e.parameterOptions,(function(t){return s("n8n-option",{key:t.name,attrs:{label:e.$locale.nodeText().collectionOptionDisplayName(e.parameter,t,e.path),value:t.name}})})),1)],1)],1):e._e()],1)])},a=[],o=s("4971"),i=s("6fae"),r=s("9ec3"),l=s("aaf5"),c=Object(l["a"])(o["a"],i["a"]).extend({name:"CollectionParameter",props:["hideDelete","nodeValues","parameter","path","values"],data(){return{selectedOption:void 0}},computed:{getPlaceholderText(){const e=this.$locale.nodeText().placeholder(this.parameter,this.path);return e||this.$locale.baseText("collectionParameter.choose")},getProperties(){const e=[];let t;for(const s of this.propertyNames)t=this.getOptionProperties(s),void 0!==t&&e.push(...t);return e},filteredOptions(){return this.parameter.options.filter(e=>this.displayNodeParameter(e))},node(){return this.$store.getters.activeNode},parameterOptions(){return this.filteredOptions.filter(e=>!this.propertyNames.includes(e.name))},propertyNames(){return this.values?Object.keys(this.values):[]}},methods:{getArgument(e){if(void 0!==this.parameter.typeOptions&&void 0!==this.parameter.typeOptions[e])return this.parameter.typeOptions[e]},getOptionProperties(e){const t=[];for(const s of this.parameter.options)s.name===e&&t.push(s);return t},displayNodeParameter(e){return void 0===e.displayOptions||this.displayParameter(this.nodeValues,e,this.path,this.node)},optionSelected(e){const t=this.getOptionProperties(e);if(0===t.length)return;const s=t[0],n=`${this.path}.${s.name}`;let a;if(void 0!==s.typeOptions&&!0===s.typeOptions.multipleValues){let t;"fixedCollection"===s.type?t=Object(r["get"])(this.nodeValues,`${this.path}.${e}`,{}):(t=Object(r["get"])(this.nodeValues,`${this.path}.${e}`,[]),t.push(JSON.parse(JSON.stringify(s.default)))),a={name:n,value:t}}else a={name:n,value:JSON.parse(JSON.stringify(s.default))};this.$emit("valueChanged",a),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}},beforeCreate:function(){this.$options.components.ParameterInputList=s("3c38").default}}),d=c,u=(s("d8f7"),s("2be6")),p=Object(u["a"])(d,n,a,!1,null,null,null);t["default"]=p.exports},"3f0a":function(e,t,s){e.exports={icon:"WarningTooltip_icon_1TAzy"}},"3fc3":function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return h})),s.d(t,"f",(function(){return m})),s.d(t,"g",(function(){return g})),s.d(t,"h",(function(){return f})),s.d(t,"i",(function(){return w})),s.d(t,"e",(function(){return y})),s.d(t,"d",(function(){return b})),s.d(t,"o",(function(){return v})),s.d(t,"m",(function(){return x})),s.d(t,"l",(function(){return k})),s.d(t,"q",(function(){return T})),s.d(t,"k",(function(){return $})),s.d(t,"p",(function(){return _})),s.d(t,"j",(function(){return C})),s.d(t,"n",(function(){return N}));var n=s("85ee"),a=s("5b39"),o=s("e5bf"),i=s.n(o);const r=["API","OAuth1","OAuth2"],l=["Trigger"],c=["","k","M","G","T","P","E"],d=/(@\w+\/)?n8n-nodes-(?!base\b)\b\w+/g;function u(e){const t=Math.log10(Math.abs(e))/3|0;if(0===t)return e;const s=c[t],n=Math.pow(10,3*t),a=e/n;return Number(a.toFixed(1))+s}function p(e){return i()(e,"yyyy-mm-dd HH:MM:ss")}function h(e){return i()(e,"d mmmm, yyyy @ HH:MM Z")}function m(e){return e.split(" ").filter(e=>!r.includes(e)).join(" ")}function g(e){return e.split(" ").filter(e=>!l.includes(e)).join(" ")}function f(e){const t=getComputedStyle(document.body);return t.getPropertyValue(e)}function w(e){return e.displayName.replace(/ trigger/i,"")}function y(e){return e.filter(e=>!e.disabled&&e.type!==n["db"])}function b(e){const t=e.filter(e=>!(e.categories||[]).some(e=>e.name===n["E"])),s=t.length>0?t:e;return s.filter(e=>!n["hd"].includes(e.name))}function v(e){window.document.title=e}function x(e){return"string"===typeof e}function k(e){return"number"===typeof e}function T(e){return void 0===e?0:new Blob(["string"===typeof e?e:JSON.stringify(e)]).size}function $(e){d.lastIndex=0;const t=d.exec(e);return!!t}function _(e,t,s){if(e.length<=t)return e;const n=e.slice(0,t-s),a=e.slice(e.length-s,e.length);return`${n}...${a}`}function C(e){return"string"===typeof e&&!!n["Mb"].find(t=>e.includes(t))}function N(e,t){return!0!==e.noDataExpression&&("string"===typeof t&&"="===t.charAt(0)||!(!Object(a["a"])(t)||!t.value||"="!==t.value.toString().charAt(0)))}},4:function(e,t,s){e.exports=s("cd49")},4167:function(e,t,s){"use strict";var n=s("f583"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"41c8":function(e,t,s){e.exports={category:"CategoryItem_category_2Mn3E",name:"CategoryItem_name_3wwGu",arrow:"CategoryItem_arrow_YtIA6"}},"41d1":function(e,t,s){e.exports={center:"Modal_center_1ZYW-",loader:"Modal_loader_20wFp",centerTitle:"Modal_centerTitle_heY04",subtitle:"Modal_subtitle_1IJpA",footer:"Modal_footer_novnQ"}},"421c":function(e,t,s){},4260:function(e,t,s){e.exports={xlarge:"Icon_xlarge_15_oQ",large:"Icon_large_3ORdi",medium:"Icon_medium_k9Deh",small:"Icon_small_3X4Z7",xsmall:"Icon_xsmall_31St_"}},"426e":function(e,t,s){"use strict";s("77e5")},"42b9":function(e,t,s){"use strict";var n=s("1570"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"42ee":function(e,t,s){"use strict";var n=s("4555"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"430e":function(e,t,s){},"430e8":function(e,t,s){"use strict";s("551b")},4529:function(e,t,s){e.exports={container:"ErrorView_container_2riHC",icon:"ErrorView_icon_22kv0",message:"ErrorView_message_3IG13"}},4555:function(e,t,s){e.exports={container:"TriggerPanel_container_3yzKf",header:"TriggerPanel_header_3jVlc",action:"TriggerPanel_action_1eUnO",shake:"TriggerPanel_shake_2Acyy",accordion:"TriggerPanel_accordion_2hJN3"}},"468c":function(e,t,s){"use strict";s("0355")},4705:function(e,t,s){"use strict";s("a125")},4772:function(e,t,s){e.exports={icons:"TemplateDetails_icons_1Z2jq",icon:"TemplateDetails_icon_-Jon6",text:"TemplateDetails_text_i3TYF"}},4786:function(e,t,s){"use strict";s("50d6")},4827:function(e,t,s){var n={"./en":"ff71","./en.js":"ff71"};function a(e){var t=o(e);return s(t)}function o(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id="4827"},4971:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("77f0"),a=s("85ee"),o=s("aaf5");const i=Object(o["a"])(n["a"]).extend({data(){return{loadingService:null}},computed:{isReadOnly(){return![a["ud"].WORKFLOW,a["ud"].NEW_WORKFLOW].includes(this.$route.name)}},methods:{displayTimer(e,t=!1){if(e<6e4)return!1===t?`${Math.floor(e/1e3)} ${this.$locale.baseText("genericHelpers.sec")}`:`${e/1e3} ${this.$locale.baseText("genericHelpers.sec")}`;const s=Math.floor(e/1e3),n=Math.floor(s/60),a=(s-60*n).toString().padStart(2,"0");return`${n}:${a} ${this.$locale.baseText("genericHelpers.min")}`},editAllowedCheck(){return!this.isReadOnly||(this.$showMessage({title:this.$locale.baseText("genericHelpers.showMessage.title"),message:this.$locale.baseText("genericHelpers.showMessage.message"),type:"error",duration:0}),!1)},startLoading(e){null===this.loadingService&&(this.loadingService=this.$loading({lock:!0,text:e||this.$locale.baseText("genericHelpers.loading"),spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.8)"}))},setLoadingText(e){this.loadingService.text=e},stopLoading(){null!==this.loadingService&&(this.loadingService.close(),this.loadingService=null)}}})},"497a":function(e,t,s){},"498d":function(e,t,s){"use strict";var n=s("1765"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"4a0c":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-input-label",{attrs:{label:e.hideLabel?"":e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path),tooltipText:e.hideLabel?"":e.$locale.nodeText().inputLabelDescription(e.parameter,e.path),showTooltip:e.focused,showOptions:e.menuExpanded||e.focused||e.forceShowExpression,bold:!1,size:"small"},scopedSlots:e._u([{key:"options",fn:function(){return[s("parameter-options",{attrs:{parameter:e.parameter,value:e.value,isReadOnly:e.isReadOnly,showOptions:e.displayOptions,showExpressionSelector:e.showExpressionSelector},on:{optionSelected:e.optionSelected,"menu-expanded":e.onMenuExpanded}})]},proxy:!0}])},[[s("draggable-target",{attrs:{type:"mapping",disabled:e.isDropDisabled,sticky:!0,stickyOffset:4},on:{drop:e.onDrop},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.droppable,a=t.activeDrop;return[s("parameter-input",{ref:"param",attrs:{parameter:e.parameter,value:e.value,displayOptions:e.displayOptions,path:e.path,isReadOnly:e.isReadOnly,droppable:n,activeDrop:a,forceShowExpression:e.forceShowExpression,inputSize:"small"},on:{valueChanged:e.valueChanged,focus:e.onFocus,blur:e.onBlur,drop:e.onDrop}})]}}])}),s("input-hint",{class:e.$style.hint,attrs:{hint:e.$locale.nodeText().hint(e.parameter,e.path)}})]],2)},a=[],o=s("89e8"),i=s("56d1"),r=s("ad7d"),l=s("5f31"),c=s("aaf5"),d=s("77f0"),u=s("85ee"),p=s("3fc3"),h=s("d7d2"),m=s("5b39"),g=Object(c["a"])(d["a"]).extend({name:"parameter-input-full",components:{ParameterInput:o["a"],InputHint:i["a"],ParameterOptions:r["a"],DraggableTarget:l["a"]},data(){return{focused:!1,menuExpanded:!1,forceShowExpression:!1}},props:["displayOptions","isReadOnly","parameter","path","value","hideLabel"],computed:{node(){return this.$store.getters.activeNode},isResourceLocator(){return"resourceLocator"===this.parameter.type},isDropDisabled(){return this.parameter.noDataExpression||this.isReadOnly||this.isResourceLocator},showExpressionSelector(){return!this.isResourceLocator||!Object(h["a"])(this.parameter)}},methods:{onFocus(){this.focused=!0,this.parameter.noDataExpression||this.$store.commit("ui/setMappableNDVInputFocus",this.parameter.displayName)},onBlur(){this.focused=!1,this.parameter.noDataExpression||this.$store.commit("ui/setMappableNDVInputFocus","")},onMenuExpanded(e){this.menuExpanded=e},optionSelected(e){this.$refs.param&&this.$refs.param.$emit("optionSelected",e)},valueChanged(e){this.$emit("valueChanged",e)},onDrop(e){this.forceShowExpression=!0,setTimeout(()=>{if(this.node){const t=this.isResourceLocator?this.value.value:this.value;let s,n;if(s="string"===typeof t&&t.startsWith("=")&&t.length>1?`${t} ${e}`:"="+e,this.isResourceLocator)if(Object(m["a"])(this.value))if("list"===this.value.mode&&this.parameter.modes&&this.parameter.modes.length>1){let e=this.parameter.modes.find(e=>"id"===e.name)||null;e||(e=this.parameter.modes.filter(e=>"list"!==e.name)[0]),n={node:this.node.name,name:this.path,value:{__rl:!0,value:s,mode:e?e.name:""}}}else n={node:this.node.name,name:this.path,value:{__rl:!0,value:s,mode:this.value.mode}};else n={node:this.node.name,name:this.path,value:{__rl:!0,value:s,mode:""}};else n={node:this.node.name,name:this.path,value:s};this.$emit("valueChanged",n),"true"!==window.localStorage.getItem(u["Hb"])&&(this.$showMessage({title:this.$locale.baseText("dataMapping.success.title"),message:this.$locale.baseText("dataMapping.success.moreInfo"),type:"success"}),window.localStorage.setItem(u["Hb"],"true")),this.$store.commit("ui/setMappingTelemetry",{dest_node_type:this.node.type,dest_parameter:this.path,dest_parameter_mode:"string"===typeof t&&t.startsWith("=")?"expression":"fixed",dest_parameter_empty:""===t||void 0===t,dest_parameter_had_mapping:"string"===typeof t&&t.startsWith("=")&&Object(p["j"])(t),success:!0})}this.forceShowExpression=!1},200)}}}),f=g,w=s("2721"),y=s("2be6");function b(e){this["$style"]=w["default"].locals||w["default"]}var v=Object(y["a"])(f,n,a,!1,b,null,null);t["a"]=v.exports},"4be3":function(e,t,s){"use strict";var n=s("e97f"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"4ebb":function(e,t,s){"use strict";var n=s("9fe3"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"4fff":function(e,t,s){"use strict";var n=s("88c3"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},5:function(e,t){},"50d6":function(e,t,s){},"50dc":function(e,t,s){e.exports={container:"SettingsApiView_container_2kCiJ",header:"SettingsApiView_header_1G_Hm",card:"SettingsApiView_card_1WlvF",delete:"SettingsApiView_delete_BW1Em",hint:"SettingsApiView_hint_1YauX"}},"51c2":function(e,t,s){"use strict";s("c8c2")},"51db":function(e,t,s){},5346:function(e,t,s){e.exports={spaced:"ActivationModal_spaced_ySnce",footer:"ActivationModal_footer_1NjvV"}},5496:function(e,t,s){},"551b":function(e,t,s){},5572:function(e,t,s){},"56a4":function(e,t,s){"use strict";var n=s("a1ce"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"56d1":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.hint?s("n8n-text",{attrs:{size:"xsmall",color:"text-base"}},[s("div",{ref:"hint",domProps:{innerHTML:e._s(e.hint)}})]):e._e()],1)},a=[],o=s("9869"),i=o["default"].extend({name:"InputHint",props:["hint"],mounted(){this.$refs.hint&&this.$refs.hint.querySelectorAll("a").forEach(e=>e.target="_blank")}}),r=i,l=s("2be6"),c=Object(l["a"])(r,n,a,!1,null,null,null);t["a"]=c.exports},5754:function(e,t,s){},"57e6":function(e,t,s){e.exports={container:"SaveButton_container_3azMz",button:"SaveButton_button_rttKB",saved:"SaveButton_saved_1pOW9"}},"581b":function(e,t,s){"use strict";var n=s("f88b"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"586f":function(e,t,s){e.exports={icon:"Banner_icon_-91Jn",dangerIcon:"Banner_dangerIcon_3HO5q Banner_icon_-91Jn",container:"Banner_container_8nqa5",message:"Banner_message_3I2eD",dangerMessage:"Banner_dangerMessage_HkF59 Banner_message_3I2eD",banner:"Banner_banner_2eGM6",content:"Banner_content_3IX8j",details:"Banner_details_zA4z4 Banner_message_3I2eD",moreDetails:"Banner_moreDetails_3wIFL"}},"593b":function(e,t,s){e.exports={credIcon:"CredentialIcon_credIcon_1-WO7",fallback:"CredentialIcon_fallback_5cZXD"}},5999:function(e,t,s){},"5abb":function(e,t,s){e.exports={card:"WorkflowCard_card_KfVUz",title:"WorkflowCard_title_pl_HO"}},"5b39":function(e,t,s){"use strict";function n(e){return Boolean("object"===typeof e&&e&&"mode"in e&&"value"in e)}s.d(t,"a",(function(){return n}))},"5c08":function(e,t,s){e.exports={header:"SettingsFakeDoorView_header_3N6do"}},"5cdf":function(e,t,s){"use strict";var n=s("bcf0"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"5d1a":function(e,t,s){"use strict";var n=s("f77e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"5d9d":function(e,t,s){e.exports={title:"CredentialsSelectModal_title_2cgg1",subtitle:"CredentialsSelectModal_subtitle_31FVi"}},"5da2":function(e,t,s){"use strict";var n=s("18a7"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"5dfa8":function(e,t,s){"use strict";s("b1fa")},"5e31":function(e,t,s){"use strict";s("f727")},"5efa":function(e,t,s){},"5f21":function(e,t,s){"use strict";var n=s("8567"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"5f31":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"target"},[e._t("default",null,{droppable:e.droppable,activeDrop:e.activeDrop})],2)},a=[],o=s("9869"),i=o["default"].extend({props:{type:{type:String},disabled:{type:Boolean},sticky:{type:Boolean},stickyOffset:{type:Number,default:0}},data(){return{hovering:!1}},mounted(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)},destroyed(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)},computed:{isDragging(){return this.$store.getters["ui/isDraggableDragging"]},draggableType(){return this.$store.getters["ui/draggableType"]},droppable(){return!this.disabled&&this.isDragging&&this.draggableType===this.type},activeDrop(){return this.droppable&&this.hovering}},methods:{onMouseMove(e){const t=this.$refs.target;if(t&&this.isDragging){const s=t.getBoundingClientRect();this.hovering=e.clientX>=s.left&&e.clientX<=s.right&&e.clientY>=s.top&&e.clientY<=s.bottom,!this.disabled&&this.sticky&&this.hovering&&this.$store.commit("ui/setDraggableStickyPos",[s.left+this.stickyOffset,s.top+this.stickyOffset])}},onMouseUp(e){if(this.activeDrop){const e=this.$store.getters["ui/draggableData"];this.$emit("drop",e)}}},watch:{activeDrop(e){this.$store.commit("ui/setDraggableCanDrop",e)}}}),r=i,l=s("2be6"),c=Object(l["a"])(r,n,a,!1,null,null,null);t["a"]=c.exports},6:function(e,t){},"60bb":function(e,t,s){"use strict";var n=s("95d1"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"60c9":function(e,t,s){e.exports={wrapper:"TemplatesWorkflowView_wrapper_T8MeN",notFound:"TemplatesWorkflowView_notFound_3u0Xl",title:"TemplatesWorkflowView_title_3ZQJm",button:"TemplatesWorkflowView_button_2CJm1",image:"TemplatesWorkflowView_image_3jvGb",content:"TemplatesWorkflowView_content_3oL2O",markdown:"TemplatesWorkflowView_markdown_3zsEX",details:"TemplatesWorkflowView_details_3IGT5"}},"60f6":function(e,t,s){"use strict";s("430e")},"611f":function(e,t,s){"use strict";var n=s("283d"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"61e9":function(e,t,s){"use strict";s("ed99")},6222:function(e,t,s){"use strict";var n=s("2667"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},6314:function(e,t,s){},6405:function(e,t,s){"use strict";var n=s("c5d6"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},6429:function(e,t,s){},"65b9":function(e,t,s){"use strict";s("ece1")},"688e":function(e,t,s){e.exports={badge:"Badge_badge_1XB27",danger:"Badge_danger_3sbTf Badge_badge_1XB27",warning:"Badge_warning_HhAe4 Badge_badge_1XB27"}},"690e":function(e,t,s){e.exports={titleSection:"OutputPanel_titleSection_1Dygh",title:"OutputPanel_title_2SPe7"}},"69a8":function(e,t,s){e.exports={list:"NodeList_list_2Ld2u",container:"NodeList_container_3V_64",sm:"NodeList_sm_2gZxa",md:"NodeList_md_2hc7u",button:"NodeList_button_PCSvt",buttonSm:"NodeList_buttonSm_1SwUo",buttonMd:"NodeList_buttonMd_9ArUO"}},"69b9":function(e,t,s){e.exports={container:"SettingsCommunityNodesView_container_Fp-DS",headingContainer:"SettingsCommunityNodesView_headingContainer_1vo5U",loadingContainer:"SettingsCommunityNodesView_loadingContainer_3HVX8",actionBoxContainer:"SettingsCommunityNodesView_actionBoxContainer_2W5X7",cardsContainer:"SettingsCommunityNodesView_cardsContainer_EImlZ"}},"6b38":function(e,t,s){},"6be7":function(e,t,s){"use strict";s("105c")},"6c1a":function(e,t,s){"use strict";var n=s("3c89"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"6ef9":function(e,t,s){},"6fae":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s("85ee"),a=s("ac96"),o=s("7b04"),i=s("9ec3"),r=s("aaf5"),l=s("9ce4"),c=s("7dda"),d=s("be18");const u=Object(r["a"])(o["a"]).extend({computed:{...Object(l["b"])("credentials",["getCredentialTypeByName","getCredentialsByType"])},methods:{hasProxyAuth(e){return Object.keys(e.parameters).includes("nodeCredentialType")},isCustomApiCallSelected(e){const{parameters:t}=e;return!!Object(c["b"])(t)&&(void 0!==t.resource&&t.resource.includes(n["L"])||void 0!==t.operation&&t.operation.includes(n["L"]))},getParameterValue(e,t,s){return Object(i["get"])(e,s?s+"."+t:t)},displayParameter(e,t,s,n){return a["NodeHelpers"].displayParameterPath(e,t,s,n)},getNodeIssues(e,t,s){const n=Object.keys(this.$store.getters.pinData||{});let o=null;if(s=s||[],!0===t.disabled||n.includes(t.name))return null;if(null===e)s.includes("typeUnknown")||(o={typeUnknown:!0});else if(s.includes("parameters")||(o=a["NodeHelpers"].getNodeParametersIssues(e.properties,t)),!s.includes("credentials")){const s=this.getNodeCredentialIssues(t,e);null===o?o=s:a["NodeHelpers"].mergeIssues(o,s)}return!0!==this.hasNodeExecutionIssues(t)||s.includes("execution")||(null===o&&(o={}),o.execution=!0),o},hasNodeExecutionIssues(e){const t=this.$store.getters.getWorkflowRunData;if(null===t||!t.hasOwnProperty(e.name))return!1;for(const s of t[e.name])if(void 0!==s.error)return!0;return!1},reportUnsetCredential(e){return{credentials:{[e.name]:[this.$locale.baseText("nodeHelpers.credentialsUnset",{interpolate:{credentialType:e.displayName}})]}}},updateNodesExecutionIssues(){const e=this.$store.getters.allNodes;for(const t of e)this.$store.commit("setNodeIssue",{node:t.name,type:"execution",value:!!this.hasNodeExecutionIssues(t)||null})},updateNodeCredentialIssues(e){const t=this.getNodeCredentialIssues(e);let s=null;null!==t&&(s=t.credentials),this.$store.commit("setNodeIssue",{node:e.name,type:"credentials",value:s})},updateNodeParameterIssues(e,t){if(void 0===t&&(t=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion)),null===t)return;const s=a["NodeHelpers"].getNodeParametersIssues(t.properties,e);let n=null;null!==s&&(n=s.parameters),this.$store.commit("setNodeIssue",{node:e.name,type:"parameters",value:n})},getNodeCredentialIssues(e,t){if(!0===e.disabled)return null;if(void 0===t&&(t=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion)),null===t||void 0===t.credentials)return null;if(void 0===t.credentials)return null;const s={};let a,o,i,r;const{authentication:l,genericAuthType:c,nodeCredentialType:u}=e.parameters;if("genericCredentialType"===l&&""!==c&&p(e,c)){const e=this.getCredentialTypeByName(c);return this.reportUnsetCredential(e)}if(this.hasProxyAuth(e)&&"predefinedCredentialType"===l&&""!==u&&void 0!==e.credentials){const t=this.getCredentialsByType(u);if(h(e,u,t)){const e=this.getCredentialTypeByName(u);return this.reportUnsetCredential(e)}}if(this.hasProxyAuth(e)&&"predefinedCredentialType"===l&&""!==u&&p(e,u)){const e=this.getCredentialTypeByName(u);return this.reportUnsetCredential(e)}for(const p of t.credentials)if(!0===this.displayParameter(e.parameters,p,"",e))if(o=this.$store.getters["credentials/getCredentialTypeByName"](p.name),i=null===o?p.name:o.displayName,void 0===e.credentials||void 0===e.credentials[p.name])!0===p.required&&(s[p.name]=[this.$locale.baseText("nodeIssues.credentials.notSet",{interpolate:{type:i}})]);else{if(r=e.credentials[p.name],"string"===typeof r&&(r={id:null,name:r}),a=this.$store.getters["credentials/getCredentialsByType"](p.name).filter(e=>{const t=Object(d["a"])(this.$store.getters["users/currentUser"],e,this.$store);return t.use}),null===a&&(a=[]),r.id){const e=a.find(e=>e.id===r.id);if(e)continue}const t=a.filter(e=>e.name===r.name);if(t.length>1){s[p.name]=[this.$locale.baseText("nodeIssues.credentials.notIdentified",{interpolate:{name:r.name,type:i}}),this.$locale.baseText("nodeIssues.credentials.notIdentified.hint")];continue}0===t.length&&(this.$store.getters["settings/isEnterpriseFeatureEnabled"](n["gb"].Sharing)?s[p.name]=[this.$locale.baseText("nodeIssues.credentials.notAvailable")]:s[p.name]=[this.$locale.baseText("nodeIssues.credentials.doNotExist",{interpolate:{name:r.name,type:i}}),this.$locale.baseText("nodeIssues.credentials.doNotExist.hint")])}return 0===Object.keys(s).length?null:{credentials:s}},updateNodesCredentialsIssues(){const e=this.$store.getters.allNodes;let t;for(const s of e)t=this.getNodeCredentialIssues(s),this.$store.commit("setNodeIssue",{node:s.name,type:"credentials",value:null===t?null:t.credentials})},getNodeInputData(e,t=0,s=0){if(null===e)return[];if(null===this.$store.getters.getWorkflowExecution)return[];const n=this.$store.getters.getWorkflowExecution.data;if(!n||!n.resultData)return[];const a=n.resultData.runData;return null!==a&&void 0!==a[e.name]&&a[e.name][t].data&&void 0!==a[e.name][t].data?this.getMainInputData(a[e.name][t].data,s):[]},getMainInputData(e,t){return!e||!e.hasOwnProperty("main")||void 0===e.main||e.main.length<t||null===e.main[t]?[]:e.main[t]},getBinaryData(e,t,s,n){if(null===t)return[];const a=e;if(null===a||!a[t]||!a[t][s]||!a[t][s].data)return[];const o=this.getMainInputData(a[t][s].data,n),i=[];for(let r=0;r<o.length;r++)o[r].hasOwnProperty("binary")&&void 0!==o[r].binary&&i.push(o[r].binary);return i},disableNodes(e){for(const t of e){const e={name:t.name,properties:{disabled:!t.disabled}};this.$telemetry.track("User set node enabled status",{node_type:t.type,is_enabled:t.disabled,workflow_id:this.$store.getters.workflowId}),this.$store.commit("updateNodeProperties",e),this.$store.commit("clearNodeExecutionData",t.name),this.updateNodeParameterIssues(t),this.updateNodeCredentialIssues(t)}},getNodeSubtitle(e,t,s){if(e){if(e.notesInFlow)return e.notes;if(null!==t&&void 0!==t.subtitle)return s.expression.getSimpleParameterValue(e,t.subtitle,"internal",n["Gc"]);if(void 0!==e.parameters.operation){const s=e.parameters.operation;if(null===t)return s;const n=t.properties.find(e=>"operation"===e.name);if(void 0===n)return s;if(void 0===n.options)return s;const a=n.options.find(t=>t.value===e.parameters.operation);return void 0===a?s:a.name}}}}});function p(e,t){return void 0===e.credentials||!1===Object.keys(e.credentials).includes(t)}function h(e,t,s){if(!e.credentials||!s)return!1;const n=e.credentials[t];return!!n&&!s.find(e=>e.id===n.id)}},7:function(e,t){},7212:function(e,t,s){"use strict";s("15eb")},"724e":function(e,t,s){e.exports={container:"CredentialInputs_container_9j1R7"}},"736a":function(e,t,s){"use strict";s("851e")},"73ab":function(e,t,s){"use strict";var n=s("afef"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"73b3":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("9ec3"),a=s("9869");const o=a["default"].extend({data(){return{debouncedFunctions:[]}},methods:{async callDebounced(...e){const t=e.shift(),{trailing:s,debounceTime:a}=e.shift();void 0===this.debouncedFunctions[t]&&(this.debouncedFunctions[t]=Object(n["debounce"])(this[t],a,s?{trailing:s}:{leading:!0})),await this.debouncedFunctions[t].apply(this,e)}}})},7459:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"code",staticClass:"text-editor ph-no-capture",on:{keydown:function(e){e.stopPropagation()}}})},a=[],o=s("9869"),i=s("6e0a"),r=o["default"].extend({props:{type:{type:String,default:"code"},readonly:{type:Boolean,default:!1},value:{type:String,default:""},autocomplete:{type:Function},options:{type:Object,default:()=>({})}},data(){return{monacoInstance:null,monacoLibrary:null}},methods:{loadEditor(){this.$refs.code&&(this.monacoInstance=i["editor"].create(this.$refs.code,{automaticLayout:!0,value:this.value,language:"code"===this.type?"javascript":"json",tabSize:2,wordBasedSuggestions:!1,readOnly:this.readonly,padding:{top:16},minimap:{enabled:!1},...this.options}),this.monacoInstance.onDidChangeModelContent(()=>{const e=this.monacoInstance.getModel();e&&this.$emit("input",e.getValue())}),i["editor"].defineTheme("n8nCustomTheme",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#f5f2f0"}}),i["editor"].setTheme("n8nCustomTheme"),"code"===this.type?(i["languages"].typescript.javascriptDefaults.setCompilerOptions({allowNonTsExtensions:!0}),this.autocomplete&&(this.monacoLibrary=i["languages"].typescript.javascriptDefaults.addExtraLib(this.autocomplete().join("\n")))):"json"===this.type&&i["languages"].json.jsonDefaults.setDiagnosticsOptions({validate:!0}))},handleResize(){this.monacoInstance&&this.monacoInstance.layout({})}},mounted(){setTimeout(this.loadEditor),window.addEventListener("resize",this.handleResize)},destroyed(){this.monacoLibrary&&this.monacoLibrary.dispose(),window.removeEventListener("resize",this.handleResize)}}),l=r,c=(s("9fc2"),s("2be6")),d=Object(c["a"])(l,n,a,!1,null,"9c3b486a",null),u=d.exports},7582:function(e,t,s){"use strict";var n=s("a317"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"75c2":function(e,t,s){},"77b5":function(e,t,s){},"77e5":function(e,t,s){},"77f0":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("aaf5"),a=s("debe"),o=s("7dda");let i=[];const r=Object(n["a"])(a["a"]).extend({methods:{$showMessage(e,t=!0){e.dangerouslyUseHTMLString=!0,e.message=e.message?Object(o["d"])(e.message):e.message,void 0===e.position&&(e.position="bottom-right");const s=this.$notify(e);return 0===e.duration&&i.push(s),"error"===e.type&&t&&this.$telemetry.track("Instance FE emitted error",{error_title:e.title,error_message:e.message,caused_by_credential:this.causedByCredential(e.message),workflow_id:this.$store.getters.workflowId}),s},$showToast(e){let t;if(e.closeOnClick){const s=e.onClick;e.onClick=()=>{t&&t.close(),s&&s()}}return t=this.$showMessage({title:e.title,message:e.message,onClick:e.onClick,onClose:e.onClose,duration:e.duration,customClass:e.customClass,type:e.type}),t},$showAlert(e){return this.$message(e)},$getExecutionError(e){let t="There was a problem executing the workflow!";if(e&&e.message){let s;e.node&&(s="string"===typeof e.node?e.node:e.node.name);const n=s?`${s}: ${e.message}`:e.message;t=`There was a problem executing the workflow:<br /><strong>"${n}"</strong>`}return t},$showError(e,t,s){const n=e,a=s?s+"<br/>":"";this.$showMessage({title:t,message:`\n\t\t\t\t\t${a}\n\t\t\t\t\t<i>${n.message}</i>\n\t\t\t\t\t${this.collapsableDetails(n)}`,type:"error",duration:0},!1),this.$externalHooks().run("showMessage.showError",{title:t,message:s,errorMessage:n.message}),this.$telemetry.track("Instance FE emitted error",{error_title:t,error_description:s,error_message:n.message,caused_by_credential:this.causedByCredential(n.message),workflow_id:this.$store.getters.workflowId})},async confirmMessage(e,t,s="warning",n,a){try{const i={confirmButtonText:n||this.$locale.baseText("showMessage.ok"),cancelButtonText:a||this.$locale.baseText("showMessage.cancel"),dangerouslyUseHTMLString:!0,...s&&{type:s}},r=Object(o["d"])(e);return await this.$confirm(r,t,i),!0}catch(i){return!1}},async confirmModal(e,t,s="warning",n,a,i=!1){try{const r={confirmButtonText:n||this.$locale.baseText("showMessage.ok"),cancelButtonText:a||this.$locale.baseText("showMessage.cancel"),dangerouslyUseHTMLString:!0,showClose:i,...s&&{type:s}},l=Object(o["d"])(e);return await this.$confirm(l,t,r),"confirmed"}catch(r){return r}},clearAllStickyNotifications(){i.map(e=>{e&&e.close()}),i=[]},collapsableDetails({description:e,node:t}){if(!e)return"";const s=e.length>500?e.slice(0,500)+"...":e;return`\n\t\t\t\t<br>\n\t\t\t\t<br>\n\t\t\t\t<details>\n\t\t\t\t\t<summary\n\t\t\t\t\t\tstyle="color: #ff6d5a; font-weight: bold; cursor: pointer;"\n\t\t\t\t\t>\n\t\t\t\t\t\t${this.$locale.baseText("showMessage.showDetails")}\n\t\t\t\t\t</summary>\n\t\t\t\t\t<p>${t.name}: ${s}</p>\n\t\t\t\t</details>\n\t\t\t`},causedByCredential(e){return!!e&&(e.includes("Credentials for")&&e.includes("are not set"))}}})},"78bc":function(e,t,s){"use strict";var n=s("586f"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"798e":function(e,t,s){e.exports={img:"Logo_img_mbfaq"}},"7ab9":function(e,t,s){e.exports={modalBackground:"NodeDetailsView_modalBackground_3EVtf",triggerWarning:"NodeDetailsView_triggerWarning_36STb",backToCanvas:"NodeDetailsView_backToCanvas_31M1l",featureRequest:"NodeDetailsView_featureRequest_3_Dqw"}},"7b04":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("9869"),a=s("2f01"),o=s("a185");function i(e){const t={...e,workflowData:e.workflowData,data:Object(a["a"])(e.data)};return t.finished=!!t.finished&&t.finished,e.id&&(t.id=e.id),t}const r=n["default"].extend({methods:{restApi(){const e=this;return{async makeRestApiRequest(t,s,n){return Object(o["b"])(e.$store.getters.getRestApiContext,t,s,n)},getActiveWorkflows:()=>e.restApi().makeRestApiRequest("GET","/active"),getActivationError:t=>e.restApi().makeRestApiRequest("GET","/active/error/"+t),getCurrentExecutions:t=>{let s={};return t&&(s={filter:t}),e.restApi().makeRestApiRequest("GET","/executions-current",s)},stopCurrentExecution:t=>e.restApi().makeRestApiRequest("POST",`/executions-current/${t}/stop`),getCredentialTranslation:t=>e.restApi().makeRestApiRequest("GET","/credential-translation",{credentialType:t}),removeTestWebhook:t=>e.restApi().makeRestApiRequest("DELETE","/test-webhook/"+t),runWorkflow:async t=>e.restApi().makeRestApiRequest("POST","/workflows/run",t),createNewWorkflow:t=>e.restApi().makeRestApiRequest("POST","/workflows",t),updateWorkflow:(t,s)=>e.restApi().makeRestApiRequest("PATCH","/workflows/"+t,s),deleteWorkflow:t=>e.restApi().makeRestApiRequest("DELETE","/workflows/"+t),getWorkflow:t=>e.restApi().makeRestApiRequest("GET","/workflows/"+t),getWorkflows:t=>{let s;return t&&(s={filter:t}),e.restApi().makeRestApiRequest("GET","/workflows",s)},getWorkflowFromUrl:t=>e.restApi().makeRestApiRequest("GET","/workflows/from-url",{url:t}),getExecution:async t=>{const s=await e.restApi().makeRestApiRequest("GET","/executions/"+t);return i(s)},deleteExecutions:t=>e.restApi().makeRestApiRequest("POST","/executions/delete",t),retryExecution:(t,s)=>{let n;return!0===s&&(n={loadWorkflow:!0}),e.restApi().makeRestApiRequest("POST",`/executions/${t}/retry`,n)},getPastExecutions:(t,s,n,a)=>{let o={};return t&&(o={filter:t,firstId:a,lastId:n,limit:s}),e.restApi().makeRestApiRequest("GET","/executions",o)},getTimezones:()=>e.restApi().makeRestApiRequest("GET","/options/timezones"),getBinaryBufferString:t=>e.restApi().makeRestApiRequest("GET","/data/"+t)}}}})},"7b20":function(e,t,s){"use strict";var n=s("aea8"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"7bf4":function(e,t,s){e.exports={wrapper:"TemplatesSearchView_wrapper_1BkTj",contentWrapper:"TemplatesSearchView_contentWrapper_3Nw-V",filters:"TemplatesSearchView_filters_3yeSo",search:"TemplatesSearchView_search_3oH6_",header:"TemplatesSearchView_header_2JgDP"}},"7d3f":function(e,t,s){},"7dda":function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return r})),s.d(t,"d",(function(){return l}));var n=s("b53c"),a=s.n(n);const o=(e,{[e]:t,...s})=>s;function i(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}function r(e){return!!i(e)&&Object.keys(e).includes("json")}function l(e){const t=["href","name","target","title","class","id"],s=["p","strong","b","code","a","br","i","em","small"],o=a()(e,{onTagAttr:(e,s,a)=>{if("img"===e&&"src"===s){const e=null!==a.split("#")[0].match(/\.(jpeg|jpg|gif|png|webp)$/),t=e&&a.startsWith("/static/");if(!a.startsWith("https://")&&!t)return""}if(t.includes(s)||s.startsWith("data-"))return`${s}="${Object(n["friendlyAttrValue"])(a)}"`},onTag:e=>{if(!s.includes(e))return""}});return o}},"7f4a":function(e,t,s){"use strict";s("6ef9")},8041:function(e,t,s){e.exports={block:"TemplateDetailsBlock_block_3Einu",header:"TemplateDetailsBlock_header_1jGTb",content:"TemplateDetailsBlock_content_2oAQg"}},8094:function(e,t,s){},8116:function(e,t,s){"use strict";s("c1be")},8133:function(e,t,s){"use strict";var n=s("7ab9"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},8267:function(e,t,s){"use strict";s("95e3")},8288:function(e,t,s){"use strict";var n=s("60c9"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"82a7":function(e,t,s){"use strict";var n=s("e3ff"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"83e7":function(e,t,s){"use strict";s("e89f")},8488:function(e,t,s){var n={"./en.json":"eccd"};function a(e){var t=o(e);return s(t)}function o(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id="8488"},"84bb":function(e,t,s){"use strict";s("cfae")},"851e":function(e,t,s){},8567:function(e,t,s){e.exports={googleIcon:"OauthButton_googleIcon_PnF58"}},"85ee":function(e,t,s){"use strict";s.d(t,"ac",(function(){return n})),s.d(t,"Wb",(function(){return a})),s.d(t,"Xb",(function(){return o})),s.d(t,"Gc",(function(){return i})),s.d(t,"L",(function(){return r})),s.d(t,"Fc",(function(){return l})),s.d(t,"R",(function(){return c})),s.d(t,"Q",(function(){return d})),s.d(t,"Zb",(function(){return u})),s.d(t,"X",(function(){return p})),s.d(t,"kc",(function(){return h})),s.d(t,"Kc",(function(){return m})),s.d(t,"Yb",(function(){return g})),s.d(t,"a",(function(){return f})),s.d(t,"l",(function(){return w})),s.d(t,"F",(function(){return y})),s.d(t,"H",(function(){return b})),s.d(t,"U",(function(){return v})),s.d(t,"yb",(function(){return x})),s.d(t,"W",(function(){return k})),s.d(t,"fd",(function(){return T})),s.d(t,"Ad",(function(){return $})),s.d(t,"td",(function(){return _})),s.d(t,"Bd",(function(){return C})),s.d(t,"G",(function(){return N})),s.d(t,"Ac",(function(){return E})),s.d(t,"D",(function(){return S})),s.d(t,"sd",(function(){return D})),s.d(t,"fb",(function(){return I})),s.d(t,"zd",(function(){return O})),s.d(t,"rc",(function(){return P})),s.d(t,"s",(function(){return A})),s.d(t,"r",(function(){return M})),s.d(t,"t",(function(){return L})),s.d(t,"i",(function(){return R})),s.d(t,"h",(function(){return W})),s.d(t,"g",(function(){return B})),s.d(t,"j",(function(){return V})),s.d(t,"jc",(function(){return U})),s.d(t,"P",(function(){return j})),s.d(t,"O",(function(){return F})),s.d(t,"oc",(function(){return z})),s.d(t,"qc",(function(){return H})),s.d(t,"pc",(function(){return G})),s.d(t,"o",(function(){return K})),s.d(t,"p",(function(){return Y})),s.d(t,"q",(function(){return q})),s.d(t,"N",(function(){return J})),s.d(t,"e",(function(){return X})),s.d(t,"k",(function(){return Q})),s.d(t,"I",(function(){return Z})),s.d(t,"m",(function(){return ee})),s.d(t,"mb",(function(){return te})),s.d(t,"nb",(function(){return se})),s.d(t,"ob",(function(){return ne})),s.d(t,"db",(function(){return ae})),s.d(t,"ab",(function(){return oe})),s.d(t,"bb",(function(){return ie})),s.d(t,"eb",(function(){return re})),s.d(t,"tb",(function(){return le})),s.d(t,"ub",(function(){return ce})),s.d(t,"vb",(function(){return de})),s.d(t,"xb",(function(){return ue})),s.d(t,"zb",(function(){return pe})),s.d(t,"Cb",(function(){return he})),s.d(t,"Db",(function(){return me})),s.d(t,"cc",(function(){return ge})),s.d(t,"dc",(function(){return fe})),s.d(t,"nc",(function(){return we})),s.d(t,"bd",(function(){return ye})),s.d(t,"lc",(function(){return be})),s.d(t,"zc",(function(){return ve})),s.d(t,"Pc",(function(){return xe})),s.d(t,"Vc",(function(){return ke})),s.d(t,"Xc",(function(){return Te})),s.d(t,"Wc",(function(){return $e})),s.d(t,"Yc",(function(){return _e})),s.d(t,"Zc",(function(){return Ce})),s.d(t,"ad",(function(){return Ee})),s.d(t,"dd",(function(){return Se})),s.d(t,"jd",(function(){return De})),s.d(t,"Jc",(function(){return Ie})),s.d(t,"wd",(function(){return Oe})),s.d(t,"yd",(function(){return Pe})),s.d(t,"xd",(function(){return Ae})),s.d(t,"Dd",(function(){return Me})),s.d(t,"Ed",(function(){return Le})),s.d(t,"Fd",(function(){return Re})),s.d(t,"Ec",(function(){return Be})),s.d(t,"E",(function(){return Ve})),s.d(t,"M",(function(){return Ue})),s.d(t,"cd",(function(){return je})),s.d(t,"Mc",(function(){return Fe})),s.d(t,"kd",(function(){return ze})),s.d(t,"b",(function(){return He})),s.d(t,"ld",(function(){return Ge})),s.d(t,"md",(function(){return Ke})),s.d(t,"Bc",(function(){return Ye})),s.d(t,"Nc",(function(){return qe})),s.d(t,"wb",(function(){return Je})),s.d(t,"vd",(function(){return Xe})),s.d(t,"Cd",(function(){return Qe})),s.d(t,"kb",(function(){return Ze})),s.d(t,"Ab",(function(){return et})),s.d(t,"Ic",(function(){return tt})),s.d(t,"Qc",(function(){return st})),s.d(t,"Uc",(function(){return nt})),s.d(t,"C",(function(){return at})),s.d(t,"Oc",(function(){return ot})),s.d(t,"Y",(function(){return it})),s.d(t,"Z",(function(){return rt})),s.d(t,"hc",(function(){return lt})),s.d(t,"V",(function(){return ct})),s.d(t,"ed",(function(){return dt})),s.d(t,"wc",(function(){return ut})),s.d(t,"Cc",(function(){return pt})),s.d(t,"u",(function(){return ht})),s.d(t,"vc",(function(){return mt})),s.d(t,"Dc",(function(){return gt})),s.d(t,"Lc",(function(){return ft})),s.d(t,"pb",(function(){return wt})),s.d(t,"Eb",(function(){return yt})),s.d(t,"Vb",(function(){return bt})),s.d(t,"bc",(function(){return vt})),s.d(t,"Lb",(function(){return xt})),s.d(t,"ic",(function(){return kt})),s.d(t,"qb",(function(){return Tt})),s.d(t,"jb",(function(){return $t})),s.d(t,"Bb",(function(){return _t})),s.d(t,"Tc",(function(){return Ct})),s.d(t,"gd",(function(){return Nt})),s.d(t,"xc",(function(){return Et})),s.d(t,"A",(function(){return St})),s.d(t,"y",(function(){return Dt})),s.d(t,"x",(function(){return It})),s.d(t,"w",(function(){return Ot})),s.d(t,"z",(function(){return Pt})),s.d(t,"v",(function(){return At})),s.d(t,"B",(function(){return Mt})),s.d(t,"Rb",(function(){return Lt})),s.d(t,"Sb",(function(){return Rt})),s.d(t,"Pb",(function(){return Wt})),s.d(t,"Nb",(function(){return Bt})),s.d(t,"Ob",(function(){return Vt})),s.d(t,"Ub",(function(){return Ut})),s.d(t,"Qb",(function(){return jt})),s.d(t,"Tb",(function(){return Ft})),s.d(t,"yc",(function(){return zt})),s.d(t,"n",(function(){return Ht})),s.d(t,"pd",(function(){return Gt})),s.d(t,"od",(function(){return Kt})),s.d(t,"nd",(function(){return Yt})),s.d(t,"qd",(function(){return qt})),s.d(t,"c",(function(){return Jt})),s.d(t,"d",(function(){return Xt})),s.d(t,"J",(function(){return Qt})),s.d(t,"K",(function(){return Zt})),s.d(t,"cb",(function(){return es})),s.d(t,"ib",(function(){return ts})),s.d(t,"sb",(function(){return ss})),s.d(t,"tc",(function(){return ns})),s.d(t,"Hc",(function(){return as})),s.d(t,"Rc",(function(){return os})),s.d(t,"Sc",(function(){return is})),s.d(t,"uc",(function(){return rs})),s.d(t,"mc",(function(){return ls})),s.d(t,"ec",(function(){return cs})),s.d(t,"fc",(function(){return ds})),s.d(t,"gc",(function(){return us})),s.d(t,"rd",(function(){return ps})),s.d(t,"Fb",(function(){return hs})),s.d(t,"Jb",(function(){return ms})),s.d(t,"Ib",(function(){return gs})),s.d(t,"Hb",(function(){return fs})),s.d(t,"Gb",(function(){return ws})),s.d(t,"f",(function(){return ys})),s.d(t,"rb",(function(){return bs})),s.d(t,"hd",(function(){return vs})),s.d(t,"ud",(function(){return xs})),s.d(t,"hb",(function(){return ks})),s.d(t,"sc",(function(){return Ts})),s.d(t,"lb",(function(){return $s})),s.d(t,"id",(function(){return _s})),s.d(t,"Mb",(function(){return Cs})),s.d(t,"S",(function(){return Ns})),s.d(t,"T",(function(){return Es})),s.d(t,"gb",(function(){return Ss})),s.d(t,"Kb",(function(){return Ds}));const n=12582912,a=204800,o=250,i="[filled at execution time]",r="__CUSTOM_API_CALL__",l="__EMPTY__",c=1,d="My workflow",u=128,p=" copy",h="_NODE_OUTPUT_DEFAULT_KEY_",m="_QUICKSTART_NOTE_",g=24,f="about",w="changePassword",y="editCredential",b="selectCredential",v="deleteUser",x="inviteUser",k="duplicate",T="tagsManager",$="workflowOpen",_="versions",C="settings",N="credentialsList",E="personalization",S="contactPrompt",D="valueSurvey",I="executions",O="activation",P="onboardingCallSignup",A="communityPackageInstall",M="communityPackageManageConfirm",L={UNINSTALL:"uninstall",UPDATE:"update",VIEW_DOCS:"view-documentation"},R=768,W=992,B=1200,V=1920,U="https://api.n8n.io/api/",j="https://docs.n8n.io/data/data-pinning/",F="https://docs.n8n.io/data/data-editing/",z="https://api.npms.io/v2/",H="https://www.npmjs.com/package/",G="https://www.npmjs.com/search?q=keywords%3An8n-community-node-package",K="https://docs.n8n.io/integrations/community-nodes/installation/",Y="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",q="https://docs.n8n.io/integrations/community-nodes/risks/",J="https://docs.n8n.io/integrations/creating-nodes/code/create-n8n-nodes-module/",X="n8n-nodes-base.bambooHr",Q="n8n-nodes-base.calendlyTrigger",Z="n8n-nodes-base.cron",ee="n8n-nodes-base.clearbit",te="n8n-nodes-base.function",se="n8n-nodes-base.githubTrigger",ne="n8n-nodes-base.googleSheets",ae="n8n-nodes-base.errorTrigger",oe="n8n-nodes-base.elasticSecurity",ie="n8n-nodes-base.emailSend",re="n8n-nodes-base.executeCommand",le="n8n-nodes-base.httpRequest",ce="n8n-nodes-base.hubspotTrigger",de="n8n-nodes-base.if",ue="n8n-nodes-base.interval",pe="n8n-nodes-base.itemLists",he="n8n-nodes-base.jira",me="n8n-nodes-base.jiraTrigger",ge="n8n-nodes-base.microsoftExcel",fe="n8n-nodes-base.microsoftTeams",we="n8n-nodes-base.noOp",ye="n8n-nodes-base.stickyNote",be="n8n-nodes-base.notionTrigger",ve="n8n-nodes-base.pagerDuty",xe="n8n-nodes-base.salesforce",ke="n8n-nodes-base.segment",Te="n8n-nodes-base.set",$e="n8n-nodes-base.serviceNow",_e="n8n-nodes-base.slack",Ce="n8n-nodes-base.spreadsheetFile",Ne="n8n-nodes-base.splitInBatches",Ee="n8n-nodes-base.start",Se="n8n-nodes-base.switch",De="n8n-nodes-base.theHiveTrigger",Ie="n8n-nodes-base.quickbooks",Oe="n8n-nodes-base.webhook",Pe="n8n-nodes-base.workableTrigger",Ae="n8n-nodes-base.wooCommerceTrigger",Me="n8n-nodes-base.xero",Le="n8n-nodes-base.zendesk",Re="n8n-nodes-base.zendeskTrigger",We=[de,Se],Be=[...We,Ne],Ve="Core Nodes",Ue="Custom Nodes",je={"Core Nodes":{Flow:"Branches, core triggers, merge data",Files:"Work with CSV, XML, text, images etc.","Data Transformation":"Manipulate data fields, run code",Helpers:"HTTP Requests (API calls), date and time, scrape HTML"}},Fe="Regular",ze="Trigger",He="All",Ge="Miscellaneous",Ke="Helpers",Ye="Suggested Nodes",qe="https://n8n-community.typeform.com/to/K1fBVTZ3",Je="n8n-instance-id",Xe="3000-01-01T00:00:00.000Z",Qe="workArea",Ze="finance",et="IT-Engineering",tt="product",st="sales-businessDevelopment",nt="security",at="companyType",ot="saas",it="ecommerce",rt="education",lt="msp",ct="digital-agency",dt="systems-integrator",ut="other",pt="personal",ht="companyIndustryExtended",mt="otherCompanyIndustryExtended",gt="physical-retail-or-services",ft="real-estate-or-construction",wt="government",yt="legal-industry",bt="marketing-industry",vt="media-industry",xt="manufacturing-industry",kt="msp",Tt="healthcare",$t="finance-insurance-industry",_t="it-industry",Ct="security-industry",Nt="telecoms",Et="other",St="companySize",Dt="<20",It="20-99",Ot="100-499",Pt="500-999",At="1000+",Mt="personalUser",Lt="automationGoalSm",Rt="lead-generation",Wt="customer-communication",Bt="actions",Vt="ad-campaign",Ut="reporting",jt="data-syncing",Ft="other",zt="automationGoalSmOther",Ht="codingSkill",Gt="usageModes",Kt="connect-internal-db",Yt="build-be-services",qt="manipulate-files",Jt="automationGoal",Xt="otherAutomationGoal",Qt="customer-integrations",Zt="customer-support",es="engineering",ts="finance-accounting",ss="hr",ns="operations",as="product",os="sales-marketing",is="security",rs="other",ls="not-sure-yet",cs="cancel",ds="close",us="confirmed",ps=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,hs="N8N_HIDE_ACTIVATION_ALERT",ms="N8N_PIN_DATA_DISCOVERY_NDV",gs="N8N_PIN_DATA_DISCOVERY_CANVAS",fs="N8N_MAPPING_ONBOARDED",ws="N8N_MAIN_PANEL_RELATIVE_WIDTH",ys="https://n8n-community.typeform.com/to/BvmzxqYv#nodename=",bs="\n                                                                    //////\n                                                                 ///////////\n                                                               /////      ////\n                                               ///////////////////         ////\n                                             //////////////////////       ////\n     ///////               ///////          ////                /////////////\n  ////////////          ////////////       ////                    ///////\n ////       ////       ////       ////    ////\n/////        /////////////         //////////\n /////     ////       ////       ////     ////\n  ////////////          ////////////       ////           ////////\n    ///////                //////           ////        /////////////\n                                             /////////////        ////\n                                                //////////        ////\n                                                       ////      ////\n                                                        ///////////\n                                                          //////\n\nLove n8n? Help us build the future of automation! https://n8n.io/careers\n",vs=["n8n-nodes-base.start","n8n-nodes-base.respondToWebhook"];var xs,ks;(function(e){e["HOMEPAGE"]="Homepage",e["COLLECTION"]="TemplatesCollectionView",e["EXECUTION"]="ExecutionById",e["TEMPLATE"]="TemplatesWorkflowView",e["TEMPLATES"]="TemplatesSearchView",e["CREDENTIALS"]="CredentialsView",e["NEW_WORKFLOW"]="NodeViewNew",e["WORKFLOW"]="NodeViewExisting",e["DEMO"]="WorkflowDemo",e["TEMPLATE_IMPORT"]="WorkflowTemplate",e["SIGNIN"]="SigninView",e["SIGNUP"]="SignupView",e["SETUP"]="SetupView",e["FORGOT_PASSWORD"]="ForgotMyPasswordView",e["CHANGE_PASSWORD"]="ChangePasswordView",e["USERS_SETTINGS"]="UsersSettings",e["PERSONAL_SETTINGS"]="PersonalSettings",e["API_SETTINGS"]="APISettings",e["NOT_FOUND"]="NotFoundView",e["FAKE_DOOR"]="ComingSoon",e["COMMUNITY_NODES"]="CommunityNodes"})(xs||(xs={})),function(e){e["ENVIRONMENTS"]="environments",e["LOGGING"]="logging",e["SHARING"]="sharing"}(ks||(ks={}));const Ts=14,$s=3e5,_s=[{name:"First item",code:1},{name:"Second item",code:2}],Cs=["$evaluateExpression","$item","$jmespath","$node","$binary","$data","$env","$json","$now","$parameters","$position","$resumeWebhookUrl","$runIndex","$today","$workflow","$parameter"],Ns=160,Es=240;var Ss;(function(e){e["Sharing"]="sharing"})(Ss||(Ss={}));const Ds=360},8629:function(e,t,s){"use strict";s("df0b")},8667:function(e,t,s){e.exports={container:"SettingsSidebar_container_fLXJ0",tab:"SettingsSidebar_tab_3VQ0B",returnButton:"SettingsSidebar_returnButton_3J2op SettingsSidebar_tab_3VQ0B",icon:"SettingsSidebar_icon_tCevP",versionContainer:"SettingsSidebar_versionContainer_2HMvP"}},"87e4":function(e,t,s){"use strict";s("8c2b")},"886a":function(e,t,s){},"88c3":function(e,t,s){e.exports={actionBoxContainer:"FeatureComingSoon_actionBoxContainer_1tGpa"}},"89e8":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.parameterInputClasses,on:{keydown:function(e){e.stopPropagation()}}},[s("expression-edit",{attrs:{dialogVisible:e.expressionEditDialogVisible,value:e.isResourceLocatorParameter&&"string"!==typeof e.value?e.value?e.value.value:"":e.value,parameter:e.parameter,path:e.path,eventSource:e.eventSource||"ndv"},on:{closeDialog:e.closeExpressionEditDialog,valueChanged:e.expressionUpdated}}),s("div",{staticClass:"parameter-input ignore-key-press",style:e.parameterInputWrapperStyle,on:{click:e.openExpressionEdit}},[e.isResourceLocatorParameter?s("resource-locator",{ref:"resourceLocator",attrs:{parameter:e.parameter,value:e.value,displayTitle:e.displayTitle,expressionDisplayValue:e.expressionDisplayValue,isValueExpression:e.isValueExpression,isReadOnly:e.isReadOnly,parameterIssues:e.getIssues,droppable:e.droppable,node:e.node,path:e.path},on:{input:e.valueChanged,focus:e.setFocus,blur:e.onBlur,drop:e.onResourceLocatorDrop}}):e.isValueExpression||e.droppable||e.forceShowExpression?s("n8n-input",{attrs:{size:e.inputSize,type:e.getStringInputType,rows:e.getArgument("rows"),value:e.activeDrop||e.forceShowExpression?"":e.expressionDisplayValue,title:e.displayTitle},on:{keydown:function(e){e.stopPropagation()}}}):["json","string"].includes(e.parameter.type)||null!==e.remoteParameterOptionsLoadingIssues?s("div",[e.codeEditDialogVisible?s("code-edit",{attrs:{value:e.value,parameter:e.parameter,type:e.editorType,codeAutocomplete:e.codeAutocomplete,path:e.path,readonly:e.isReadOnly},on:{closeDialog:e.closeCodeEditDialog,valueChanged:e.expressionUpdated}}):e._e(),s("text-edit",{attrs:{dialogVisible:e.textEditDialogVisible,value:e.value,parameter:e.parameter,path:e.path},on:{closeDialog:e.closeTextEditDialog,valueChanged:e.expressionUpdated}}),!0===e.isEditor?s("div",{staticClass:"code-edit clickable ph-no-capture",on:{click:function(t){return e.displayEditDialog()}}},[e.codeEditDialogVisible?e._e():s("prism-editor",{attrs:{lineNumbers:!0,readonly:!0,code:e.displayValue,language:"js"}})],1):s("n8n-input",{ref:"inputField",attrs:{size:e.inputSize,type:e.getStringInputType,rows:e.getArgument("rows"),value:e.displayValue,disabled:e.isReadOnly,title:e.displayTitle,placeholder:e.getPlaceholder()},on:{input:e.onTextInputChange,change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}},[s("div",{staticClass:"expand-input-icon-container",attrs:{slot:"suffix"},slot:"suffix"},[e.isReadOnly?e._e():s("font-awesome-icon",{staticClass:"edit-window-button clickable",attrs:{icon:"expand-alt",title:e.$locale.baseText("parameterInput.openEditWindow")},on:{click:function(t){return e.displayEditDialog()}}})],1)])],1):"color"===e.parameter.type?s("div",{ref:"inputField",staticClass:"color-input"},[s("el-color-picker",{staticClass:"color-picker",attrs:{size:"small",value:e.displayValue,disabled:e.isReadOnly,title:e.displayTitle,"show-alpha":e.getArgument("showAlpha")},on:{focus:e.setFocus,blur:e.onBlur,change:e.valueChanged}}),s("n8n-input",{attrs:{size:e.inputSize,type:"text",value:e.tempValue,disabled:e.isReadOnly,title:e.displayTitle},on:{change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1):"dateTime"===e.parameter.type?s("el-date-picker",{ref:"inputField",attrs:{type:"datetime",size:e.inputSize,value:e.displayValue,title:e.displayTitle,disabled:e.isReadOnly,placeholder:e.parameter.placeholder?e.getPlaceholder():e.$locale.baseText("parameterInput.selectDateAndTime"),"picker-options":e.dateTimePickerOptions},on:{change:e.valueChanged,focus:e.setFocus,blur:e.onBlur,keydown:function(e){e.stopPropagation()}},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}}):"number"===e.parameter.type?s("n8n-input-number",{ref:"inputField",attrs:{size:e.inputSize,value:e.displayValue,controls:!1,max:e.getArgument("maxValue"),min:e.getArgument("minValue"),precision:e.getArgument("numberPrecision"),disabled:e.isReadOnly,title:e.displayTitle,placeholder:e.parameter.placeholder},on:{change:e.valueChanged,input:e.onTextInputChange,focus:e.setFocus,blur:e.onBlur,keydown:function(e){e.stopPropagation()}}}):"credentialsSelect"===e.parameter.type||"genericAuthType"===e.parameter.name?s("credentials-select",{ref:"inputField",attrs:{parameter:e.parameter,node:e.node,activeCredentialType:e.activeCredentialType,inputSize:e.inputSize,displayValue:e.displayValue,isReadOnly:e.isReadOnly,displayTitle:e.displayTitle},on:{credentialSelected:e.credentialSelected,valueChanged:e.valueChanged,setFocus:e.setFocus,onBlur:e.onBlur},scopedSlots:e._u([{key:"issues-and-options",fn:function(){return[s("parameter-issues",{attrs:{issues:e.getIssues}})]},proxy:!0}])}):"options"===e.parameter.type?s("n8n-select",{ref:"inputField",attrs:{size:e.inputSize,filterable:"",value:e.displayValue,placeholder:e.parameter.placeholder?e.getPlaceholder():e.$locale.baseText("parameterInput.select"),loading:e.remoteParameterOptionsLoading,disabled:e.isReadOnly||e.remoteParameterOptionsLoading,title:e.displayTitle},on:{change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur}},e._l(e.parameterOptions,(function(t){return s("n8n-option",{key:t.value,attrs:{value:t.value,label:e.getOptionsOptionDisplayName(t)}},[s("div",{staticClass:"list-option"},[s("div",{staticClass:"option-headline ph-no-capture",class:{"remote-parameter-option":e.isRemoteParameterOption(t)}},[e._v(" "+e._s(e.getOptionsOptionDisplayName(t))+" ")]),t.description?s("div",{staticClass:"option-description",domProps:{innerHTML:e._s(e.getOptionsOptionDescription(t))}}):e._e()])])})),1):"multiOptions"===e.parameter.type?s("n8n-select",{ref:"inputField",attrs:{size:e.inputSize,filterable:"",multiple:"",value:e.displayValue,loading:e.remoteParameterOptionsLoading,disabled:e.isReadOnly||e.remoteParameterOptionsLoading,title:e.displayTitle,placeholder:e.$locale.baseText("parameterInput.select")},on:{change:e.valueChanged,keydown:function(e){e.stopPropagation()},focus:e.setFocus,blur:e.onBlur}},e._l(e.parameterOptions,(function(t){return s("n8n-option",{key:t.value,attrs:{value:t.value,label:e.getOptionsOptionDisplayName(t)}},[s("div",{staticClass:"list-option"},[s("div",{staticClass:"option-headline"},[e._v(e._s(e.getOptionsOptionDisplayName(t)))]),t.description?s("div",{staticClass:"option-description",domProps:{innerHTML:e._s(e.getOptionsOptionDescription(t))}}):e._e()])])})),1):"boolean"===e.parameter.type?s("el-switch",{ref:"inputField",staticClass:"switch-input",attrs:{"active-color":"#13ce66",value:e.displayValue,disabled:e.isReadOnly},on:{change:e.valueChanged}}):e._e()],1),"credentialsSelect"===e.parameter.type||e.isResourceLocatorParameter?e._e():s("parameter-issues",{attrs:{issues:e.getIssues}})],1)},a=[],o=s("9ec3"),i=s("ac96"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:"","append-to-body":"","close-on-click-modal":!1,width:"80%",title:e.$locale.baseText("codeEdit.edit")+" "+e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path),"before-close":e.closeDialog}},[s("div",{staticClass:"text-editor-wrapper ignore-key-press"},[s("code-editor",{attrs:{value:e.value,autocomplete:e.loadAutocompleteData,readonly:e.readonly},on:{input:function(t){return e.$emit("valueChanged",t)}}})],1)])},l=[],c=s("4971"),d=s("d2e2"),u=s("aaf5"),p=s("85ee"),h=s("7459"),m=Object(u["a"])(c["a"],d["a"]).extend({name:"CodeEdit",components:{CodeEditor:h["a"]},props:["codeAutocomplete","parameter","path","type","value","readonly"],methods:{loadAutocompleteData(){if(["function","functionItem"].includes(this.codeAutocomplete)){const t=0,s="main",n="manual";let a=0;const o=this.$store.getters.getWorkflowExecution,r=this.getCurrentWorkflow(),l=this.$store.getters.activeNode,c=r.getParentNodes(l.name,s,1),d=r.getNodeConnectionIndexes(l.name,c[0])||{sourceIndex:0,destinationIndex:0},u=this.$store.getters.getWorkflowExecution;let h;u&&u.data?(h=u.data,h.resultData.runData[l.name]&&(a=h.resultData.runData[l.name].length-1)):h={resultData:{runData:{}}};const m=this.connectionInputData(c,l.name,s,a,d),g={$executionId:p["Gc"],$resumeWebhookUrl:p["Gc"]},f=new i["WorkflowDataProxy"](r,h,a,t,l.name,m||[],{},n,this.$store.getters.timezone,g),w=f.getDataProxy(),y=["function $evaluateExpression(expression: string, itemIndex?: number): any {};","function getNodeParameter(parameterName: string, itemIndex: number, fallbackValue?: any): any {};","function getWorkflowStaticData(type: string): {};","function $item(itemIndex: number, runIndex?: number): {};","function $items(nodeName?: string, outputIndex?: number, runIndex?: number): {};"],b=["$env","$executionId","$mode","$parameter","$resumeWebhookUrl","$workflow","$now","$today","$thisRunIndex","DateTime","Duration","Interval"],v=["$json","$binary","$position","$thisItem","$thisItemIndex"],x=[];"functionItem"===this.codeAutocomplete&&x.push(...v),o&&m&&m.length?b.push(...x):x.forEach(e=>{y.push(`const ${e} = {}`)});for(const e of b)y.push(`const ${e} = ${JSON.stringify(this.createSimpleRepresentation(w[e]))}`);const k={};for(const[i,p]of Object.entries(r.nodes)){k[i]={json:{},parameter:this.createSimpleRepresentation(w.$node[i].parameter)};try{k[i].json=this.createSimpleRepresentation(w.$node[i].json),k[i].context=this.createSimpleRepresentation(w.$node[i].context),k[i].runIndex=w.$node[i].runIndex,Object.keys(w.$node[i].binary).length&&(k[i].binary=this.createSimpleRepresentation(w.$node[i].binary))}catch(e){}}return y.push("const $node = "+JSON.stringify(k)),y.push("function $jmespath(jsonDoc: object, query: string): {};"),"function"===this.codeAutocomplete?m?y.push("const items = "+JSON.stringify(this.createSimpleRepresentation(m))):y.push("const items: {json: {[key: string]: any}}[] = []"):"functionItem"===this.codeAutocomplete&&(m?y.push("const item = $json"):y.push("const item: {[key: string]: any} = {}")),y}return[]},closeDialog(){return this.$emit("closeDialog"),!1},createSimpleRepresentation(e){if(null===e||void 0===e)return e;if("string"===typeof e)return"";if("boolean"===typeof e)return!0;if("number"===typeof e)return 1;if(Array.isArray(e))return e.map(e=>this.createSimpleRepresentation(e));if("object"===typeof e){const t={};return Object.keys(e).forEach(s=>{t[s]=this.createSimpleRepresentation(e[s])}),t}return e}}}),g=m,f=(s("51c2"),s("2be6")),w=Object(f["a"])(g,r,l,!1,null,"cc3c6532",null),y=w.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{class:e.$style["parameter-value-container"]},[s("n8n-select",{attrs:{size:e.inputSize,filterable:"",value:e.displayValue,placeholder:e.parameter.placeholder?e.getPlaceholder():e.$locale.baseText("parameterInput.select"),title:e.displayTitle},on:{change:function(t){return e.$emit("valueChanged",t)},keydown:function(e){e.stopPropagation()},focus:function(t){return e.$emit("setFocus")},blur:function(t){return e.$emit("onBlur")}}},e._l(e.supportedCredentialTypes,(function(t){return s("n8n-option",{key:t.name,attrs:{value:t.name,label:t.displayName}},[s("div",{staticClass:"list-option"},[s("div",{staticClass:"option-headline"},[e._v(" "+e._s(t.displayName)+" ")]),t.description?s("div",{staticClass:"option-description",domProps:{innerHTML:e._s(t.description)}}):e._e()])])})),1),e._t("issues-and-options")],2),e.scopes.length>0?s("scopes-notice",{attrs:{activeCredentialType:e.activeCredentialType,scopes:e.scopes}}):e._e(),s("div",[s("node-credentials",{attrs:{node:e.node,overrideCredType:e.node.parameters[e.parameter.name]},on:{credentialSelected:function(t){return e.$emit("credentialSelected",t)}}})],1)],1)},v=[],x=s("9869"),k=s("9ce4"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-notice",{attrs:{content:e.scopesShortContent,fullContent:e.scopesFullContent}})},$=[],_=x["default"].extend({name:"ScopesNotice",props:["activeCredentialType","scopes"],computed:{...Object(k["b"])("credentials",["getCredentialTypeByName"]),scopesShortContent(){return this.$locale.baseText("nodeSettings.scopes.notice",{adjustToNumber:this.scopes.length,interpolate:{activeCredential:this.shortCredentialDisplayName}})},scopesFullContent(){return this.$locale.baseText("nodeSettings.scopes.expandedNoticeWithScopes",{adjustToNumber:this.scopes.length,interpolate:{activeCredential:this.shortCredentialDisplayName,scopes:this.scopes.map(e=>e.includes("/")?e.split("/").pop():e).join("<br>")}})},shortCredentialDisplayName(){const e=this.$locale.baseText("generic.oauth1Api"),t=this.$locale.baseText("generic.oauth2Api");return this.getCredentialTypeByName(this.activeCredentialType).displayName.replace(new RegExp(`${e}|${t}`),"").trim()}}}),C=_,N=Object(f["a"])(C,T,$,!1,null,null,null),E=N.exports,S=s("e0e2"),D=x["default"].extend({name:"CredentialsSelect",components:{ScopesNotice:E,NodeCredentials:S["a"]},props:["activeCredentialType","node","parameter","inputSize","displayValue","isReadOnly","displayTitle"],computed:{...Object(k["b"])("credentials",["allCredentialTypes","getScopesByCredentialType"]),scopes(){return this.activeCredentialType?this.getScopesByCredentialType(this.activeCredentialType):[]},supportedCredentialTypes(){return this.allCredentialTypes.filter(e=>this.isSupported(e.name))}},methods:{isSupported(e){const t=this.getSupportedSets(this.parameter.credentialTypes),s=this.$store.getters["credentials/getCredentialTypeByName"](e);for(const n of t.has)if(void 0!==s[n]){if("httpHeaderAuth"===e&&"authenticate"===n)continue;return!0}return!(!s.extends||!s.extends.some(e=>t.extends.includes(e)))||!(!s.extends||!t.extends.length)&&s.extends.reduce((e,t)=>e||this.isSupported(t),!1)},getSupportedSets(e){return e.reduce((e,t)=>{const s=t.split("extends:");if(2===s.length)return e.extends.push(s[1]),e;const n=t.split("has:");return 2===n.length?(e.has.push(n[1]),e):e},{extends:[],has:[]})}}}),I=D,O=s("f5b3");function P(e){this["$style"]=O["default"].locals||O["default"]}var A=Object(f["a"])(I,b,v,!1,P,null,null),M=A.exports,L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.dialogVisible?s("div",{on:{keydown:function(e){e.stopPropagation()}}},[s("el-dialog",{attrs:{visible:e.dialogVisible,"custom-class":"expression-dialog classic","append-to-body":"",width:"80%",title:e.$locale.baseText("expressionEdit.editExpression"),"before-close":e.closeDialog}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"header-side-menu"},[s("div",{staticClass:"headline"},[e._v(" "+e._s(e.$locale.baseText("expressionEdit.editExpression"))+" ")]),s("div",{staticClass:"sub-headline"},[e._v(" "+e._s(e.$locale.baseText("expressionEdit.variableSelector"))+" ")])]),s("div",{staticClass:"variable-selector"},[s("variable-selector",{attrs:{path:e.path},on:{itemSelected:e.itemSelected}})],1)]),s("el-col",{staticClass:"right-side",attrs:{span:16}},[s("div",{staticClass:"expression-editor-wrapper"},[s("div",{staticClass:"editor-description"},[e._v(" "+e._s(e.$locale.baseText("expressionEdit.expression"))+" ")]),s("div",{staticClass:"expression-editor ph-no-capture"},[s("expression-input",{ref:"inputFieldExpression",attrs:{parameter:e.parameter,rows:"8",value:e.value,path:e.path},on:{change:e.valueChanged,keydown:function(t){return t.stopPropagation(),e.noOp.apply(null,arguments)}}})],1)]),s("div",{staticClass:"expression-result-wrapper"},[s("div",{staticClass:"editor-description"},[e._v(" "+e._s(e.$locale.baseText("expressionEdit.result"))+" ")]),s("div",{staticClass:"ph-no-capture"},[s("expression-input",{ref:"expressionResult",attrs:{parameter:e.parameter,resolvedValue:"true",rows:"8",value:e.displayValue,path:e.path}})],1)])])],1)],1)],1):e._e()},R=[],W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{ref:"expression-editor",staticClass:"ignore-key-press",style:e.editorStyle,on:{keydown:function(e){e.stopPropagation()}}})])},B=[],V=(s("b8f1"),s("d5a1")),U=s.n(V),j=s("5d01"),F=s.n(j),z=Object(u["a"])(c["a"],d["a"]).extend({name:"ExpressionInput",props:["rows","value","parameter","path","resolvedValue"],data(){return{editor:null}},computed:{editorStyle(){let e=1;return this.rows&&(e=parseInt(this.rows,10)),{height:Math.max(26*e+10,40)+"px"}},workflow(){return this.getCurrentWorkflow()}},watch:{value(){this.resolvedValue&&this.initValue()}},mounted(){const e=this,t=U.a.import("blots/inline");class s extends t{static create(e){const t=super.create(e);return t.setAttribute("data-value",e),t.setAttribute("class","variable"),t}static formats(t){let s=t.innerHTML.trim();e.resolvedValue&&(s=t.getAttribute("data-value"));const n=e.getPlaceholderClasses(s);return t.getAttribute("class")!==n&&t.setAttribute("class",n),!0}}s.blotName="variable",s.className="variable",s.tagName="span",U.a.register({"formats/variable":s}),F.a.DEFAULTS={expression:{trigger:/\B[\w\s]/,find:/\{\{[^\s,;:!?}]+\}\}/i,format:"variable"}},this.editor=new U.a(this.$refs["expression-editor"],{readOnly:!!this.resolvedValue||this.isReadOnly,modules:{autoformat:{},keyboard:{bindings:{"list autofill":null}}}}),this.editor.root.addEventListener("blur",e=>{this.$emit("blur",e)}),this.initValue(),this.resolvedValue||(this.setFocus(),this.editor.on("text-change",()=>this.update()))},methods:{customizeVariable(e){const t={classes:[],message:e};let s;try{s=this.resolveExpression("="+e),void 0!==s?t.classes.push("valid"):t.classes.push("invalid")}catch(n){t.classes.push("invalid")}return t},resolveParameterString(e){let t;try{t=this.resolveExpression("="+e)}catch(s){return`[invalid (${s.message})]`}return void 0===t?"[not found]":t},getPlaceholderClasses(e){const t=this.customizeVariable(e);return"variable "+t.classes.join(" ")},getValue(){if(!this.editor)return"";const e=this.editor.getContents();if(!e||!e.ops)return"";let t="";return e.ops.forEach(e=>{e.insert&&(t+=e.insert)}),"="+t.replace(/\s+$/g,"")},setFocus(){this.editor.focus()},itemSelected(e){this.editor.focus();const t=this.editor.getSelection();let s=null;if(t&&(s=t.index),s)this.editor.insertText(s,`{{${e.variable}}}`,"variable",!0),this.update();else{let t=this.getValue();"="===t||"=0"===t?t=`{{${e.variable}}}\n`:t+=` {{${e.variable}}}\n`,this.$emit("change",t,!0),this.resolvedValue||x["default"].nextTick(()=>{this.initValue()})}},initValue(){if(!this.value)return;let e=this.value;"="===e.charAt(0)&&(e=e.slice(1));const t=[];e.replace(/\{\{(.*?)\}\}/gi,"*%%#_@^$1*%%#_@").split("*%%#_@").forEach(e=>{if(e&&"^"===e.charAt(0)){let s=`{{${e.slice(1)}}}`;this.resolvedValue&&(s=[null,void 0].includes(s)?"":s,s=this.resolveParameterString(s.toString())),s=[null,void 0].includes(s)?"":s,t.push({attributes:{variable:`{{${e.slice(1)}}}`},insert:s.toString()})}else t.push({insert:e})}),this.editor.setContents(t)},update(){this.$emit("input",this.getValue()),this.$emit("change",this.getValue())}}}),H=z,G=(s("c604"),Object(f["a"])(H,W,B,!1,null,null,null)),K=G.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"variable-selector-wrapper",on:{keydown:function(e){e.stopPropagation()}}},[s("div",{staticClass:"input-wrapper"},[s("n8n-input",{ref:"inputField",attrs:{placeholder:e.$locale.baseText("variableSelector.variableFilter"),size:"small",type:"text"},model:{value:e.variableFilter,callback:function(t){e.variableFilter=t},expression:"variableFilter"}})],1),s("div",{staticClass:"result-wrapper"},e._l(e.currentResults,(function(t){return s("variable-selector-item",{key:t.key,attrs:{item:t,extendAll:e.extendAll},on:{itemSelected:e.forwardItemSelected}})})),1)])},q=[],J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item"},[e.item.options?s("div",{staticClass:"options"},[e.item.options.length?s("div",{staticClass:"headline clickable",on:{click:function(t){e.extended=!e.extended}}},[!0!==e.extendAll?s("div",{staticClass:"options-toggle"},[e.extended?s("font-awesome-icon",{attrs:{icon:"angle-down"}}):s("font-awesome-icon",{attrs:{icon:"angle-right"}})],1):e._e(),s("div",{staticClass:"option-title",attrs:{title:e.item.key}},[e._v(" "+e._s(e.item.name)+" "),!0===e.allowParentSelect?s("el-dropdown",{attrs:{trigger:"click"},on:{click:function(e){e.stopPropagation()},command:function(t){return e.optionSelected(t,e.item)}}},[s("span",{staticClass:"el-dropdown-link clickable",on:{click:function(e){e.stopPropagation()}}},[s("font-awesome-icon",{attrs:{icon:"dot-circle",title:e.$locale.baseText("variableSelectorItem.selectItem")}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.itemAddOperations,(function(t){return s("el-dropdown-item",{key:t.command,attrs:{command:t.command}},[e._v(e._s(t.displayName))])})),1)],1):e._e()],1)]):e._e(),!e.item.options||!0!==e.extended&&!0!==e.extendAll?e._e():s("div",e._l(e.item.options,(function(t){return s("variable-selector-item",{key:t.key,staticClass:"sub-level",attrs:{item:t,extendAll:e.extendAll,allowParentSelect:t.allowParentSelect},on:{itemSelected:e.forwardItemSelected}})})),1)]):s("div",{staticClass:"value clickable",on:{click:function(t){return e.selectItem(e.item)}}},[s("div",{staticClass:"item-title ph-no-capture",attrs:{title:e.item.key}},[e._v(" "+e._s(e.item.name)+": "),s("font-awesome-icon",{attrs:{icon:"dot-circle",title:"Select Item"}})],1),s("div",{staticClass:"item-value"},[e._v(e._s(void 0!==e.item.value?e.item.value:e.$locale.baseText("variableSelectorItem.empty")))])])])},X=[],Q=s("debe"),Z=Object(u["a"])(Q["a"]).extend({name:"VariableSelectorItem",props:["allowParentSelect","extendAll","item"],computed:{itemAddOperations(){const e=[{command:"raw",displayName:"Raw value"}];return"array"===this.item.dataType?(e.push({command:"arrayLength",displayName:"Length"}),e.push({command:"arrayValues",displayName:"Values"})):"object"===this.item.dataType&&(e.push({command:"objectKeys",displayName:"Keys"}),e.push({command:"objectValues",displayName:"Values"})),e}},data(){return{extended:!1}},methods:{optionSelected(e,t){let s=t.key;"arrayValues"===e?s=t.key+".join(', ')":"arrayLength"===e?s=t.key+".length":"objectKeys"===e?s=`Object.keys(${t.key}).join(', ')`:"objectValues"===e&&(s=`Object.values(${t.key}).join(', ')`),this.$emit("itemSelected",{variable:s})},selectItem(e){this.$emit("itemSelected",{variable:e.key})},forwardItemSelected(e){this.$emit("itemSelected",e)}}}),ee=Z,te=(s("c8f0"),Object(f["a"])(ee,J,X,!1,null,"4ed642dc",null)),se=te.exports;const ne=[p["bd"]];var ae=Object(u["a"])(d["a"]).extend({name:"VariableSelector",components:{VariableSelectorItem:se},props:["path"],data(){return{variableFilter:"",selectorOpenInputIndex:null}},computed:{extendAll(){return!!this.variableFilter},currentResults(){return this.getFilterResults(this.variableFilter.toLowerCase(),0)},workflow(){return this.getCurrentWorkflow()}},methods:{forwardItemSelected(e){this.$emit("itemSelected",e)},sortOptions(e){return null===e?null:e.sort((e,t)=>{const s=e.hasOwnProperty("options"),n=t.hasOwnProperty("options");return n&&!s?1:!n&&s||e.name<t.name?-1:e.name>t.name?1:0})},removeEmptyEntries(e){if(Array.isArray(e)){const t=[];let s;return e.forEach(e=>{s=this.removeEmptyEntries(e),null!==s&&t.push(s)}),t}if(e&&e.options){const t=this.removeEmptyEntries(e.options);return Array.isArray(t)&&t.length?(e.options=t,e):Array.isArray(t)&&0===t.length?(delete e.options,e):null}return e},getPathNormalized(e){if(void 0===e)return"";const t=e.split("."),s=[];let n;for(const a of t){const e=a.match(/\[.*?\]/g);if(null===e)s.push(a);else for(n of("["!==a.charAt(0)&&s.push(a.substr(0,a.indexOf("["))),e))n=n.slice(1,-1),['"',"'"].includes(n.charAt(0))?(n=n.slice(1,-1),s.push(n)):s.push(`[${n}]`)}return s.join("|")},jsonDataToFilterOption(e,t,s,n,a,o,i){let r=`${t}["${s}"]`;void 0!==a&&(r+=`[${a}]`);const l=[];if(null===e)return l.push({name:s,key:r,value:"[null]"}),l;if(Array.isArray(e)){let c=s,d=t;void 0!==a&&(d+=`["${s}"]`,c=a.toString());const u=[];for(let t=0;t<e.length;t++)u.push.apply(u,this.jsonDataToFilterOption(e[t],d,c,n,t,`[Item: ${t}]`,i));l.push({name:o||s,options:u,key:r,allowParentSelect:!0,dataType:"array"})}else if("object"===typeof e){const t=[];for(const s of Object.keys(e))t.push.apply(t,this.jsonDataToFilterOption(e[s],r,s,n,void 0,void 0,i));t.length&&l.push({name:o||s,options:this.sortOptions(t),key:r,allowParentSelect:!0,dataType:"object"})}else{if(void 0!==n&&-1===s.toLowerCase().indexOf(n))return l;this.getPathNormalized(i)!==this.getPathNormalized(r)&&l.push({name:s,key:r,value:e})}return l},getNodeRunDataOutput(e,t,s,n=0,a=0,o="main",i=0,r=!1){if(!t.hasOwnProperty(e))return null;if(t[e].length<=a)return null;if(!t[e][a].hasOwnProperty("data")||null===t[e][a].data||void 0===t[e][a].data)return null;if(!t[e][a].data.hasOwnProperty(o))return null;if(t[e][a].data[o].length<=i)return null;if(null===t[e][a].data[o][i]||t[e][a].data[o][i].length<=n)return null;const l=t[e][a].data[o][i][n];return this.getNodeOutput(e,l,s,r)},getNodePinDataOutput(e,t,s,n=!1){const a=t.map(e=>({json:e}))[0];return this.getNodeOutput(e,a,s,n)},getNodeOutput(e,t,s,n=!1){const a=[];if(t.hasOwnProperty("json")){const o=!0===n?"$json":`$node["${e}"].json`,i=[];for(const e of Object.keys(t.json))i.push.apply(i,this.jsonDataToFilterOption(t.json[e],o,e,s));i.length&&a.push({name:"JSON",options:this.sortOptions(i)})}if(t.hasOwnProperty("binary")){const o=!0===n?"$binary":`$node["${e}"].binary`,i=[];let r=[];for(const e of Object.keys(t.binary)){r=[];for(const n in t.binary[e])"data"!==n&&(s&&-1===n.toLowerCase().indexOf(s)||r.push({name:n,key:`${o}.${e}.${n}`,value:t.binary[e][n]}));r.length&&i.push({name:e,key:`${o}.${e}`,options:this.sortOptions(r),allowParentSelect:!0})}i.length&&a.push({name:"Binary",key:o,options:this.sortOptions(i),allowParentSelect:!0})}return a},getNodeContext(e,t,s,n,a){const o=0,r="main",l=0,c=[],d=this.$store.getters.activeNode;if(null===d)return c;const u=this.workflow.getNodeConnectionIndexes(d.name,s[0],"main"),h=this.connectionInputData(s,n,r,l,u);if(null===h)return c;const m={$executionId:p["Gc"],$resumeWebhookUrl:p["Gc"]},g=new i["WorkflowDataProxy"](e,t,l,o,n,h,{},"manual",this.$store.getters.timezone,m),f=g.getDataProxy(),w=f.$node[n].context;for(const i of Object.keys(w))void 0!==a&&-1===i.toLowerCase().indexOf(a)||c.push({name:i,key:`$node["${n}"].context["${i}"]`,value:w[i]});return c},getNodeParameters(e,t,s,n){const a=this.workflow.getNode(e);if(null===a)return null;const o=[];for(const i in a.parameters)i!==s&&(void 0!==n&&-1===i.toLowerCase().indexOf(n)||o.push.apply(o,this.jsonDataToFilterOption(a.parameters[i],t,i,n,void 0,void 0,s)));return o},getFilterResults(e,t){const s="main",n=this.$store.getters.activeNode;if(null===n)return[];const a=this.$store.getters.getWorkflowExecution;let o=this.workflow.getParentNodes(n.name,s,1),i=this.$store.getters.getWorkflowRunData;null===i&&(i={});let r=[];const l=[];let c,d;if(null!==a&&void 0!==a.data){const t=a.data;c=this.getNodeContext(this.workflow,t,o,n.name,e),c.length&&l.push({name:"Context",options:this.sortOptions(c)})}if(o.length){const s=this.workflow.getNodeConnectionIndexes(n.name,o[0],"main"),a=void 0===s?0:s.sourceIndex;d=this.getNodeRunDataOutput(o[0],i,e,t,0,"main",a,!0);const r=[{name:"JSON",options:[]}];if(o.forEach(t=>{const s=this.$store.getters["pinDataByNodeName"](t);if(s){const n=this.getNodePinDataOutput(t,s,e,!0);r[0].options=r[0].options.concat(n&&n[0].options?n[0].options:[])}}),r[0].options.length>0)if(d){const e=d.find(e=>"JSON"===e.name);e?(e.options||(e.options=[]),(r[0].options||[]).forEach(t=>{const s=e.options.findIndex(e=>e.name===t.name);-1!==s?e.options[s]=t:e.options.push(t)})):d.push(r[0])}else d=r;d&&(JSON.stringify(d).length<102400?l.push({name:"Input Data",options:this.sortOptions(d)}):l.push({name:"Input Data",options:[{name:"[Data to large]"}]}))}const u="$parameter";let p=this.path;p.startsWith("parameters.")&&(p=u+p.substring(10)),l.push({name:this.$locale.baseText("variableSelector.parameters"),options:this.sortOptions(this.getNodeParameters(n.name,u,p,e))}),r.push({name:this.$locale.baseText("variableSelector.currentNode"),options:this.sortOptions(l)});const h=[];let m;const g=this.workflow.getParentNodes(n.name,s),f=Object.entries(this.workflow.nodes);f.sort((e,t)=>g.indexOf(t[0])-g.indexOf(e[0]));for(const[w,y]of f){if(w===n.name)continue;if(ne.includes(y.type))continue;if(m=[{name:this.$locale.baseText("variableSelector.parameters"),options:this.sortOptions(this.getNodeParameters(w,`$node["${w}"].parameter`,void 0,e))}],null!==a&&void 0!==a.data){const t=a.data;o=this.workflow.getParentNodes(w,s,1),c=this.getNodeContext(this.workflow,t,o,w,e),c.length&&(m=[{name:this.$locale.baseText("variableSelector.context"),options:this.sortOptions(c)}])}if(g.includes(w)){const s=this.$store.getters["pinDataByNodeName"](w);d=s?this.getNodePinDataOutput(w,s,e):this.getNodeRunDataOutput(w,i,e,t),d&&m.push({name:this.$locale.baseText("variableSelector.outputData"),options:this.sortOptions(d)})}const r=this.$locale.shortNodeType(y.type);h.push({name:this.$locale.headerText({key:`headers.${r}.displayName`,fallback:w}),options:this.sortOptions(m)})}return r.push({name:this.$locale.baseText("variableSelector.nodes"),options:h}),r=this.removeEmptyEntries(r),null===r?[]:r}}}),oe=ae,ie=(s("5dfa8"),Object(f["a"])(oe,Y,q,!1,null,"781dba94",null)),re=ie.exports,le=s("3fc3"),ce=s("73b3"),de=Object(u["a"])(Q["a"],c["a"],ce["a"]).extend({name:"ExpressionEdit",props:["dialogVisible","parameter","path","value","eventSource"],components:{ExpressionInput:K,VariableSelector:re},data(){return{displayValue:"",latestValue:""}},methods:{valueChanged(e,t=!1){this.latestValue=e,!0===t?(this.updateDisplayValue(),this.$emit("valueChanged",this.latestValue)):this.callDebounced("updateDisplayValue",{debounceTime:500})},updateDisplayValue(){this.displayValue=this.latestValue},closeDialog(){return this.latestValue!==this.value&&this.$emit("valueChanged",this.latestValue),this.$emit("closeDialog"),!1},itemSelected(e){this.$refs.inputFieldExpression.itemSelected(e),this.$externalHooks().run("expressionEdit.itemSelected",{parameter:this.parameter,value:this.value,selectedItem:e});const t={event_version:"2",node_type_dest:this.$store.getters.activeNode.type,parameter_name_dest:this.parameter.displayName,is_immediate_input:!1,variable_expression:e.variable,node_name:this.$store.getters.activeNode.name};if(e.variable){let s=e.variable.split(".");if(e.variable.startsWith("Object.keys")?(s=e.variable.split("(")[1].split(")")[0].split("."),t.variable_type="Keys"):e.variable.startsWith("Object.values")?(s=e.variable.split("(")[1].split(")")[0].split("."),t.variable_type="Values"):t.variable_type="Raw value",s[0].startsWith("$node")){const e=s[0].split('"')[1];t.node_type_source=this.$store.getters.getNodeByName(e).type;const n=this.$store.getters.outgoingConnectionsByNodeName(e).main;t.is_immediate_input=!!(n&&n[0]&&n[0].find(({node:e})=>e===this.$store.getters.activeNode.name)),s[1].startsWith("parameter")&&(t.parameter_name_source=s[1].split('"')[1])}else t.is_immediate_input=!0,s[0].startsWith("$parameter")&&(t.parameter_name_source=s[0].split('"')[1])}this.$telemetry.track("User inserted item from Expression Editor variable selector",t)}},watch:{dialogVisible(e){this.displayValue=this.value,this.latestValue=this.value;const t=this.$refs.expressionResult&&this.$refs.expressionResult.getValue()||void 0;if(this.$externalHooks().run("expressionEdit.dialogVisibleChanged",{dialogVisible:e,parameter:this.parameter,value:this.value,resolvedExpressionValue:t}),!e){const e={empty_expression:"="===this.value||"={{}}"===this.value||!this.value,workflow_id:this.$store.getters.workflowId,source:this.eventSource,session_id:this.$store.getters["ui/ndvSessionId"],has_parameter:this.value.includes("$parameter"),has_mapping:Object(le["j"])(this.value)};this.$telemetry.track("User closed Expression Editor",e),this.$externalHooks().run("expressionEdit.closeDialog",e)}}}}),ue=de,pe=(s("84bb"),Object(f["a"])(ue,L,R,!1,null,"57abc24e",null)),he=pe.exports,me=s("ad7d"),ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.issues.length?s("div",{class:e.$style["parameter-issues"]},[s("n8n-tooltip",{attrs:{placement:"top"}},[s("titled-list",{attrs:{slot:"content",title:e.$locale.baseText("parameterInput.issues")+":",items:e.issues},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1)],1):e._e()},fe=[],we=s("d1e0"),ye=x["default"].extend({name:"ParameterIssues",components:{TitledList:we["a"]},props:["issues"]}),be=ye,ve=s("6222");function xe(e){this["$style"]=ve["default"].locals||ve["default"]}var ke=Object(f["a"])(be,ge,fe,!1,xe,null,null),Te=ke.exports,$e=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("div",{ref:"container",staticClass:"resource-locator"},[n("resource-locator-dropdown",{ref:"dropdown",attrs:{value:t.value?t.value.value:"",show:t.showResourceDropdown,filterable:t.isSearchable,filterRequired:t.requiresSearchFilter,resources:t.currentQueryResults,loading:t.currentQueryLoading,filter:t.searchFilter,hasMore:t.currentQueryHasMore,errorView:t.currentQueryError,width:t.width},on:{input:t.onListItemSelected,hide:t.onDropdownHide,filter:t.onSearchFilter,loadMore:t.loadResourcesDebounced},scopedSlots:t._u([{key:"error",fn:function(){return[n("div",{class:t.$style.error},[n("n8n-text",{attrs:{color:"text-dark",align:"center",tag:"div"}},[t._v(" "+t._s(t.$locale.baseText("resourceLocator.mode.list.error.title"))+" ")]),t.hasCredential?n("n8n-text",{attrs:{size:"small",color:"text-base"}},[t._v(" "+t._s(t.$locale.baseText("resourceLocator.mode.list.error.description.part1"))+" "),n("a",{on:{click:t.openCredential}},[t._v(t._s(t.$locale.baseText("resourceLocator.mode.list.error.description.part2")))]),t._v(" "+t._s(t.$locale.baseText("resourceLocator.mode.list.error.description.part3"))+" ")]):t._e()],1)]},proxy:!0}])},[n("div",{class:(e={},e[t.$style.resourceLocator]=!0,e[t.$style.multipleModes]=t.hasMultipleModes,e)},[t.hasMultipleModes?n("div",{class:t.$style.modeSelector},[n("n8n-select",{attrs:{value:t.selectedMode,filterable:"",size:t.inputSize,disabled:t.isReadOnly,placeholder:t.$locale.baseText("resourceLocator.modeSelector.placeholder")},on:{change:t.onModeSelected}},t._l(t.parameter.modes,(function(e){return n("n8n-option",{key:e.name,attrs:{label:t.$locale.baseText(t.getModeLabel(e.name))||e.displayName,value:e.name,disabled:t.isValueExpression&&"list"===e.name,title:t.isValueExpression&&"list"===e.name?t.$locale.baseText("resourceLocator.mode.list.disabled.title"):""}})})),1)],1):t._e(),n("div",{class:t.$style.inputContainer},[n("draggable-target",{attrs:{type:"mapping",disabled:t.hasOnlyListMode,sticky:!0,stickyOffset:4},on:{drop:t.onDrop},scopedSlots:t._u([{key:"default",fn:function(e){var s,a,o,i=e.droppable,r=e.activeDrop;return[n("div",{class:(s={},s[t.$style.listModeInputContainer]=t.isListMode,s[t.$style.droppable]=i,s[t.$style.activeDrop]=r,s),on:{keydown:function(e){return e.stopPropagation(),t.onKeyDown.apply(null,arguments)}}},[t.isValueExpression||i||t.forceShowExpression?n("n8n-input",{ref:"input",attrs:{type:"text",size:t.inputSize,value:r||t.forceShowExpression?"":t.expressionDisplayValue,title:t.displayTitle},on:{keydown:function(e){e.stopPropagation()}}}):n("n8n-input",{ref:"input",class:(a={},a[t.$style.selectInput]=t.isListMode,a),attrs:{size:t.inputSize,value:t.valueToDisplay,disabled:t.isReadOnly,readonly:t.isListMode,title:t.displayTitle,placeholder:t.inputPlaceholder,type:"text"},on:{input:t.onInputChange,focus:t.onInputFocus,blur:t.onInputBlur}},[t.isListMode?n("div",{attrs:{slot:"suffix"},slot:"suffix"},[n("i",{class:(o={},o["el-input__icon"]=!0,o["el-icon-arrow-down"]=!0,o[t.$style.selectIcon]=!0,o[t.$style.isReverse]=t.showResourceDropdown,o)})]):t._e()])],1)]}}])}),t.parameterIssues&&t.parameterIssues.length?n("parameter-issues",{attrs:{issues:t.parameterIssues}}):t.urlValue?n("div",{class:t.$style.openResourceLink},[n("n8n-link",{attrs:{theme:"text"},on:{click:function(e){return e.stopPropagation(),t.openResource(t.urlValue)}}},[n("font-awesome-icon",{attrs:{icon:"external-link-alt",title:t.getLinkAlt(t.valueToDisplay)}})],1)],1):t._e()],1)])]),t.infoText?n("parameter-input-hint",{staticClass:"mt-4xs",attrs:{hint:t.infoText}}):t._e()],1)},_e=[],Ce=s("d7d2"),Ne=s("5f31"),Ee=s("56d1"),Se=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("n8n-popover",{attrs:{placement:"bottom",width:t.width,"popper-class":t.$style.popover,value:t.show,trigger:"manual"}},[t.errorView?n("div",{class:t.$style.messageContainer},[t._t("error")],2):t._e(),t.filterable&&!t.errorView?n("div",{class:t.$style.searchInput,on:{keydown:t.onKeyDown}},[n("n8n-input",{ref:"search",attrs:{size:"medium",value:t.filter,clearable:!0,placeholder:t.$locale.baseText("resourceLocator.search.placeholder")},on:{input:t.onFilterInput,blur:t.onSearchBlur}},[n("font-awesome-icon",{class:t.$style.searchIcon,attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1)],1):t._e(),!t.filterRequired||t.filter||t.errorView||t.loading?t.errorView||0!==t.sortedResources.length||t.loading?t.errorView?t._e():n("div",{ref:"resultsContainer",class:(e={},e[t.$style.container]=!0,e[t.$style.pushDownResults]=t.filterable,e),on:{scroll:t.onResultsEnd}},[t._l(t.sortedResources,(function(e,s){var a;return n("div",{key:e.value,ref:"item-"+s,refInFor:!0,class:(a={},a[t.$style.resourceItem]=!0,a[t.$style.selected]=e.value===t.value,a[t.$style.hovering]=t.hoverIndex===s,a),on:{click:function(){return t.onItemClick(e.value)},mouseenter:function(){return t.onItemHover(s)},mouseleave:function(){return t.onItemHoverLeave()}}},[n("div",{class:t.$style.resourceNameContainer},[n("span",[t._v(t._s(e.name))])]),n("div",{class:t.$style.urlLink},[t.showHoverUrl&&e.url&&t.hoverIndex===s?n("font-awesome-icon",{attrs:{icon:"external-link-alt",title:e.linkAlt||t.$locale.baseText("resourceLocator.mode.list.openUrl")},on:{click:function(s){return t.openUrl(s,e.url)}}}):t._e()],1)])})),t.loading&&!t.errorView?n("div",t._l(3,(function(e,s){return n("div",{key:s,class:t.$style.loadingItem},[n("n8n-loading",{class:t.$style.loader,attrs:{variant:"p",rows:1}})],1)})),0):t._e()],2):n("div",{class:t.$style.messageContainer},[t._v(" "+t._s(t.$locale.baseText("resourceLocator.mode.list.noResults"))+" ")]):n("div",{class:t.$style.searchRequired},[t._v(" "+t._s(t.$locale.baseText("resourceLocator.mode.list.searchRequired"))+" ")]),t._t("default",null,{slot:"reference"})],2)},De=[];const Ie=40,Oe=10;var Pe=x["default"].extend({name:"resource-locator-dropdown",props:{value:{type:[String,Number]},show:{type:Boolean,default:!1},resources:{type:Array},filterable:{type:Boolean},loading:{type:Boolean},filter:{type:String},hasMore:{type:Boolean},errorView:{type:Boolean},filterRequired:{type:Boolean},width:{type:Number}},data(){return{hoverIndex:0,showHoverUrl:!1}},mounted(){this.$on("keyDown",this.onKeyDown)},computed:{sortedResources(){const e=new Set,{selected:t,notSelected:s}=this.resources.reduce((t,s)=>(e.has(s.value)||(e.add(s.value),this.value&&s.value===this.value?t.selected=s:t.notSelected.push(s)),t),{selected:null,notSelected:[]});return t?[t,...s]:s}},methods:{openUrl(e,t){e.preventDefault(),e.stopPropagation(),window.open(t,"_blank")},onKeyDown(e){const t=this.$refs.resultsContainer;if("ArrowDown"===e.key){if(this.hoverIndex<this.sortedResources.length-1){this.hoverIndex++;const e=this.$refs["item-"+this.hoverIndex];if(t&&Array.isArray(e)&&1===e.length){const s=e[0];if(s.offsetTop+s.clientHeight>t.scrollTop+t.offsetHeight){const e=s.offsetTop-t.offsetHeight+s.clientHeight;t.scrollTo({top:e})}}}}else if("ArrowUp"===e.key){if(this.hoverIndex>0){this.hoverIndex--;const e=this.filterable?Ie:0,s=this.$refs["item-"+this.hoverIndex];if(t&&Array.isArray(s)&&1===s.length){const n=s[0];n.offsetTop<=t.scrollTop+e&&t.scrollTo({top:n.offsetTop-e})}}}else"Enter"===e.key&&this.$emit("input",this.sortedResources[this.hoverIndex].value)},onFilterInput(e){this.$emit("filter",e)},onSearchBlur(){this.$emit("hide")},onItemClick(e){this.$emit("input",e)},onItemHover(e){this.hoverIndex=e,setTimeout(()=>{this.hoverIndex===e&&(this.showHoverUrl=!0)},250)},onItemHoverLeave(){this.showHoverUrl=!1},onResultsEnd(){if(this.loading||!this.hasMore)return;const e=this.$refs.resultsContainer;if(e){const t=e.offsetHeight-(e.scrollHeight-e.scrollTop);t>-Oe&&t<Oe&&this.$emit("loadMore")}}},watch:{show(e){e&&(this.hoverIndex=0,this.showHoverUrl=!1),setTimeout(()=>{e&&this.filterable&&this.$refs.search&&this.$refs.search.focus()},0)},loading(){setTimeout(this.onResultsEnd,0)}}}),Ae=Pe,Me=s("2c07");function Le(e){this["$style"]=Me["default"].locals||Me["default"]}var Re=Object(f["a"])(Ae,Se,De,!1,Le,null,null),We=Re.exports,Be=s("1b36"),Ve=s.n(Be),Ue=s("6fae"),je=s("5b39"),Fe=Object(u["a"])(ce["a"],d["a"],Ue["a"]).extend({name:"resource-locator",components:{DraggableTarget:Ne["a"],ExpressionEdit:he,ParameterIssues:Te,ParameterInputHint:Ee["a"],ResourceLocatorDropdown:We},props:{parameter:{type:Object,required:!0},value:{type:[Object,String]},inputSize:{type:String,default:"small",validator:e=>["mini","small","medium","large","xlarge"].includes(e)},parameterIssues:{type:Array,default(){return[]}},displayTitle:{type:String,default:""},expressionDisplayValue:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},forceShowExpression:{type:Boolean,default:!1},isValueExpression:{type:Boolean,default:!1},expressionEditDialogVisible:{type:Boolean,default:!1},node:{type:Object},path:{type:String},loadOptionsMethod:{type:String}},data(){return{mainPanelMutationSubscription:()=>{},showResourceDropdown:!1,searchFilter:"",cachedResponses:{},hasCompletedASearch:!1,width:0}},computed:{appName(){if(!this.node)return"";const e=this.$store.getters["nodeTypes/getNodeType"](this.node.type);return Object(le["g"])(e.displayName)},selectedMode(){return"object"!==typeof this.value?"":this.value?this.value.mode:this.parameter.modes?this.parameter.modes[0].name:""},isListMode(){return"list"===this.selectedMode},hasCredential(){const e=this.$store.getters.activeNode;return!!e&&!(!e||!e.credentials||1!==Object.keys(e.credentials).length)},inputPlaceholder(){if(this.currentMode.placeholder)return this.currentMode.placeholder;const e={list:this.$locale.baseText("resourceLocator.mode.list.placeholder"),id:this.$locale.baseText("resourceLocator.id.placeholder"),url:this.$locale.baseText("resourceLocator.url.placeholder")};return e[this.selectedMode]||""},infoText(){return this.currentMode.hint?this.currentMode.hint:""},currentMode(){return this.findModeByName(this.selectedMode)||{}},hasMultipleModes(){return!!(this.parameter.modes&&this.parameter.modes.length>1)},hasOnlyListMode(){return Object(Ce["a"])(this.parameter)},valueToDisplay(){return"object"!==typeof this.value?this.value:this.isListMode?this.value?this.value.cachedResultName||this.value.value:"":this.value?this.value.value:""},urlValue(){if(this.isListMode&&"object"===typeof this.value)return this.value&&this.value.cachedResultUrl||null;if("url"===this.selectedMode){if(this.isValueExpression&&"string"===typeof this.expressionDisplayValue&&this.expressionDisplayValue.startsWith("http"))return this.expressionDisplayValue;if("string"===typeof this.valueToDisplay&&this.valueToDisplay.startsWith("http"))return this.valueToDisplay}if(this.currentMode.url){const e=this.isValueExpression?this.expressionDisplayValue:this.valueToDisplay;if("string"===typeof e){const t=this.currentMode.url.replace(/\{\{\$value\}\}/g,e),s=this.resolveExpression(t);return"string"===typeof s?s:null}}return null},currentRequestParams(){return{parameters:this.node.parameters,credentials:this.node.credentials,filter:this.searchFilter}},currentRequestKey(){const e={...this.currentRequestParams};return e.parameters=Object.keys(this.node?this.node.parameters:{}).reduce((e,t)=>(t!==this.parameter.name&&this.node&&this.node.parameters&&(e[t]=this.node.parameters[t]),e),{}),Ve()(e)},currentResponse(){return this.cachedResponses[this.currentRequestKey]||null},currentQueryResults(){const e=this.currentResponse?this.currentResponse.results:[];return e.map(e=>({...e,...e.name&&e.url?{linkAlt:this.getLinkAlt(e.name)}:{}}))},currentQueryHasMore(){return!(!this.currentResponse||!this.currentResponse.nextPageToken)},currentQueryLoading(){return(!this.requiresSearchFilter||""!==this.searchFilter)&&(!this.currentResponse||!(!this.currentResponse||!this.currentResponse.loading))},currentQueryError(){return!(!this.currentResponse||!this.currentResponse.error)},isSearchable(){return!!this.getPropertyArgument(this.currentMode,"searchable")},requiresSearchFilter(){return!!this.getPropertyArgument(this.currentMode,"searchFilterRequired")}},watch:{currentQueryError(e,t){if(this.showResourceDropdown&&e&&!t){const e=this.$refs.input;e&&e.focus()}},isValueExpression(e){!0===e&&this.switchFromListMode()},currentMode(e){e.extractValue&&e.extractValue.regex&&Object(je["a"])(this.value)&&this.value.__regex!==e.extractValue.regex&&this.$emit("input",{...this.value,__regex:e.extractValue.regex})}},mounted(){this.$on("refreshList",this.refreshList),this.setWidth(),window.addEventListener("resize",this.setWidth),this.mainPanelMutationSubscription=this.$store.subscribe(this.setWidthOnMainPanelResize)},beforeDestroy(){this.mainPanelMutationSubscription(),window.removeEventListener("resize",this.setWidth)},methods:{setWidth(){this.width=this.$refs.container.offsetWidth},setWidthOnMainPanelResize(e){"ui/setMainPanelDimensions"===e.type&&this.setWidth()},getLinkAlt(e){return"list"===this.selectedMode&&e?this.$locale.baseText("resourceLocator.openSpecificResource",{interpolate:{entity:e,appName:this.appName}}):this.$locale.baseText("resourceLocator.openResource",{interpolate:{appName:this.appName}})},refreshList(){this.cachedResponses={},this.trackEvent("User refreshed resource locator list")},onKeyDown(e){const t=this.$refs.dropdown;t&&this.showResourceDropdown&&!this.isSearchable&&t.$emit("keyDown",e)},openResource(e){window.open(e,"_blank"),this.trackEvent("User clicked resource locator link")},getPropertyArgument(e,t){if(void 0!==e.typeOptions&&void 0!==e.typeOptions[t])return e.typeOptions[t]},openCredential(){const e=this.$store.getters.activeNode;if(!e||!e.credentials)return;const t=Object.keys(e.credentials)[0];if(!t)return;const s=e.credentials[t].id;this.$store.dispatch("ui/openExistingCredential",{id:s})},findModeByName(e){return this.parameter.modes&&this.parameter.modes.find(t=>t.name===e)||null},getModeLabel(e){return"id"===e||"url"===e||"list"===e?this.$locale.baseText("resourceLocator.mode."+e):null},onInputChange(e){const t={__rl:!0,value:e,mode:this.selectedMode};if(this.isListMode){const s=this.currentQueryResults.find(t=>t.value===e);s&&s.name&&(t.cachedResultName=s.name),s&&s.url&&(t.cachedResultUrl=s.url)}this.$emit("input",t)},onModeSelected(e){"object"!==typeof this.value?this.$emit("input",{__rl:!0,value:this.value,mode:e}):"url"===e&&this.value&&this.value.cachedResultUrl?this.$emit("input",{__rl:!0,mode:e,value:this.value.cachedResultUrl}):"id"===e&&"list"===this.selectedMode&&this.value&&this.value.value?this.$emit("input",{__rl:!0,mode:e,value:this.value.value}):this.$emit("input",{__rl:!0,mode:e,value:""}),this.trackEvent("User changed resource locator mode",{mode:e})},trackEvent(e,t){this.$telemetry.track(e,{instance_id:this.$store.getters.instanceId,workflow_id:this.$store.getters.workflowId,node_type:this.node&&this.node.type,resource:this.node&&this.node.parameters&&this.node.parameters.resource,operation:this.node&&this.node.parameters&&this.node.parameters.operation,field_name:this.parameter.name,...t})},onDrop(e){this.switchFromListMode(),this.$emit("drop",e)},onSearchFilter(e){this.searchFilter=e,this.loadResourcesDebounced()},async loadInitialResources(){(!this.currentResponse||this.currentResponse&&this.currentResponse.error)&&(this.searchFilter="",this.loadResources())},loadResourcesDebounced(){this.callDebounced("loadResources",{debounceTime:1e3,trailing:!0})},setResponse(e,t){this.cachedResponses={...this.cachedResponses,[e]:{...this.cachedResponses[e],...t}}},async loadResources(){const e=this.currentRequestParams,t=this.currentRequestKey,s=this.cachedResponses[t];if(this.requiresSearchFilter&&!e.filter)return;let n=null;try{if(s){const e=s.nextPageToken;if(e)n=e,this.setResponse(t,{loading:!0});else{if(!s.error)return;this.setResponse(t,{error:!1,loading:!0})}}else this.setResponse(t,{loading:!0,error:!1,results:[],nextPageToken:null});const a=this.resolveParameter(e.parameters),o=this.getPropertyArgument(this.currentMode,"searchListMethod"),i=this.getPropertyArgument(this.currentMode,"searchList"),r={nodeTypeAndVersion:{name:this.node.type,version:this.node.typeVersion},path:this.path,methodName:o,searchList:i,currentNodeParameters:a,credentials:this.node.credentials,...e.filter?{filter:e.filter}:{},...n?{paginationToken:n}:{}},l=await this.$store.dispatch("nodeTypes/getResourceLocatorResults",r);this.setResponse(t,{results:(s?s.results:[]).concat(l.results),nextPageToken:l.paginationToken||null,loading:!1,error:!1}),e.filter&&!this.hasCompletedASearch&&(this.hasCompletedASearch=!0,this.trackEvent("User searched resource locator list"))}catch(a){this.setResponse(t,{loading:!1,error:!0})}},onInputFocus(){this.isListMode&&!this.showResourceDropdown&&(this.loadInitialResources(),this.showResourceDropdown=!0)},switchFromListMode(){if(this.isListMode&&this.parameter.modes&&this.parameter.modes.length>1){let e=this.findModeByName("id");e||(e=this.parameter.modes.filter(e=>"list"!==e.name)[0]),e&&this.$emit("input",{__rl:!0,value:this.value&&"object"===typeof this.value?this.value.value:"",mode:e.name})}},onDropdownHide(){this.currentQueryError||(this.showResourceDropdown=!1)},onListItemSelected(e){this.onInputChange(e),this.showResourceDropdown=!1},onInputBlur(){this.isSearchable&&!this.currentQueryError||(this.showResourceDropdown=!1)}}}),ze=Fe,He=s("7582");function Ge(e){this["$style"]=He["default"].locals||He["default"]}var Ke=Object(f["a"])(ze,$e,_e,!1,Ge,null,null),Ye=Ke.exports,qe=s("789a"),Je=s.n(qe),Xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.dialogVisible?s("div",[s("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":"",width:"80%",title:e.$locale.baseText("textEdit.edit")+" "+e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path),"before-close":e.closeDialog}},[s("div",{staticClass:"ignore-key-press"},[s("n8n-input-label",{attrs:{label:e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path)}},[s("div",{on:{keydown:[function(e){e.stopPropagation()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onKeyDownEsc()}]}},[s("n8n-input",{ref:"inputField",attrs:{type:"textarea",value:e.value,placeholder:e.$locale.nodeText().placeholder(e.parameter,e.path),rows:15},on:{change:e.valueChanged,keydown:function(t){return t.stopPropagation(),e.noOp.apply(null,arguments)}},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1)])],1)])],1):e._e()},Qe=[],Ze=x["default"].extend({name:"TextEdit",props:["dialogVisible","parameter","path","value"],data(){return{tempValue:""}},methods:{valueChanged(e){this.$emit("valueChanged",e)},onKeyDownEsc(){this.tempValue=this.value,this.closeDialog()},closeDialog(){return this.$emit("closeDialog"),!1}},mounted(){this.tempValue=this.value},watch:{dialogVisible(){!0===this.dialogVisible&&x["default"].nextTick(()=>{this.$refs.inputField.focus()})},value(){this.tempValue=this.value}}}),et=Ze,tt=Object(f["a"])(et,Xe,Qe,!1,null,null,null),st=tt.exports,nt=s("77f0"),at=Object(u["a"])(Q["a"],Ue["a"],nt["a"],d["a"]).extend({name:"parameter-input",components:{CodeEdit:y,ExpressionEdit:he,NodeCredentials:S["a"],CredentialsSelect:M,PrismEditor:Je.a,ScopesNotice:E,ParameterOptions:me["a"],ParameterIssues:Te,ResourceLocator:Ye,TextEdit:st},props:["inputSize","isReadOnly","documentationUrl","parameter","path","value","hideIssues","errorHighlight","isForCredential","eventSource","activeDrop","droppable","forceShowExpression"],data(){return{codeEditDialogVisible:!1,nodeName:"",expressionAddOperation:"set",expressionEditDialogVisible:!1,remoteParameterOptions:[],remoteParameterOptionsLoading:!1,remoteParameterOptionsLoadingIssues:null,textEditDialogVisible:!1,tempValue:"",CUSTOM_API_CALL_KEY:p["L"],activeCredentialType:"",dateTimePickerOptions:{shortcuts:[{text:"Today",onClick(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick(e){const t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"A week ago",onClick(e){const t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},watch:{dependentParametersValues(){this.loadRemoteParameterOptions()},value(){"color"===this.parameter.type&&!0===this.getArgument("showAlpha")||(this.tempValue=this.displayValue)}},computed:{...Object(k["b"])("credentials",["allCredentialTypes"]),isValueExpression(){return Object(le["n"])(this.parameter,this.value)},areExpressionsDisabled(){return this.$store.getters["ui/areExpressionsDisabled"]},codeAutocomplete(){return this.getArgument("codeAutocomplete")},dependentParametersValues(){const e=this.getArgument("loadOptionsDependsOn");if(void 0===e)return null;const t=this.$store.getters.activeNode.parameters;try{const s=this.resolveParameter(t),n=[];for(const t of e)n.push(Object(o["get"])(s,t));return n.join("|")}catch(s){return null}},node(){return this.$store.getters.activeNode},displayTitle(){const e={interpolate:{shortPath:this.shortPath}};return this.getIssues.length&&this.isValueExpression?this.$locale.baseText("parameterInput.parameterHasIssuesAndExpression",e):this.getIssues.length&&!this.isValueExpression?this.$locale.baseText("parameterInput.parameterHasIssues",e):!this.getIssues.length&&this.isValueExpression?this.$locale.baseText("parameterInput.parameterHasExpression",e):this.$locale.baseText("parameterInput.parameter",e)},displayValue(){if(!0===this.remoteParameterOptionsLoading)return this.$locale.baseText("parameterInput.loadingOptions");let e;if(e=!1===this.isValueExpression?this.isResourceLocatorParameter?this.value?this.value.value:"":this.value:this.expressionValueComputed,"credentialsSelect"===this.parameter.type){const t=this.$store.getters["credentials/getCredentialTypeByName"](this.value);t&&(e=t.displayName)}if("color"===this.parameter.type&&!0===this.getArgument("showAlpha")&&"#"===e.charAt(0)){const t=parseInt(e.slice(1),16),s=[];s.push(t>>24&255),s.push(t>>16&255),s.push(t>>8&255),s.push((255-t&255)/255),e="rgba("+s.join()+")"}if(void 0!==e&&null!==e&&"string"===this.parameter.type){const t=this.getArgument("rows");void 0!==t&&1!==t||(e=e.toString().replace(/\n/,"|"))}return e},expressionDisplayValue(){const e=this.displayValue;return"number"===typeof e||"boolean"===typeof e?JSON.stringify(e):null===e?"":e},expressionValueComputed(){if(this.areExpressionsDisabled)return this.value;if(null===this.node)return null;let e;try{e=this.resolveExpression(this.value.value||this.value)}catch(t){e=`[${this.$locale.baseText("parameterInput.error")}}: ${t.message}]`}return e},getStringInputType(){if(!0===this.getArgument("password"))return"password";const e=this.getArgument("rows");return void 0!==e&&e>1||"code"===this.parameter.type?"textarea":"text"},getIssues(){if(!0===this.hideIssues||null===this.node)return[];const e=this.shortPath.split(".");e.pop();const t=i["NodeHelpers"].getParameterIssues(this.parameter,this.node.parameters,e.join("."),this.node);if("credentialsSelect"===this.parameter.type&&""===this.displayValue){t.parameters=t.parameters||{};const e=this.$locale.baseText("parameterInput.selectACredentialTypeFromTheDropdown");t.parameters[this.parameter.name]=[e]}else if(["options","multiOptions"].includes(this.parameter.type)&&!1===this.remoteParameterOptionsLoading&&null===this.remoteParameterOptionsLoadingIssues){const e=this.parameterOptions.map(e=>e.value),s=[];this.skipCheck(this.displayValue)||(Array.isArray(this.displayValue)?s.push.apply(s,this.displayValue):s.push(this.displayValue));for(const n of s)if(null===n||!e.includes(n)){void 0===t.parameters&&(t.parameters={});const e=this.$locale.baseText("parameterInput.theValueIsNotSupported",{interpolate:{checkValue:n}});t.parameters[this.parameter.name]=[e]}}else null!==this.remoteParameterOptionsLoadingIssues&&(void 0===t.parameters&&(t.parameters={}),t.parameters[this.parameter.name]=[`There was a problem loading the parameter options from server: "${this.remoteParameterOptionsLoadingIssues}"`]);return void 0!==t&&void 0!==t.parameters&&void 0!==t.parameters[this.parameter.name]?t.parameters[this.parameter.name]:[]},isEditor(){return["code","json"].includes(this.editorType)},editorType(){return this.getArgument("editor")},parameterOptions(){return!1===this.hasRemoteMethod?this.parameter.options:this.remoteParameterOptions},parameterInputClasses(){const e={droppable:this.droppable,activeDrop:this.activeDrop},t=this.getArgument("rows"),s="string"===this.parameter.type&&void 0!==t,n="boolean"===this.parameter.type&&!this.isValueExpression;return s||n||(e["parameter-value-container"]=!0),(this.isValueExpression||this.forceShowExpression)&&(e["expression"]=!0),this.droppable||this.activeDrop||!this.getIssues.length&&!this.errorHighlight||(e["has-issues"]=!0),e},parameterInputWrapperStyle(){let e=0;const t={width:"100%"};return"credentialsSelect"===this.parameter.type||this.isResourceLocatorParameter||(this.getIssues.length&&(e+=20),0!==e&&(t.width=`calc(100% - ${e}px)`)),t},hasRemoteMethod(){return!!this.getArgument("loadOptionsMethod")||!!this.getArgument("loadOptions")},shortPath(){const e=this.path.split(".");return e.shift(),e.join(".")},workflow(){return this.getCurrentWorkflow()},isResourceLocatorParameter(){return"resourceLocator"===this.parameter.type}},methods:{isRemoteParameterOption(e){return this.remoteParameterOptions.map(e=>e.name).includes(e.name)},credentialSelected(e){this.$store.commit("updateNodeProperties",e);const t=this.$store.getters.getNodeByName(e.name);this.updateNodeCredentialIssues(t),this.$externalHooks().run("nodeSettings.credentialSelected",{updateInformation:e})},skipCheck(e){return"string"===typeof e&&e.includes(p["L"])},getPlaceholder(){return this.isForCredential?this.$locale.credText().placeholder(this.parameter):this.$locale.nodeText().placeholder(this.parameter,this.path)},getOptionsOptionDisplayName(e){return this.isForCredential?this.$locale.credText().optionsOptionDisplayName(this.parameter,e):this.$locale.nodeText().optionsOptionDisplayName(this.parameter,e,this.path)},getOptionsOptionDescription(e){return this.isForCredential?this.$locale.credText().optionsOptionDescription(this.parameter,e):this.$locale.nodeText().optionsOptionDescription(this.parameter,e,this.path)},async loadRemoteParameterOptions(){if(null!==this.node&&!1!==this.hasRemoteMethod&&!this.remoteParameterOptionsLoading){this.remoteParameterOptionsLoadingIssues=null,this.remoteParameterOptionsLoading=!0,this.remoteParameterOptions.length=0;try{const e=this.$store.getters.activeNode.parameters,t=this.resolveParameter(e),s=this.getArgument("loadOptionsMethod"),n=this.getArgument("loadOptions"),a=await this.$store.dispatch("nodeTypes/getNodeParameterOptions",{nodeTypeAndVersion:{name:this.node.type,version:this.node.typeVersion},path:this.path,methodName:s,loadOptions:n,currentNodeParameters:t,credentials:this.node.credentials});this.remoteParameterOptions.push.apply(this.remoteParameterOptions,a)}catch(e){this.remoteParameterOptionsLoadingIssues=e.message}this.remoteParameterOptionsLoading=!1}},closeCodeEditDialog(){this.codeEditDialogVisible=!1},closeExpressionEditDialog(){this.expressionEditDialogVisible=!1},trackExpressionEditOpen(){this.node&&this.node.type.startsWith("n8n-nodes-base")&&this.$telemetry.track("User opened Expression Editor",{node_type:this.node.type,parameter_name:this.parameter.displayName,parameter_field_type:this.parameter.type,new_expression:!this.isValueExpression,workflow_id:this.$store.getters.workflowId,session_id:this.$store.getters["ui/ndvSessionId"],source:this.eventSource||"ndv"})},closeTextEditDialog(){this.textEditDialogVisible=!1},displayEditDialog(){this.isEditor?this.codeEditDialogVisible=!0:this.textEditDialogVisible=!0},getArgument(e){if(void 0!==this.parameter.typeOptions&&void 0!==this.parameter.typeOptions[e])return this.parameter.typeOptions[e]},expressionUpdated(e){const t=this.isResourceLocatorParameter?{__rl:!0,value:e,mode:this.value.mode}:e;this.valueChanged(t)},openExpressionEdit(){if(!this.areExpressionsDisabled)return this.isValueExpression?(this.expressionEditDialogVisible=!0,void this.trackExpressionEditOpen()):void 0},onBlur(){this.$emit("blur")},onResourceLocatorDrop(e){this.$emit("drop",e)},setFocus(){if(this.isValueExpression)return this.expressionEditDialogVisible=!0,void this.trackExpressionEditOpen();["json","string"].includes(this.parameter.type)&&this.getArgument("alwaysOpenEditWindow")?this.displayEditDialog():(null!==this.node&&(this.nodeName=this.node.name),setTimeout(()=>{this.$refs.inputField&&this.$refs.inputField.$el&&this.$refs.inputField.focus()}),this.$emit("focus"))},rgbaToHex(e){const t=e.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d+(\.\d+)?)\)$/);if(null===t)return null;const[s,n,a,o]=t.splice(1,4).map(e=>Number(e));return"#"+((1<<24)+(s<<16)+(n<<8)+a).toString(16).slice(1)+(256+Math.floor(255*(1-o))).toString(16).slice(1)},onTextInputChange(e){const t={node:null!==this.node?this.node.name:this.nodeName,name:this.path,value:e};this.$emit("textInput",t)},valueChanged(e){if("nodeCredentialType"===this.parameter.name&&(this.activeCredentialType=e),e instanceof Date&&(e=e.toISOString()),"color"===this.parameter.type&&!0===this.getArgument("showAlpha")&&null!==e&&"#"!==e.toString().charAt(0)){const t=this.rgbaToHex(e);null!==t&&(this.tempValue=t,e=t)}const t={node:null!==this.node?this.node.name:this.nodeName,name:this.path,value:e};this.$emit("valueChanged",t),"operation"!==this.parameter.name&&"mode"!==this.parameter.name||this.$telemetry.track("User set node operation or mode",{workflow_id:this.$store.getters.workflowId,node_type:this.node&&this.node.type,resource:this.node&&this.node.parameters.resource,is_custom:e===p["L"],session_id:this.$store.getters["ui/ndvSessionId"],parameter:this.parameter.name})},optionSelected(e){const t=this.value;if("resetValue"===e)this.valueChanged(this.parameter.default);else if("openExpression"===e)this.expressionEditDialogVisible=!0;else if("addExpression"===e)this.isResourceLocatorParameter?Object(je["a"])(this.value)?this.valueChanged({__rl:!0,value:"="+this.value.value,mode:this.value.mode}):this.valueChanged({__rl:!0,value:"="+this.value,mode:""}):"number"===this.parameter.type||"boolean"===this.parameter.type?this.valueChanged(`={{${this.value}}}`):this.valueChanged("="+this.value),setTimeout(()=>{this.expressionEditDialogVisible=!0,this.trackExpressionEditOpen()},375);else if("removeExpression"===e){let e=this.expressionValueComputed;"multiOptions"===this.parameter.type&&"string"===typeof e&&(e=(e||"").split(",").filter(e=>(this.parameterOptions||[]).find(t=>t.value===e))),this.isResourceLocatorParameter?this.valueChanged({__rl:!0,value:e,mode:this.value.mode}):this.valueChanged("undefined"!==typeof e?e:null)}else if("refreshOptions"===e){if(this.isResourceLocatorParameter){const e=this.$refs.resourceLocator;e&&e.$emit("refreshList")}this.loadRemoteParameterOptions()}if(this.node&&("addExpression"===e||"removeExpression"===e)){const s={node_type:this.node.type,parameter:this.path,old_mode:"addExpression"===e?"fixed":"expression",new_mode:"removeExpression"===e?"fixed":"expression",was_parameter_empty:""===t||void 0===t,had_mapping:Object(le["j"])(t),had_parameter:"string"===typeof t&&t.includes("$parameter")};this.$telemetry.track("User switched parameter mode",s),this.$externalHooks().run("parameterInput.modeSwitch",s)}}},updated(){this.$nextTick(()=>{const e=this.$el.querySelectorAll(".remote-parameter-option");e.length>0&&this.$externalHooks().run("parameterInput.updated",{remoteParameterOptions:e})})},mounted(){if(this.$on("optionSelected",this.optionSelected),this.tempValue=this.displayValue,null!==this.node&&(this.nodeName=this.node.name),this.node&&"predefinedCredentialType"===this.node.parameters.authentication&&(this.activeCredentialType=this.node.parameters.nodeCredentialType),"color"===this.parameter.type&&!0===this.getArgument("showAlpha")&&null!==this.displayValue&&"#"!==this.displayValue.toString().charAt(0)){const e=this.rgbaToHex(this.displayValue);null!==e&&(this.tempValue=e)}if(!0===this.hasRemoteMethod&&null!==this.node&&(this.$watch(()=>this.node.credentials,()=>{this.loadRemoteParameterOptions()},{deep:!0,immediate:!0}),this.parameter.typeOptions&&this.parameter.typeOptions.reloadOnChange)){const e=this.parameter.typeOptions.reloadOnChange;for(let t=0;t<e.length;t++){const s=e[t];s in this.node.parameters&&this.$watch(()=>this.node&&this.node.parameters&&this.node.parameters[s]?this.node.parameters[s]:null,()=>{this.loadRemoteParameterOptions()},{deep:!0,immediate:!0})}}this.$externalHooks().run("parameterInput.mount",{parameter:this.parameter,inputFieldRef:this.$refs["inputField"]})}}),ot=at,it=(s("f14f"),s("a3f3"),Object(f["a"])(ot,n,a,!1,null,"cacb7184",null));t["a"]=it.exports},"8a6c":function(e,t,s){},"8aea":function(e,t,s){"use strict";var n=s("c8ea"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"8c2b":function(e,t,s){},"8d20":function(e,t,s){},"8da0":function(e,t,s){e.exports={content:"DeleteUserModal_content_mVAN8",innerContent:"DeleteUserModal_innerContent_1d-qQ",optionInput:"DeleteUserModal_optionInput_gAGhM"}},"8f74":function(e,t,s){e.exports={wrapper:"TemplatesCollectionView_wrapper_eDf20",notFound:"TemplatesCollectionView_notFound_B5JRx",title:"TemplatesCollectionView_title_1KJg9",button:"TemplatesCollectionView_button_390Ft",mainContent:"TemplatesCollectionView_mainContent_2fyNi",markdown:"TemplatesCollectionView_markdown_1PZRc",details:"TemplatesCollectionView_details_1lwj_"}},"90c6":function(e,t,s){"use strict";s("0e0c")},"938e":function(e,t,s){},"947a":function(e,t,s){},"95d1":function(e,t,s){e.exports={title:"UpdatesPanel_title_1crRo",description:"UpdatesPanel_description_2k1V3",versions:"UpdatesPanel_versions_RDbWS","versions-card":"UpdatesPanel_versions-card_gw8ew"}},"95e3":function(e,t,s){},"96db":function(e,t,s){e.exports={subcategory:"SubcategoryItem_subcategory_1qA9P",details:"SubcategoryItem_details_vkl5C",title:"SubcategoryItem_title_bhMTr",description:"SubcategoryItem_description_3eMGH",action:"SubcategoryItem_action_18PKP",arrow:"SubcategoryItem_arrow_1jPkb"}},"96f7":function(e,t,s){},"98cb":function(e,t,s){"use strict";s("6314")},9934:function(e,t,s){"use strict";var n=s("ab90"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"99ee":function(e,t,s){},"9a07":function(e,t,s){"use strict";s("a773")},"9a35":function(e,t,s){"use strict";var n=s("d021"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"9a71":function(e,t,s){"use strict";s("24d5")},"9a91":function(e,t,s){"use strict";s("ba99")},"9aab":function(e,t,s){"use strict";s("6429")},"9b17":function(e,t,s){e.exports={wrapper:"PageViewLayout_wrapper_3aWUv",expandedSidebar:"PageViewLayout_expandedSidebar_3f-Zc",container:"PageViewLayout_container_oPjdB",aside:"PageViewLayout_aside_2QSfk",content:"PageViewLayout_content_2gKq7"}},"9c71":function(e,t,s){e.exports={dataPanel:"NDVDraggablePanels_dataPanel_1jhpf",inputPanel:"NDVDraggablePanels_inputPanel_26CHt NDVDraggablePanels_dataPanel_1jhpf",outputPanel:"NDVDraggablePanels_outputPanel_FMqC- NDVDraggablePanels_dataPanel_1jhpf",mainPanel:"NDVDraggablePanels_mainPanel_1UN3R",draggable:"NDVDraggablePanels_draggable_1hzPK",mainPanelInner:"NDVDraggablePanels_mainPanelInner_3a0l1",dragging:"NDVDraggablePanels_dragging_32RLP",dragButtonContainer:"NDVDraggablePanels_dragButtonContainer_1APio",visible:"NDVDraggablePanels_visible_1eJRu"}},"9e93":function(e,t,s){"use strict";var n=s("8667"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},"9fc2":function(e,t,s){"use strict";s("c397")},"9fe3":function(e,t,s){e.exports={descriptionContainer:"CommunityPackageInstallModal_descriptionContainer_3bcAw",formContainer:"CommunityPackageInstallModal_formContainer_2mkkJ",checkbox:"CommunityPackageInstallModal_checkbox_1zKnF",error:"CommunityPackageInstallModal_error_2egm8"}},a07b:function(e,t,s){"use strict";s("bbca")},a10d:function(e,t,s){"use strict";var n=s("306e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},a125:function(e,t,s){},a147:function(e,t,s){e.exports={container:"CredentialConfig_container_24lSK"}},a185:function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return d}));var n=s("8206"),a=s.n(n);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i extends Error{constructor(e,t={}){super(e),o(this,"httpStatusCode",void 0),o(this,"errorCode",void 0),o(this,"serverStackTrace",void 0),this.name="ResponseError";const{errorCode:s,httpStatusCode:n,stack:a}=t;s&&(this.errorCode=s),n&&(this.httpStatusCode=n),a&&(this.serverStackTrace=a)}}async function r(e){const{method:t,baseURL:s,endpoint:n,headers:o,data:r}=e,l={method:t,url:n,baseURL:s,headers:o};["POST","PATCH","PUT"].includes(t)?l.data=r:l.params=r;try{const e=await a.a.request(l);return e.data}catch(c){if("Network Error"===c.message)throw new i("API-Server can not be reached. It is probably down.");const e=c.response.data;if(void 0!==e&&void 0!==e.message){if("NodeApiError"===e.name)throw e.httpStatusCode=c.response.status,e;throw new i(e.message,{errorCode:e.code,httpStatusCode:c.response.status,stack:e.stack})}throw c}}async function l(e,t,s,n){const a=await r({method:t,baseURL:e.baseUrl,endpoint:s,headers:{sessionid:e.sessionId},data:n});return a.data}async function c(e,t,s,n){return await r({method:"GET",baseURL:e,endpoint:t,headers:n,data:s})}async function d(e,t,s,n){return await r({method:"POST",baseURL:e,endpoint:t,headers:n,data:s})}},a1a2:function(e,t,s){e.exports={container:"CredentialSharing-ee_container_lAVVy"}},a1ce:function(e,t,s){e.exports={header:"TemplateList_header_eVu0Y",workflowButton:"TemplateList_workflowButton_CfqA-",button:"TemplateList_button_3Xax3",nodes:"TemplateList_nodes_1tyam"}},a317:function(e,t,s){e.exports={modeSelector:"ResourceLocator_modeSelector_12oBW",resourceLocator:"ResourceLocator_resourceLocator_WoKif",inputContainer:"ResourceLocator_inputContainer_76AyB",multipleModes:"ResourceLocator_multipleModes_HDMNI",droppable:"ResourceLocator_droppable_3k_ep",activeDrop:"ResourceLocator_activeDrop_2L0y8",selectInput:"ResourceLocator_selectInput_UXUOF",selectIcon:"ResourceLocator_selectIcon_2z3d2",isReverse:"ResourceLocator_isReverse_2Mve2",listModeInputContainer:"ResourceLocator_listModeInputContainer__3pAN",error:"ResourceLocator_error_qzF5C",openResourceLink:"ResourceLocator_openResourceLink_1BIpK"}},a3f3:function(e,t,s){"use strict";s("30a6")},a584:function(e,t,s){"use strict";var n=s("ba1f"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},a5a8:function(e,t,s){"use strict";var n=s("96db"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},a6cb:function(e,t,s){},a752:function(e,t,s){e.exports={container:"WorkflowPreview_container_3AvDe",workflow:"WorkflowPreview_workflow_35pI7",show:"WorkflowPreview_show_3j1tG",openNDV:"WorkflowPreview_openNDV_234_d"}},a773:function(e,t,s){},a78a:function(e,t,s){},a8c5:function(e,t,s){"use strict";var n=s("8041"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},aa65:function(e,t,s){e.exports={popover:"ResourceLocatorDropdown_popover_3fqxJ",pushDownResults:"ResourceLocatorDropdown_pushDownResults_1SVL8",container:"ResourceLocatorDropdown_container_1JrZz",messageContainer:"ResourceLocatorDropdown_messageContainer_29e4Q",searchInput:"ResourceLocatorDropdown_searchInput_2rwU2",selected:"ResourceLocatorDropdown_selected_24SFg",resourceItem:"ResourceLocatorDropdown_resourceItem_W1NZW",loadingItem:"ResourceLocatorDropdown_loadingItem_2d678",loader:"ResourceLocatorDropdown_loader_2ZfpU",hovering:"ResourceLocatorDropdown_hovering_2tp0d",searchRequired:"ResourceLocatorDropdown_searchRequired_2Oldz",urlLink:"ResourceLocatorDropdown_urlLink_PLDuy",resourceNameContainer:"ResourceLocatorDropdown_resourceNameContainer_39KHq",searchIcon:"ResourceLocatorDropdown_searchIcon_UcCDf"}},ab6b:function(e,t,s){"use strict";s("5754")},ab6f:function(e,t){(function(){var e=this,t=e.jsPlumb,s=e.jsPlumbUtil,n=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};s.extend(n,t.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(e){this._jsPlumb.displayElements.push(e)}}),t.Endpoints.N8nPlus=function(e){t.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="N8nPlus",this.label="",this.labelOffset=0,this.size="medium",this.showOutputLabel=!0;const a={medium:24,small:18},o=40;n.apply(this,arguments);var i=e.cssClass?" "+e.cssClass:"";this.canvas=t.createElement("div",{display:"block",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i+" plus-endpoint"),this.canvas.innerHTML='\n\t\t\t<div class="plus-stalk">\n\t\t\t\t<div class="connection-run-items-label">\n\t\t\t\t\t<span class="floating"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="plus-container">\n\t\t\t\t<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-plus">\n\t\t\t\t\t<path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z" class=""></path>\n\t\t\t\t</svg>\n\t\t\t\t<div class="drop-hover-message">\n\t\t\t\t\tClick to add node</br>\n\t\t\t\t\tor drag to connect\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',this.canvas.addEventListener("click",t=>{this._jsPlumb.instance.fire("plusEndpointClick",e.endpoint,t)}),this._jsPlumb.instance.appendElement(this.canvas);const r=this.canvas.querySelector(".plus-container"),l=r.querySelector(".drop-hover-message"),c=this.canvas.querySelector(".plus-stalk"),d=this.canvas.querySelector(".plus-stalk span");this.setSuccessOutput=t=>{this.canvas.classList.add("success"),this.showOutputLabel&&(d.textContent=t,this.label=t,this.labelOffset=d.offsetWidth,c.style.width=o+this.labelOffset+"px",this._jsPlumb&&this._jsPlumb.instance&&!this._jsPlumb.instance.isSuspendDrawing()&&e.endpoint.repaint())},this.clearSuccessOutput=()=>{this.canvas.classList.remove("success"),d.textContent="",this.label="",this.labelOffset=0,c.style.width=o+"px",e.endpoint.repaint()};const u=()=>{const t=e.endpoint,s=t.connections;return!!s.length&&!!s.find(e=>e&&e.targetId&&e.targetId.startsWith("jsPlumb"))},p=()=>{const t=e.endpoint,s=t.connections;if(s.length>=1)return!0;const n=this._jsPlumb.instance.getConnections({source:t.elementId});return!!n.find(e=>{if(!e||!e.endpoints||!e.endpoints.length||!e.endpoints[0])return!1;const s=e.endpoints[0];return s===t||s.getUuid()===t.getUuid()})};this.paint=function(e,t){p()?this.canvas.classList.add("hidden"):(this.canvas.classList.remove("hidden"),r.style.color=e.fill,r.style["border-color"]=e.fill,l.style.display=e.hover?"inline":"none"),s.sizeElement(this.canvas,this.x,this.y,this.w,this.h)},this._compute=(e,t,s,n)=>{this.size=s.size||this.size,this.showOutputLabel=!!s.showOutputLabel,this.hoverMessage!==s.hoverMessage&&(this.hoverMessage=s.hoverMessage,l.innerHTML=s.hoverMessage),"medium"!==this.size&&r.classList.add(this.size),setTimeout(()=>{this.label&&!this.labelOffset&&this.setSuccessOutput(this.label)},0);const i=[e[0]+o+this.labelOffset,e[1]-a[this.size]/2,a[this.size],a[this.size]];return u()?i:p()?[0,0,0,0]:i}},s.extend(t.Endpoints.N8nPlus,[t.Endpoints.AbstractEndpoint,n],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),t.Endpoints.svg.N8nPlus=t.Endpoints.N8nPlus})()},ab90:function(e,t,s){e.exports={"node-item":"NodeItem_node-item_2Zsor",bordered:"NodeItem_bordered_w_vFL",details:"NodeItem_details_2r40-","node-icon":"NodeItem_node-icon_2HTdM",name:"NodeItem_name_YVqyq",packageName:"NodeItem_packageName_3lE8e",description:"NodeItem_description_381cn","trigger-icon":"NodeItem_trigger-icon_2L8v3","community-node-icon":"NodeItem_community-node-icon_37zd5",draggable:"NodeItem_draggable_292XX","draggable-data-transfer":"NodeItem_draggable-data-transfer_2XXXK"}},ac00:function(e,t,s){"use strict";var n=s("a752"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},ac97:function(e,t,s){},aca5:function(e,t,s){"use strict";s("e93f")},ad44:function(e,t,s){"use strict";s("51db")},ad75:function(e,t,s){"use strict";s("947a")},ad7d:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[e.shouldShowOptions?s("n8n-action-toggle",{attrs:{placement:"bottom-end",size:"small",color:"foreground-xdark",iconSize:"small",actions:e.actions},on:{action:function(t){return e.$emit("optionSelected",t)},"visible-change":e.onMenuToggle}}):e._e(),!0!==e.parameter.noDataExpression&&e.showExpressionSelector?s("n8n-radio-buttons",{attrs:{size:"small",value:e.selectedView,disabled:e.isReadOnly,options:[{label:e.$locale.baseText("parameterInput.fixed"),value:"fixed"},{label:e.$locale.baseText("parameterInput.expression"),value:"expression"}]},on:{input:e.onViewSelected}}):e._e()],1)},a=[],o=s("5b39"),i=s("9869"),r=s("3fc3"),l=i["default"].extend({name:"parameter-options",props:{parameter:{type:Object},isReadOnly:{type:Boolean},value:{type:[Object,String,Number,Boolean]},showOptions:{type:Boolean,default:!0},showExpressionSelector:{type:Boolean,default:!0}},computed:{isDefault(){return this.parameter.default===this.value},isValueExpression(){return Object(r["n"])(this.parameter,this.value)},shouldShowOptions(){return!0!==this.isReadOnly&&("collection"!==this.parameter.type&&"credentialsSelect"!==this.parameter.type&&!0===this.showOptions)},selectedView(){return this.isValueExpression?"expression":"fixed"},hasRemoteMethod(){return!!this.getArgument("loadOptionsMethod")||!!this.getArgument("loadOptions")},actions(){const e=[{label:this.$locale.baseText("parameterInput.resetValue"),value:"resetValue",disabled:this.isDefault}];return this.hasRemoteMethod||"resourceLocator"===this.parameter.type&&Object(o["a"])(this.value)&&"list"===this.value.mode?[{label:this.$locale.baseText("parameterInput.refreshList"),value:"refreshOptions"},...e]:e}},methods:{onMenuToggle(e){this.$emit("menu-expanded",e)},onViewSelected(e){"expression"===e&&this.$emit("optionSelected",this.isValueExpression?"openExpression":"addExpression"),"fixed"===e&&this.isValueExpression&&this.$emit("optionSelected","removeExpression")},getArgument(e){if(void 0!==this.parameter.typeOptions&&void 0!==this.parameter.typeOptions[e])return this.parameter.typeOptions[e]}}}),c=l,d=s("5da2"),u=s("2be6");function p(e){this["$style"]=d["default"].locals||d["default"]}var h=Object(u["a"])(c,n,a,!1,p,null,null);t["a"]=h.exports},aea8:function(e,t,s){e.exports={container:"App_container_1yQEW",content:"App_content_pIJBB App_container_1yQEW",header:"App_header_3qzuo",sidebar:"App_sidebar_3dMLz"}},afdd:function(e,t,s){"use strict";s("ac97")},afef:function(e,t,s){e.exports={title:"ValueSurvey_title_1WTts",content:"ValueSurvey_content_1TbRQ",wrapper:"ValueSurvey_wrapper_3sxMO",buttons:"ValueSurvey_buttons_3EcJ-",container:"ValueSurvey_container_2k5AC",text:"ValueSurvey_text_38Uxt",input:"ValueSurvey_input_3GX_e",button:"ValueSurvey_button_1d7Ax",disclaimer:"ValueSurvey_disclaimer_hCXBv"}},afef4:function(e,t,s){},b01d:function(e,t,s){"use strict";var n=s("a1a2"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},b099:function(e,t,s){"use strict";s("497a")},b0e7:function(e,t,s){"use strict";var n=s("69b9"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},b19d:function(e,t,s){e.exports={container:"InlineNameEdit_container_1_vQf",headline:"InlineNameEdit_headline_2Dnxo","headline-editable":"InlineNameEdit_headline-editable_2YlPy",nameInput:"InlineNameEdit_nameInput_mMGgl",subtitle:"InlineNameEdit_subtitle_227Od"}},b1fa:function(e,t,s){},b232:function(e,t,s){"use strict";var n=s("41d1"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},b37c:function(e,t,s){e.exports={description:"ContactPromptModal_description_32ux6",disclaimer:"ContactPromptModal_disclaimer_3h0Ei"}},b523:function(e,t,s){"use strict";s("8094")},b5af:function(e,t,s){"use strict";var n=s("3f0a"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},b5e9:function(e,t,s){"use strict";var n=s("9b17"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},b70e:function(e,t,s){"use strict";s("d29b")},b9d5:function(e,t,s){"use strict";s("11fc")},ba1f:function(e,t,s){e.exports={header:"NodeSettings_header_2kHlY",warningIcon:"NodeSettings_warningIcon_2zu4N",descriptionContainer:"NodeSettings_descriptionContainer_1XqLS"}},ba4b:function(e,t,s){"use strict";s("77b5")},ba99:function(e,t,s){},bbca:function(e,t,s){},bcf0:function(e,t,s){e.exports={wrapper:"PageViewLayoutList_wrapper_iy-DZ",list:"PageViewLayoutList_list_20LXe",body:"PageViewLayoutList_body_3qF-I"}},bd4c:function(e,t,s){"use strict";var n=s("69a8"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},bd4f:function(e,t,s){e.exports={credentialModal:"CredentialEdit_credentialModal_3EKhZ",mainContent:"CredentialEdit_mainContent_3sXyZ",sidebar:"CredentialEdit_sidebar_fo-5O",header:"CredentialEdit_header_1Btov",container:"CredentialEdit_container_2BczV",credInfo:"CredentialEdit_credInfo_34nAe",credActions:"CredentialEdit_credActions_1asPH",credIcon:"CredentialEdit_credIcon_17CFE"}},bdd7:function(e,t,s){"use strict";var n=s("09ba"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},bdfb:function(e,t,s){e.exports={container:"PersonalizationModal_container_2Ui9f",submittedContainer:"PersonalizationModal_submittedContainer_1U7bz",demoImage:"PersonalizationModal_demoImage_9q9L6"}},be18:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n,a=s("85ee");(function(e){e["InstanceOwner"]="isInstanceOwner",e["ResourceOwner"]="isOwner",e["ResourceEditor"]="isEditor",e["ResourceReader"]="isReader"})(n||(n={}));const o=(e,t)=>{const s=[{name:n.InstanceOwner,test:()=>e.isOwner}];return[...s,...t].reduce((e,t)=>(e[t.name]=Array.isArray(t.test)?t.test.some(t=>e[t]):t.test(e),e),{})},i=(e,t,s)=>{const i=[{name:n.ResourceOwner,test:()=>!(!t||!t.ownedBy||t.ownedBy.id!==e.id)||!s.getters["settings/isEnterpriseFeatureEnabled"](a["gb"].Sharing)},{name:n.ResourceReader,test:()=>!!(t&&t.sharedWith&&t.sharedWith.find(t=>t.id===e.id))},{name:"read",test:[n.ResourceOwner,n.InstanceOwner,n.ResourceReader]},{name:"save",test:[n.ResourceOwner,n.InstanceOwner]},{name:"updateName",test:[n.ResourceOwner,n.InstanceOwner]},{name:"updateConnection",test:[n.ResourceOwner]},{name:"updateSharing",test:[n.ResourceOwner]},{name:"updateNodeAccess",test:[n.ResourceOwner]},{name:"delete",test:[n.ResourceOwner,n.InstanceOwner]},{name:"use",test:[n.ResourceOwner,n.ResourceReader]}];return o(e,i)}},c01f:function(e,t,s){e.exports={dragContainer:"PanelDragButton_dragContainer_1oftN",dragButton:"PanelDragButton_dragButton_2A3Wx",leftArrow:"PanelDragButton_leftArrow_3Hhh1 PanelDragButton_arrow_1F1Nb",rightArrow:"PanelDragButton_rightArrow_3u6Dk PanelDragButton_arrow_1F1Nb",visible:"PanelDragButton_visible_36gFR",arrow:"PanelDragButton_arrow_1F1Nb",grid:"PanelDragButton_grid_3i5-6"}},c1be:function(e,t,s){},c21f:function(e,t,s){},c324:function(e,t,s){"use strict";s("938e")},c397:function(e,t,s){},c3c1:function(e,t,s){"use strict";s("421c")},c48f:function(e,t,s){"use strict";var n=s("08e0"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},c5d6:function(e,t,s){e.exports={container:"SettingsPersonalView_container_2T7ky",header:"SettingsPersonalView_header_1J2M5",user:"SettingsPersonalView_user_2sCWZ",username:"SettingsPersonalView_username_168hd",sectionHeader:"SettingsPersonalView_sectionHeader_1pwkK"}},c604:function(e,t,s){"use strict";s("5496")},c721:function(e,t,s){"use strict";var n=s("4529"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},c7ae:function(e,t,s){"use strict";var n=s("8f74"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},c8c2:function(e,t,s){},c8ea:function(e,t,s){e.exports={container:"AboutModal_container_D2ShR"}},c8f0:function(e,t,s){"use strict";s("22b2")},c961:function(e,t,s){"use strict";var n=s("d87a"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},ca09:function(e,t,s){e.exports={card:"VersionCard_card_3ttZQ",header:"VersionCard_header_mdwrN",name:"VersionCard_name_3Ouh8",divider:"VersionCard_divider_1iHvN",description:"VersionCard_description_2STXe","release-date":"VersionCard_release-date_2gF-F",nodes:"VersionCard_nodes_1KqJD"}},caa2:function(e,t,s){"use strict";s("2bb4")},cbd3:function(e,t,s){"use strict";s("6b38")},cd49:function(e,t,s){"use strict";s.r(t);s.p="/%BASE_PATH%/"===window.BASE_PATH?"/":window.BASE_PATH;var n=s("9869"),a=s("4bea"),o=s("96ee"),i=s("fd55"),r=s("dc04");function l(e){a["c"].add(e)}l(o["a"]),l(o["b"]),l(o["c"]),l(o["d"]),l(o["e"]),l(o["f"]),l(o["g"]),l(o["h"]),l(o["i"]),l(o["j"]),l(o["k"]),l(o["l"]),l(o["m"]),l(o["n"]),l(o["p"]),l(o["q"]),l(o["o"]),l(o["r"]),l(o["w"]),l(o["x"]),l(o["y"]),l(o["z"]),l(o["s"]),l(o["t"]),l(o["u"]),l(o["v"]),l(o["A"]),l(o["B"]),l(o["C"]),l(o["D"]),l(o["Z"]),l(o["E"]),l(o["F"]),l(o["G"]),l(o["M"]),l(o["I"]),l(o["J"]),l(o["K"]),l(o["L"]),l(o["H"]),l(o["N"]),l(o["O"]),l(o["P"]),l(o["Q"]),l(o["R"]),l(o["S"]),l(o["T"]),l(o["U"]),l(o["V"]),l(o["W"]),l(o["X"]),l(o["Y"]),l(o["ab"]),l(o["bb"]),l(o["cb"]),l(o["db"]),l(o["eb"]),l(o["fb"]),l(o["gb"]),l(o["hb"]),l(o["jb"]),l(o["ib"]),l(o["kb"]),l(o["lb"]),l(o["mb"]),l(o["nb"]),l(o["ob"]),l(o["pb"]),l(o["qb"]),l(o["rb"]),l(o["sb"]),l(o["tb"]),l(o["ub"]),l(o["vb"]),l(o["wb"]),l(o["xb"]),l(o["yb"]),l(o["zb"]),l(o["Ab"]),l(o["Bb"]),l(o["Cb"]),l(o["Db"]),l(o["Eb"]),l(o["Fb"]),l(o["Gb"]),l(o["Hb"]),l(o["Ib"]),l(i["a"]),l(o["Jb"]),l(o["Kb"]),l(o["Lb"]),l(o["Mb"]),l(o["Nb"]),l(o["Ob"]),l(o["Pb"]),l(o["Qb"]),l(o["Rb"]),l(o["Sb"]),l(o["Tb"]),l(o["Ub"]),l(o["Vb"]),l(o["Wb"]),l(o["Xb"]),l(o["Yb"]),l(o["Zb"]),l(o["ac"]),l(o["bc"]),n["default"].component("font-awesome-icon",r["a"]);var c=s("2617"),d=s.n(c),u=s("a9e2"),p=s.n(u);n["default"].use(d.a),n["default"].use(p.a);var h=s("1b20"),m=(s("df26"),s("3148")),g=s("d124"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.canAccess?e._t("default"):e._t("fallback")],2)},w=[],y=n["default"].extend({name:"EnterpriseEdition",props:{features:{type:Array,default:()=>[]}},computed:{canAccess(){return this.features.reduce((e,t)=>e&&!!this.$store.getters["settings/isEnterpriseFeatureEnabled"](t),!0)}}}),b=y,v=s("2be6"),x=Object(v["a"])(b,f,w,!1,null,null,null),k=x.exports;n["default"].use(h["a"].Plugin),n["default"].use(g["f"]),n["default"].use(g["e"]),n["default"].component("enterprise-edition",k),n["default"].use(m["a"]),n["default"].use(g["a"].directive),n["default"].prototype.$loading=g["a"].service,n["default"].prototype.$msgbox=g["c"],n["default"].prototype.$alert=async(e,t,s)=>{let n=s||("object"===typeof t?t:{});return n={...n,cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm"},"string"===typeof t?await g["c"].alert(e,t,n):await g["c"].alert(e,n)},n["default"].prototype.$confirm=async(e,t,s)=>{let n=s||("object"===typeof t?t:{});return n={...n,cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm",distinguishCancelAndClose:!0,showClose:s.showClose||!1,closeOnClickModal:!1},"string"===typeof t?await g["c"].confirm(e,t,n):await g["c"].confirm(e,n)},n["default"].prototype.$prompt=async(e,t,s)=>{let n=s||("object"===typeof t?t:{});return n={...n,cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm"},"string"===typeof t?await g["c"].prompt(e,t,n):await g["c"].prompt(e,n)},n["default"].prototype.$notify=g["d"],n["default"].prototype.$message=g["b"];s("9f9b"),s("53fe"),s("1097"),s("9b09"),s("5572"),s("99dd"),s("9631"),s("be7e");var T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[e.loading?s("LoadingView"):s("div",{class:e.$style.container,attrs:{id:"app"}},[s("div",{class:e.$style.header,attrs:{id:"header"}},[s("router-view",{attrs:{name:"header"}})],1),s("div",{class:e.$style.sidebar,attrs:{id:"sidebar"}},[s("router-view",{attrs:{name:"sidebar"}})],1),s("div",{class:e.$style.content,attrs:{id:"content"}},[s("router-view")],1),s("Modals"),s("Telemetry")],1)],1)},$=[],_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ModalRoot",{attrs:{name:e.CONTACT_PROMPT_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName;return[s("ContactPromptModal",{attrs:{modalName:t}})]}}])}),s("ModalRoot",{attrs:{name:e.CREDENTIAL_EDIT_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName,n=e.activeId,a=e.mode;return[s("CredentialEdit",{attrs:{modalName:t,mode:a,activeId:n}})]}}])}),s("ModalRoot",{attrs:{name:e.ABOUT_MODAL_KEY}},[s("AboutModal")],1),s("ModalRoot",{attrs:{name:e.CREDENTIAL_SELECT_MODAL_KEY}},[s("CredentialsSelectModal")],1),s("ModalRoot",{attrs:{name:e.CREDENTIAL_LIST_MODAL_KEY}},[s("CredentialsList")],1),s("ModalRoot",{attrs:{name:e.DUPLICATE_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName,n=e.active;return[s("DuplicateWorkflowDialog",{attrs:{isActive:n,modalName:t}})]}}])}),s("ModalRoot",{attrs:{name:e.PERSONALIZATION_MODAL_KEY}},[s("PersonalizationModal")],1),s("ModalRoot",{attrs:{name:e.TAGS_MANAGER_MODAL_KEY}},[s("TagsManager")],1),s("ModalRoot",{attrs:{name:e.VERSIONS_MODAL_KEY,keepAlive:!0}},[s("UpdatesPanel")],1),s("ModalRoot",{attrs:{name:e.VALUE_SURVEY_MODAL_KEY,keepAlive:!0},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.active;return[s("ValueSurvey",{attrs:{isActive:t}})]}}])}),s("ModalRoot",{attrs:{name:e.WORKFLOW_OPEN_MODAL_KEY}},[s("WorkflowOpen")],1),s("ModalRoot",{attrs:{name:e.WORKFLOW_SETTINGS_MODAL_KEY}},[s("WorkflowSettings")],1),s("ModalRoot",{attrs:{name:e.CHANGE_PASSWORD_MODAL_KEY}},[s("ChangePasswordModal")],1),s("ModalRoot",{attrs:{name:e.INVITE_USER_MODAL_KEY}},[s("InviteUsersModal")],1),s("ModalRoot",{attrs:{name:e.DELETE_USER_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName,n=e.activeId;return[s("DeleteUserModal",{attrs:{modalName:t,activeId:n}})]}}])}),s("ModalRoot",{attrs:{name:e.EXECUTIONS_MODAL_KEY}},[s("ExecutionsList")],1),s("ModalRoot",{attrs:{name:e.WORKFLOW_ACTIVE_MODAL_KEY}},[s("ActivationModal")],1),s("ModalRoot",{attrs:{name:e.ONBOARDING_CALL_SIGNUP_MODAL_KEY}},[s("OnboardingCallSignupModal")],1),s("ModalRoot",{attrs:{name:e.COMMUNITY_PACKAGE_INSTALL_MODAL_KEY}},[s("CommunityPackageInstallModal")],1),s("ModalRoot",{attrs:{name:e.COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.modalName,n=e.activeId,a=e.mode;return[s("CommunityPackageManageConfirmModal",{attrs:{modalName:t,activePackageName:n,mode:a}})]}}])})],1)},C=[],N=s("85ee"),E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{width:"540px",title:e.$locale.baseText("about.aboutN8n"),eventBus:e.modalBus,name:e.ABOUT_MODAL_KEY,center:!0}},[s("template",{slot:"content"},[s("div",{class:e.$style.container},[s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[s("n8n-text",[e._v(e._s(e.$locale.baseText("about.n8nVersion")))])],1),s("el-col",{attrs:{span:16}},[s("n8n-text",[e._v(e._s(e.versionCli))])],1)],1),s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[s("n8n-text",[e._v(e._s(e.$locale.baseText("about.sourceCode")))])],1),s("el-col",{attrs:{span:16}},[s("n8n-link",{attrs:{to:"https://github.com/n8n-io/n8n"}},[e._v("https://github.com/n8n-io/n8n")])],1)],1),s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[s("n8n-text",[e._v(e._s(e.$locale.baseText("about.license")))])],1),s("el-col",{attrs:{span:16}},[s("n8n-link",{attrs:{to:"https://github.com/n8n-io/n8n/blob/master/packages/cli/LICENSE.md"}},[e._v(" "+e._s(e.$locale.baseText("about.n8nLicense"))+" ")])],1)],1),s("el-row",[s("el-col",{staticClass:"info-name",attrs:{span:8}},[s("n8n-text",[e._v(e._s(e.$locale.baseText("about.instanceID")))])],1),s("el-col",{attrs:{span:16}},[s("n8n-text",[e._v(e._s(e.instanceId))])],1)],1)],1)]),s("template",{slot:"footer"},[s("div",{staticClass:"action-buttons"},[s("n8n-button",{attrs:{float:"right",label:e.$locale.baseText("about.close")},on:{click:e.closeDialog}})],1)])],2)},S=[],D=s("9ce4"),I=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("el-dialog",{class:(e={"dialog-wrapper":!0},e[t.$style.center]=t.center,e.scrollable=t.scrollable,e),style:t.styles,attrs:{visible:t.visible,"before-close":t.closeDialog,width:t.width,"show-close":t.showClose,"custom-class":t.getCustomClass(),"close-on-click-modal":t.closeOnClickModal,"close-on-press-escape":t.closeOnPressEscape,"append-to-body":""},scopedSlots:t._u([t.$scopedSlots.header?{key:"title",fn:function(){return[t.loading?t._e():t._t("header")]},proxy:!0}:t.title?{key:"title",fn:function(){return[n("div",{class:t.centerTitle?t.$style.centerTitle:""},[t.title?n("div",[n("n8n-heading",{attrs:{tag:"h1",size:"xlarge"}},[t._v(t._s(t.title))])],1):t._e(),t.subtitle?n("div",{class:t.$style.subtitle},[n("n8n-heading",{attrs:{tag:"h3",size:"small",color:"text-light"}},[t._v(t._s(t.subtitle))])],1):t._e()])]},proxy:!0}:null],null,!0)},[n("div",{staticClass:"modal-content",on:{keydown:[function(e){e.stopPropagation()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog.apply(null,arguments)}]}},[t.loading?n("div",{class:t.$style.loader},[n("n8n-spinner")],1):t._t("content")],2),!t.loading&&t.$scopedSlots.footer?n("div",{class:t.$style.footer},[t._t("footer",null,{close:t.closeDialog})],2):t._e()])},O=[],P=n["default"].extend({name:"Modal",props:{name:{type:String},title:{type:String},subtitle:{type:String},eventBus:{type:n["default"]},showClose:{type:Boolean,default:!0},loading:{type:Boolean},classic:{type:Boolean},beforeClose:{type:Function},customClass:{type:String},center:{type:Boolean},width:{type:String,default:"50%"},minWidth:{type:String},maxWidth:{type:String},height:{type:String},minHeight:{type:String},maxHeight:{type:String},scrollable:{type:Boolean,default:!1},centerTitle:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}},mounted(){window.addEventListener("keydown",this.onWindowKeydown),this.$props.eventBus&&(this.$props.eventBus.$on("close",()=>{this.closeDialog()}),this.$props.eventBus.$on("closeAll",()=>{this.closeAllDialogs()}));const e=document.activeElement;e&&e.blur()},beforeDestroy(){window.removeEventListener("keydown",this.onWindowKeydown)},methods:{onWindowKeydown(e){this.isActive&&e&&13===e.keyCode&&this.handleEnter()},handleEnter(){this.isActive&&this.$emit("enter")},closeAllDialogs(){this.$store.commit("ui/closeAllModals")},async closeDialog(){if(this.beforeClose){const e=await this.beforeClose();if(!1===e)return}this.$store.commit("ui/closeModal",this.$props.name)},getCustomClass(){let e=this.$props.customClass||"";return this.$props.classic&&(e+=" classic"),e}},computed:{isActive(){return this.$store.getters["ui/isModalActive"](this.$props.name)},visible(){return this.$store.getters["ui/isModalOpen"](this.$props.name)},styles(){const e={};return this.height&&(e["--dialog-height"]=this.height),this.minHeight&&(e["--dialog-min-height"]=this.minHeight),this.maxHeight&&(e["--dialog-max-height"]=this.maxHeight),this.maxWidth&&(e["--dialog-max-width"]=this.maxWidth),this.minWidth&&(e["--dialog-min-width"]=this.minWidth),e}}}),A=P,M=(s("02f2"),s("b232"));function L(e){this["$style"]=M["default"].locals||M["default"]}var R=Object(v["a"])(A,I,O,!1,L,null,null),W=R.exports,B=n["default"].extend({name:"About",components:{Modal:W},data(){return{ABOUT_MODAL_KEY:N["a"],modalBus:new n["default"]}},computed:{...Object(D["b"])("settings",["versionCli"]),...Object(D["b"])(["instanceId"])},methods:{closeDialog(){this.modalBus.$emit("close")}}}),V=B,U=s("8aea");function j(e){this["$style"]=U["default"].locals||U["default"]}var F=Object(v["a"])(V,E,S,!1,j,null,null),z=F.exports,H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{width:"540px",name:e.COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY,title:e.getModalContent.title,eventBus:e.modalBus,center:!0,showClose:!e.loading,beforeClose:e.onModalClose}},[s("template",{slot:"content"},[s("n8n-text",[e._v(e._s(e.getModalContent.message))]),this.mode===e.COMMUNITY_PACKAGE_MANAGE_ACTIONS.UPDATE?s("div",{class:e.$style.descriptionContainer},[s("n8n-info-tip",{attrs:{theme:"info",type:"note",bold:!1}},[[s("span",{domProps:{textContent:e._s(e.getModalContent.description)}})]],2)],1):e._e()],1),s("template",{slot:"footer"},[s("n8n-button",{attrs:{loading:e.loading,disabled:e.loading,label:e.loading?e.getModalContent.buttonLoadingLabel:e.getModalContent.buttonLabel,size:"large",float:"right"},on:{click:e.onConfirmButtonClick}})],1)],2)},G=[],K=s("aaf5"),Y=s("77f0"),q=Object(K["a"])(Y["a"]).extend({name:"CommunityPackageManageConfirmModal",components:{Modal:W},props:{modalName:{type:String,required:!0},activePackageName:{type:String,required:!0},mode:{type:String}},data(){return{loading:!1,modalBus:new n["default"],COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY:N["r"],COMMUNITY_PACKAGE_MANAGE_ACTIONS:N["t"]}},computed:{activePackage(){return this.$store.getters["communityNodes/getInstalledPackageByName"](this.activePackageName)},getModalContent(){return this.mode===N["t"].UNINSTALL?{title:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.title"),message:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.message",{interpolate:{packageName:this.activePackageName}}),buttonLabel:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.buttonLabel"),buttonLoadingLabel:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.buttonLoadingLabel")}:{title:this.$locale.baseText("settings.communityNodes.confirmModal.update.title",{interpolate:{packageName:this.activePackageName}}),description:this.$locale.baseText("settings.communityNodes.confirmModal.update.description"),message:this.$locale.baseText("settings.communityNodes.confirmModal.update.message",{interpolate:{packageName:this.activePackageName,version:this.activePackage.updateAvailable}}),buttonLabel:this.$locale.baseText("settings.communityNodes.confirmModal.update.buttonLabel"),buttonLoadingLabel:this.$locale.baseText("settings.communityNodes.confirmModal.update.buttonLoadingLabel")}}},methods:{onModalClose(){return!this.loading},async onConfirmButtonClick(){this.mode===N["t"].UNINSTALL?await this.onUninstall():this.mode===N["t"].UPDATE&&await this.onUpdate()},async onUninstall(){try{this.$telemetry.track("user started cnr package deletion",{package_name:this.activePackage.packageName,package_node_names:this.activePackage.installedNodes.map(e=>e.name),package_version:this.activePackage.installedVersion,package_author:this.activePackage.authorName,package_author_email:this.activePackage.authorEmail}),this.loading=!0,await this.$store.dispatch("communityNodes/uninstallPackage",this.activePackageName),this.$showMessage({title:this.$locale.baseText("settings.communityNodes.messages.uninstall.success.title"),type:"success"})}catch(e){this.$showError(e,this.$locale.baseText("settings.communityNodes.messages.uninstall.error"))}finally{this.loading=!1,this.modalBus.$emit("close")}},async onUpdate(){try{this.$telemetry.track("user started cnr package update",{package_name:this.activePackage.packageName,package_node_names:this.activePackage.installedNodes.map(e=>e.name),package_version_current:this.activePackage.installedVersion,package_version_new:this.activePackage.updateAvailable,package_author:this.activePackage.authorName,package_author_email:this.activePackage.authorEmail}),this.loading=!0;const e=this.activePackage.updateAvailable;await this.$store.dispatch("communityNodes/updatePackage",this.activePackageName),this.$showMessage({title:this.$locale.baseText("settings.communityNodes.messages.update.success.title"),message:this.$locale.baseText("settings.communityNodes.messages.update.success.message",{interpolate:{packageName:this.activePackageName,version:e}}),type:"success"})}catch(e){this.$showError(e,this.$locale.baseText("settings.communityNodes.messages.update.error.title"))}finally{this.loading=!1,this.modalBus.$emit("close")}}}}),J=q,X=s("3627");function Q(e){this["$style"]=X["default"].locals||X["default"]}var Z=Object(v["a"])(J,H,G,!1,Q,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{width:"540px",name:e.COMMUNITY_PACKAGE_INSTALL_MODAL_KEY,title:e.$locale.baseText("settings.communityNodes.installModal.title"),eventBus:e.modalBus,center:!0,beforeClose:e.onModalClose,showClose:!e.loading}},[s("template",{slot:"content"},[s("div",{class:[e.$style.descriptionContainer,"p-s"]},[s("div",[s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("settings.communityNodes.installModal.description"))+" ")]),e._v(" "),s("n8n-link",{attrs:{to:e.COMMUNITY_NODES_INSTALLATION_DOCS_URL},on:{click:e.onMoreInfoTopClick}},[e._v(" "+e._s(e.$locale.baseText("_reusableDynamicText.moreInfo"))+" ")])],1),s("n8n-button",{class:e.$style.browseButton,attrs:{label:e.$locale.baseText("settings.communityNodes.browseButton.label"),icon:"external-link-alt"},on:{click:e.openNPMPage}})],1),s("div",{class:[e.$style.formContainer,"mt-m"]},[s("n8n-input-label",{class:e.$style.labelTooltip,attrs:{label:e.$locale.baseText("settings.communityNodes.installModal.packageName.label"),tooltipText:e.$locale.baseText("settings.communityNodes.installModal.packageName.tooltip",{interpolate:{npmURL:e.NPM_KEYWORD_SEARCH_URL}})}},[s("n8n-input",{attrs:{name:"packageNameInput",type:"text",maxlength:214,placeholder:e.$locale.baseText("settings.communityNodes.installModal.packageName.placeholder"),required:!0,disabled:e.loading},on:{blur:e.onInputBlur},model:{value:e.packageName,callback:function(t){e.packageName=t},expression:"packageName"}})],1),s("div",{class:[e.$style.infoText,"mt-4xs"]},[s("span",{class:[e.$style.infoText,e.infoTextErrorMessage?e.$style.error:""],attrs:{size:"small"},domProps:{textContent:e._s(e.infoTextErrorMessage)}})]),s("el-checkbox",{class:[e.$style.checkbox,e.checkboxWarning?e.$style.error:"","mt-l"],attrs:{disabled:e.loading},on:{change:e.onCheckboxChecked},model:{value:e.userAgreed,callback:function(t){e.userAgreed=t},expression:"userAgreed"}},[s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("settings.communityNodes.installModal.checkbox.label"))+" ")]),s("br"),s("n8n-link",{attrs:{to:e.COMMUNITY_NODES_RISKS_DOCS_URL},on:{click:e.onLearnMoreLinkClick}},[e._v(e._s(e.$locale.baseText("_reusableDynamicText.moreInfo")))])],1)],1)]),s("template",{slot:"footer"},[s("n8n-button",{attrs:{loading:e.loading,disabled:""===e.packageName||e.loading,label:e.loading?e.$locale.baseText("settings.communityNodes.installModal.installButton.label.loading"):e.$locale.baseText("settings.communityNodes.installModal.installButton.label"),size:"large",float:"right"},on:{click:e.onInstallClick}})],1)],2)},se=[],ne=Object(K["a"])(Y["a"]).extend({name:"CommunityPackageInstallModal",components:{Modal:W},data(){return{loading:!1,packageName:"",userAgreed:!1,modalBus:new n["default"],checkboxWarning:!1,infoTextErrorMessage:"",COMMUNITY_PACKAGE_INSTALL_MODAL_KEY:N["s"],NPM_KEYWORD_SEARCH_URL:N["pc"],COMMUNITY_NODES_INSTALLATION_DOCS_URL:N["o"],COMMUNITY_NODES_RISKS_DOCS_URL:N["q"]}},methods:{openNPMPage(){this.$telemetry.track("user clicked cnr browse button",{source:"cnr install modal"}),window.open(N["pc"],"_blank")},async onInstallClick(){if(this.userAgreed)try{this.$telemetry.track("user started cnr package install",{input_string:this.packageName,source:"cnr settings page"}),this.infoTextErrorMessage="",this.loading=!0,await this.$store.dispatch("communityNodes/installPackage",this.packageName),await this.$store.dispatch("communityNodes/fetchInstalledPackages"),this.loading=!1,this.modalBus.$emit("close"),this.$showMessage({title:this.$locale.baseText("settings.communityNodes.messages.install.success"),type:"success"})}catch(e){e.httpStatusCode&&400===e.httpStatusCode?this.infoTextErrorMessage=e.message:this.$showError(e,this.$locale.baseText("settings.communityNodes.messages.install.error"))}finally{this.loading=!1}else this.checkboxWarning=!0},onCheckboxChecked(){this.checkboxWarning=!1},onModalClose(){return!this.loading},onInputBlur(){this.packageName=this.packageName.replaceAll("npm i ","").replaceAll("npm install ","")},onMoreInfoTopClick(){this.$telemetry.track("user clicked cnr docs link",{source:"install package modal top"})},onLearnMoreLinkClick(){this.$telemetry.track("user clicked cnr docs link",{source:"install package modal bottom"})}}}),ae=ne,oe=s("4ebb");s("a07b");function ie(e){this["$style"]=oe["default"].locals||oe["default"]}var re=Object(v["a"])(ae,te,se,!1,ie,null,null),le=re.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.CHANGE_PASSWORD_MODAL_KEY,title:e.$locale.baseText("auth.changePassword"),center:!0,width:"460px",eventBus:e.modalBus},on:{enter:e.onSubmit}},[s("template",{slot:"content"},[s("n8n-form-inputs",{attrs:{inputs:e.config,eventBus:e.formBus,columnView:!0},on:{input:e.onInput,submit:e.onSubmit}})],1),s("template",{slot:"footer"},[s("n8n-button",{attrs:{loading:e.loading,label:e.$locale.baseText("auth.changePassword"),float:"right"},on:{click:e.onSubmitClick}})],1)],2)},de=[],ue=Object(K["a"])(Y["a"]).extend({components:{Modal:W},name:"ChangePasswordModal",props:{modalName:{type:String}},data(){return{config:null,formBus:new n["default"],modalBus:new n["default"],password:"",loading:!1,CHANGE_PASSWORD_MODAL_KEY:N["l"]}},mounted(){this.config=[{name:"currentPassword",properties:{label:this.$locale.baseText("auth.changePassword.currentPassword"),type:"password",required:!0,autocomplete:"current-password",capitalize:!0,focusInitially:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.newPassword"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"password2",properties:{label:this.$locale.baseText("auth.changePassword.reenterNewPassword"),type:"password",required:!0,validators:{TWO_PASSWORDS_MATCH:{validate:this.passwordsMatch}},validationRules:[{name:"TWO_PASSWORDS_MATCH"}],autocomplete:"new-password",capitalize:!0}}]},methods:{passwordsMatch(e){return"string"===typeof e&&(e!==this.password&&{messageKey:"auth.changePassword.passwordsMustMatchError"})},onInput(e){"password"===e.name&&(this.password=e.value)},async onSubmit(e){try{this.loading=!0,await this.$store.dispatch("users/updateCurrentUserPassword",e),this.$showMessage({type:"success",title:this.$locale.baseText("auth.changePassword.passwordUpdated"),message:this.$locale.baseText("auth.changePassword.passwordUpdatedMessage")}),this.modalBus.$emit("close")}catch(t){this.$showError(t,this.$locale.baseText("auth.changePassword.error"))}this.loading=!1},onSubmitClick(){this.formBus.$emit("submit")}}}),pe=ue,he=Object(v["a"])(pe,ce,de,!1,null,null,null),me=he.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.modalName,eventBus:e.modalBus,center:!0,closeOnPressEscape:!1,beforeClose:e.closeDialog,customClass:"contact-prompt-modal",width:"460px"},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{class:e.$style.description},[s("n8n-text",{attrs:{size:"medium",color:"text-base"}},[e._v(e._s(e.description))])],1),s("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)}}},[s("n8n-input",{attrs:{placeholder:"Your email address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("div",{class:e.$style.disclaimer},[s("n8n-text",{attrs:{size:"small",color:"text-base"}},[e._v("David from our product team will get in touch personally")])],1)]},proxy:!0},{key:"footer",fn:function(){return[s("div",{class:e.$style.footer},[s("n8n-button",{attrs:{label:"Send",float:"right",disabled:!e.isEmailValid},on:{click:e.send}})],1)]},proxy:!0}])},[s("template",{slot:"header"},[s("n8n-heading",{attrs:{tag:"h2",size:"xlarge",color:"text-dark"}},[e._v(e._s(e.title))])],1)],2)},fe=[],we=s("d2e2"),ye=Object(K["a"])(we["a"]).extend({components:{Modal:W},name:"ContactPromptModal",props:["modalName"],data(){return{email:"",modalBus:new n["default"]}},computed:{...Object(D["b"])({promptsData:"settings/getPromptsData"}),title(){return this.promptsData&&this.promptsData.title?this.promptsData.title:"Youre a power user "},description(){return this.promptsData&&this.promptsData.message?this.promptsData.message:"Your experience with n8n can help us improve  for you and our entire community."},isEmailValid(){return N["rd"].test(String(this.email).toLowerCase())}},methods:{closeDialog(){this.isEmailValid||this.$telemetry.track("User closed email modal",{instance_id:this.$store.getters.instanceId,email:null})},async send(){if(this.isEmailValid){const e=await this.$store.dispatch("settings/submitContactInfo",this.email);e.updated&&(this.$telemetry.track("User closed email modal",{instance_id:this.$store.getters.instanceId,email:this.email}),this.$showMessage({title:"Thanks!",message:"It's people like you that help make n8n better",type:"success"})),this.modalBus.$emit("close")}}}}),be=ye,ve=s("1d78");s("736a");function xe(e){this["$style"]=ve["default"].locals||ve["default"]}var ke=Object(v["a"])(be,ge,fe,!1,xe,null,null),Te=ke.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.modalName,customClass:e.$style.credentialModal,eventBus:e.modalBus,loading:e.loading,beforeClose:e.beforeClose,width:"70%",height:"80%"}},[s("template",{slot:"header"},[s("div",{class:e.$style.header},[s("div",{class:e.$style.credInfo},[s("div",{class:e.$style.credIcon},[s("CredentialIcon",{attrs:{credentialTypeName:e.credentialTypeName}})],1),s("InlineNameEdit",{attrs:{name:e.credentialName,subtitle:e.credentialType?e.credentialType.displayName:"",readonly:!e.credentialPermissions.updateName,type:"Credential"},on:{input:e.onNameEdit}})],1),s("div",{class:e.$style.credActions},[e.currentCredential&&e.credentialPermissions.delete?s("n8n-icon-button",{attrs:{title:e.$locale.baseText("credentialEdit.credentialEdit.delete"),icon:"trash",size:"medium",type:"tertiary",disabled:e.isSaving,loading:e.isDeleting},on:{click:e.deleteCredential}}):e._e(),(e.hasUnsavedChanges||e.credentialId)&&e.credentialPermissions.save?s("SaveButton",{attrs:{saved:!e.hasUnsavedChanges&&!e.isTesting,isSaving:e.isSaving||e.isTesting,savingLabel:e.isTesting?e.$locale.baseText("credentialEdit.credentialEdit.testing"):e.$locale.baseText("credentialEdit.credentialEdit.saving")},on:{click:e.saveCredential}}):e._e()],1)]),s("hr")]),s("template",{slot:"content"},[s("div",{class:e.$style.container},[s("div",{class:e.$style.sidebar},[s("n8n-menu",{attrs:{type:"secondary",defaultActive:"connection",light:!0},on:{select:e.onTabSelect}},[s("n8n-menu-item",{attrs:{index:"connection"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("credentialEdit.credentialEdit.connection")))])]),e.credentialType?s("enterprise-edition",{attrs:{features:[e.EnterpriseEditionFeature.Sharing]},scopedSlots:e._u([{key:"fallback",fn:function(){return e._l(e.credentialsFakeDoorFeatures,(function(t){return s("n8n-menu-item",{key:t.featureName,class:e.$style.tab,attrs:{index:"coming-soon/"+t.id}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText(t.featureName)))])])}))},proxy:!0}],null,!1,3625754007)},[s("n8n-menu-item",{attrs:{index:"sharing"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("credentialEdit.credentialEdit.sharing")))])])],1):e._e(),e.credentialType?s("n8n-menu-item",{attrs:{index:"details"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("credentialEdit.credentialEdit.details")))])]):e._e()],1)],1),"connection"===e.activeTab?s("div",{ref:"content",class:e.$style.mainContent},[s("CredentialConfig",{attrs:{credentialType:e.credentialType,credentialProperties:e.credentialProperties,credentialData:e.credentialData,credentialId:e.credentialId,showValidationWarning:e.showValidationWarning,authError:e.authError,testedSuccessfully:e.testedSuccessfully,isOAuthType:e.isOAuthType,isOAuthConnected:e.isOAuthConnected,isRetesting:e.isRetesting,parentTypes:e.parentTypes,requiredPropertiesFilled:e.requiredPropertiesFilled,credentialPermissions:e.credentialPermissions},on:{change:e.onDataChange,oauth:e.oAuthCredentialAuthorize,retest:e.retestCredential,scrollToTop:e.scrollToTop}})],1):"sharing"===e.activeTab&&e.credentialType?s("enterprise-edition",{class:e.$style.mainContent,attrs:{features:[e.EnterpriseEditionFeature.Sharing]}},[s("CredentialSharing",{attrs:{credential:e.currentCredential,credentialData:e.credentialData,credentialId:e.credentialId,credentialPermissions:e.credentialPermissions},on:{change:e.onChangeSharedWith}})],1):"details"===e.activeTab&&e.credentialType?s("div",{class:e.$style.mainContent},[s("CredentialInfo",{attrs:{nodeAccess:e.nodeAccess,nodesWithAccess:e.nodesWithAccess,currentCredential:e.currentCredential,credentialPermissions:e.credentialPermissions},on:{accessChange:e.onNodeAccessChange}})],1):e.activeTab.startsWith("coming-soon")?s("div",{class:e.$style.mainContent},[s("FeatureComingSoon",{attrs:{featureId:e.activeTab.split("/")[1]}})],1):e._e()],1)])],2)},_e=[],Ce=s("ac96"),Ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.filePath?s("img",{class:e.$style.credIcon,attrs:{src:e.filePath}}):e.relevantNode?s("NodeIcon",{attrs:{nodeType:e.relevantNode,size:28}}):s("span",{class:e.$style.fallback})],1)},Ee=[],Se=n["default"].extend({props:{credentialTypeName:{type:String}},computed:{credentialWithIcon(){return this.credentialTypeName?this.getCredentialWithIcon(this.credentialTypeName):null},filePath(){if(!this.credentialWithIcon||!this.credentialWithIcon.icon||!this.credentialWithIcon.icon.startsWith("file:"))return null;const e=this.$store.getters.getRestUrl;return`${e}/credential-icon/${this.credentialWithIcon.name}`},relevantNode(){if(this.credentialWithIcon&&this.credentialWithIcon.icon&&this.credentialWithIcon.icon.startsWith("node:")){const e=this.credentialWithIcon.icon.replace("node:","");return this.$store.getters["nodeTypes/getNodeType"](e)}const e=this.$store.getters["credentials/getNodesWithAccess"](this.credentialTypeName);return e.length?e[0]:null}},methods:{getCredentialWithIcon(e){const t=this.$store.getters["credentials/getCredentialTypeByName"](e);return t?t.icon?t:t.extends?t.extends.reduce((e,t)=>e||this.getCredentialWithIcon(t),null):null:null}}}),De=Se,Ie=s("2ad5");function Oe(e){this["$style"]=Ie["default"].locals||Ie["default"]}var Pe=Object(v["a"])(De,Ne,Ee,!1,Oe,null,null),Ae=Pe.exports,Me=s("6fae"),Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("banner",{directives:[{name:"show",rawName:"v-show",value:e.showValidationWarning,expression:"showValidationWarning"}],attrs:{theme:"danger",message:e.$locale.baseText("credentialEdit.credentialConfig.pleaseCheckTheErrorsBelow")}}),e.authError&&!e.showValidationWarning?s("banner",{attrs:{theme:"danger",message:e.$locale.baseText("credentialEdit.credentialConfig.couldntConnectWithTheseSettings"),details:e.authError,buttonLabel:e.$locale.baseText("credentialEdit.credentialConfig.retry"),buttonLoadingLabel:"Retrying",buttonTitle:e.$locale.baseText("credentialEdit.credentialConfig.retryCredentialTest"),buttonLoading:e.isRetesting},on:{click:function(t){return e.$emit("retest")}}}):e._e(),s("banner",{directives:[{name:"show",rawName:"v-show",value:e.showOAuthSuccessBanner&&!e.showValidationWarning,expression:"showOAuthSuccessBanner && !showValidationWarning"}],attrs:{theme:"success",message:e.$locale.baseText("credentialEdit.credentialConfig.accountConnected"),buttonLabel:e.$locale.baseText("credentialEdit.credentialConfig.reconnect"),buttonTitle:e.$locale.baseText("credentialEdit.credentialConfig.reconnectOAuth2Credential")},on:{click:function(t){return e.$emit("oauth")}}}),s("banner",{directives:[{name:"show",rawName:"v-show",value:e.testedSuccessfully&&!e.showValidationWarning,expression:"testedSuccessfully && !showValidationWarning"}],attrs:{theme:"success",message:e.$locale.baseText("credentialEdit.credentialConfig.connectionTestedSuccessfully"),buttonLabel:e.$locale.baseText("credentialEdit.credentialConfig.retry"),buttonLoadingLabel:e.$locale.baseText("credentialEdit.credentialConfig.retrying"),buttonTitle:e.$locale.baseText("credentialEdit.credentialConfig.retryCredentialTest"),buttonLoading:e.isRetesting},on:{click:function(t){return e.$emit("retest")}}}),e.credentialPermissions.updateConnection?[e.documentationUrl&&e.credentialProperties.length?s("n8n-notice",{attrs:{theme:"warning"}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialConfig.needHelpFillingOutTheseFields"))+" "),s("span",{staticClass:"ml-4xs"},[s("n8n-link",{attrs:{to:e.documentationUrl,size:"small",bold:""},on:{click:e.onDocumentationUrlClick}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialConfig.openDocs"))+" ")])],1)]):e._e(),e.isOAuthType&&e.credentialProperties.length?s("CopyInput",{attrs:{label:e.$locale.baseText("credentialEdit.credentialConfig.oAuthRedirectUrl"),value:e.oAuthCallbackUrl,copyButtonText:e.$locale.baseText("credentialEdit.credentialConfig.clickToCopy"),hint:e.$locale.baseText("credentialEdit.credentialConfig.subtitle",{interpolate:{appName:e.appName}}),toastTitle:e.$locale.baseText("credentialEdit.credentialConfig.redirectUrlCopiedToClipboard")}}):e._e()]:s("enterprise-edition",{attrs:{features:[e.EnterpriseEditionFeature.Sharing]}},[s("div",{staticClass:"ph-no-capture"},[s("n8n-info-tip",{attrs:{bold:!1}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialEdit.info.sharee",{interpolate:{credentialOwnerName:e.credentialOwnerName}}))+" ")])],1)]),e.credentialType&&e.credentialPermissions.updateConnection?s("CredentialInputs",{attrs:{credentialData:e.credentialData,credentialProperties:e.credentialProperties,documentationUrl:e.documentationUrl,showValidationWarnings:e.showValidationWarning},on:{change:e.onDataChange}}):e._e(),e.isOAuthType&&e.requiredPropertiesFilled&&!e.isOAuthConnected&&e.credentialPermissions.isOwner?s("OauthButton",{attrs:{isGoogleOAuthType:e.isGoogleOAuthType},on:{click:function(t){return e.$emit("oauth")}}}):e._e(),e.credentialType?e._e():s("n8n-text",{attrs:{color:"text-base",size:"medium"}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialConfig.missingCredentialType"))+" ")])],2)},Re=[],We=s("3fc3"),Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tag",{class:e.$style.container,attrs:{type:e.theme,size:"medium","disable-transitions":!0}},[s("font-awesome-icon",{class:"success"===e.theme?e.$style.icon:e.$style.dangerIcon,attrs:{icon:"success"===e.theme?"check-circle":"exclamation-triangle"}}),s("div",{class:e.$style.banner},[s("div",{class:e.$style.content},[s("div",[s("span",{class:"success"===e.theme?e.$style.message:e.$style.dangerMessage},[e._v(" "+e._s(e.message)+" ")]),e.details&&!e.expanded?s("n8n-link",{attrs:{bold:!0,size:"small"},on:{click:e.expand}},[s("span",{class:e.$style.moreDetails},[e._v("More details")])]):e._e()],1)]),e.buttonLabel?s("n8n-button",{attrs:{label:e.buttonLoading&&e.buttonLoadingLabel?e.buttonLoadingLabel:e.buttonLabel,title:e.buttonTitle,type:e.theme,loading:e.buttonLoading,size:"small",outline:""},on:{click:function(t){return t.stopPropagation(),e.onClick.apply(null,arguments)}}}):e._e()],1),e.expanded?s("div",{class:e.$style.details},[e._v(" "+e._s(e.details)+" ")]):e._e()],1)},Ve=[],Ue=n["default"].extend({name:"Banner",data(){return{expanded:!1}},props:{theme:{type:String,validator:e=>-1!==["success","danger"].indexOf(e)},message:{type:String},buttonLabel:{type:String},buttonLoadingLabel:{type:String},buttonTitle:{type:String},details:{type:String},buttonLoading:{type:Boolean,default:!1}},methods:{expand(){this.expanded=!0},onClick(){this.expanded=!1,this.$emit("click")}}}),je=Ue,Fe=s("78bc");function ze(e){this["$style"]=Fe["default"].locals||Fe["default"]}var He=Object(v["a"])(je,Be,Ve,!1,ze,null,null),Ge=He.exports,Ke=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("n8n-input-label",{attrs:{label:t.label}},[n("div",{class:(e={},e[t.$style.copyText]=!0,e[t.$style[t.size]]=!0,e[t.$style.collapsed]=t.collapse,e),on:{click:t.copy}},[n("span",{ref:"copyInputValue"},[t._v(t._s(t.value))]),n("div",{class:t.$style.copyButton},[n("span",[t._v(t._s(t.copyButtonText))])])])]),t.hint?n("div",{class:t.$style.hint},[t._v(t._s(t.hint))]):t._e()],1)},Ye=[],qe=s("9ec3");const Je=n["default"].extend({data(){return{copyPasteElementsGotCreated:!1,hiddenInput:null,onPaste:null,onBeforePaste:null}},mounted(){if(!0===this.copyPasteElementsGotCreated)return;this.copyPasteElementsGotCreated=!0;const e=document.createElement("style");e.type="text/css",e.innerHTML="\n\t\t\t.hidden-copy-paste {\n\t\t\tposition: absolute;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t\tdisplay: block;\n\t\t\tfont-size: 1px;\n\t\t\tz-index: -1;\n\t\t\tcolor: transparent;\n\t\t\tbackground: transparent;\n\t\t\toverflow: hidden;\n\t\t\tborder: none;\n\t\t\tpadding: 0;\n\t\t\tresize: none;\n\t\t\toutline: none;\n\t\t\t-webkit-user-select: text;\n\t\t\tuser-select: text;\n\t\t}\n\t\t",document.getElementsByTagName("head")[0].appendChild(e);const t=-1!==navigator.appVersion.search("Safari")&&-1===navigator.appVersion.search("Chrome")&&-1===navigator.appVersion.search("CrMo")&&-1===navigator.appVersion.search("CriOS"),s=-1!==navigator.userAgent.toLowerCase().indexOf("msie")||-1!==navigator.userAgent.toLowerCase().indexOf("trident"),n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","hidden-input-copy-paste"),n.setAttribute("class","hidden-copy-paste"),this.hiddenInput=n,document.body.append(n);let a=null;s&&(a=document.createElement("div"),a.setAttribute("id","hidden-ie-clipboard-copy-paste"),a.setAttribute("class","hidden-copy-paste"),a.setAttribute("contenteditable","true"),document.body.append(a),this.onBeforePaste=()=>{n.is(":focus")&&this.focusIeClipboardDiv(a)},document.addEventListener("beforepaste",this.onBeforePaste,!0));let o="";const i=e=>{};n.addEventListener("input",e=>{const s=n.value;o+=s,i(o),t?(n.focus(),setTimeout(()=>{this.focusHiddenArea(n)},0)):this.focusHiddenArea(n)}),this.onPaste=Object(qe["debounce"])(e=>{const t="paste",s=e.path||e.composedPath&&e.composedPath();for(let n=0;n<s.length;n++)if(s[n].className&&"string"===typeof s[n].className&&(s[n].className.includes("el-message-box")||s[n].className.includes("ignore-key-press")))return;null!==a?this.ieClipboardEvent(t,a):(this.standardClipboardEvent(t,e),(!document.activeElement||document.activeElement&&-1===["textarea","text","email","password"].indexOf(document.activeElement.type))&&(this.focusHiddenArea(n),e.preventDefault()))},1e3,{leading:!0}),document.addEventListener("paste",this.onPaste)},methods:{receivedCopyPasteData(e,t){},standardClipboardEvent(e,t){const s=t.clipboardData;if(null!==s&&"paste"===e){const e=s.getData("text/plain");this.receivedCopyPasteData(e,t)}},ieClipboardEvent(e,t){const s=window.clipboardData;if("paste"===e){const e=s.getData("Text");t.empty(),this.receivedCopyPasteData(e)}},focusIeClipboardDiv(e){e.focus();const t=document.createRange();t.selectNodeContents(e.get(0));const s=window.getSelection();null!==s&&(s.removeAllRanges(),s.addRange(t))},focusHiddenArea(e){e.value=" ",e.focus(),e.select()},copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const s=document.getSelection();if(null===s)return;const n=s.rangeCount>0&&s.getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(s.removeAllRanges(),s.addRange(n))}},beforeDestroy(){this.hiddenInput&&this.hiddenInput.remove(),this.onPaste&&document.removeEventListener("paste",this.onPaste),this.onBeforePaste&&document.removeEventListener("beforepaste",this.onBeforePaste)}});var Xe=Object(K["a"])(Je,Y["a"]).extend({props:{label:{type:String},hint:{type:String},value:{type:String},copyButtonText:{type:String,default(){return this.$locale.baseText("generic.copy")}},toastTitle:{type:String,default(){return this.$locale.baseText("generic.copiedToClipboard")}},toastMessage:{type:String},collapse:{type:Boolean,default:!1},size:{type:String,default:"large"}},methods:{copy(){this.$emit("copy"),this.copyToClipboard(this.value),this.$showMessage({title:this.toastTitle,message:this.toastMessage,type:"success"})}}}),Qe=Xe,Ze=s("581b");function et(e){this["$style"]=Ze["default"].locals||Ze["default"]}var tt=Object(v["a"])(Qe,Ke,Ye,!1,et,null,null),st=tt.exports,nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.credentialProperties.length?s("div",{class:e.$style.container,on:{keydown:function(e){e.stopPropagation()}}},e._l(e.credentialProperties,(function(t){return s("form",{key:t.name,attrs:{autocomplete:"off"}},[s("ParameterInputExpanded",{attrs:{parameter:t,value:e.credentialData[t.name],documentationUrl:e.documentationUrl,showValidationWarnings:e.showValidationWarnings,eventSource:"credentials"},on:{change:e.valueChanged}})],1)})),0):e._e()},at=[],ot=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-input-label",{attrs:{label:e.$locale.credText().inputLabelDisplayName(e.parameter),tooltipText:e.$locale.credText().inputLabelDescription(e.parameter),required:e.parameter.required,showTooltip:e.focused,showOptions:e.menuExpanded},scopedSlots:e._u([{key:"options",fn:function(){return[s("parameter-options",{attrs:{parameter:e.parameter,value:e.value,isReadOnly:!1,showOptions:!0,isValueExpression:e.isValueExpression},on:{optionSelected:e.optionSelected,"menu-expanded":e.onMenuExpanded}})]},proxy:!0}])},[[s("parameter-input",{ref:"param",attrs:{inputSize:"large",parameter:e.parameter,value:e.value,path:e.parameter.name,hideIssues:!0,displayOptions:!0,documentationUrl:e.documentationUrl,errorHighlight:e.showRequiredErrors,isForCredential:!0,eventSource:e.eventSource,isValueExpression:e.isValueExpression},on:{focus:e.onFocus,blur:e.onBlur,textInput:e.valueChanged,valueChanged:e.valueChanged}}),e.showRequiredErrors?s("div",{class:e.$style.errors},[s("n8n-text",{attrs:{color:"danger",size:"small"}},[e._v(" "+e._s(e.$locale.baseText("parameterInputExpanded.thisFieldIsRequired"))+" "),e.documentationUrl?s("n8n-link",{attrs:{to:e.documentationUrl,size:"small",underline:!0},on:{click:e.onDocumentationUrlClick}},[e._v(" "+e._s(e.$locale.baseText("parameterInputExpanded.openDocs"))+" ")]):e._e()],1)],1):e._e(),s("input-hint",{class:e.$style.hint,attrs:{hint:e.$locale.credText().hint(e.parameter)}})]],2)},it=[],rt=s("89e8"),lt=s("ad7d"),ct=s("56d1"),dt=n["default"].extend({name:"ParameterInputExpanded",components:{ParameterInput:rt["a"],InputHint:ct["a"],ParameterOptions:lt["a"]},props:{parameter:{type:Object},value:{},showValidationWarnings:{type:Boolean},documentationUrl:{type:String},eventSource:{type:String}},data(){return{focused:!1,blurredEver:!1,menuExpanded:!1}},computed:{showRequiredErrors(){if(!this.$props.parameter.required)return!1;if(this.blurredEver||this.showValidationWarnings){if("string"===this.$props.parameter.type)return!this.value;if("number"===this.$props.parameter.type)return"number"!==typeof this.value}return!1},isValueExpression(){return Object(We["n"])(this.parameter,this.value)}},methods:{onFocus(){this.focused=!0},onBlur(){this.blurredEver=!0,this.focused=!1},onMenuExpanded(e){this.menuExpanded=e},optionSelected(e){this.$refs.param&&this.$refs.param.$emit("optionSelected",e)},valueChanged(e){this.$emit("change",e)},onDocumentationUrlClick(){this.$telemetry.track("User clicked credential modal docs link",{docs_link:this.documentationUrl,source:"field",workflow_id:this.$store.getters.workflowId})}}}),ut=dt,pt=s("34d1");function ht(e){this["$style"]=pt["default"].locals||pt["default"]}var mt=Object(v["a"])(ut,ot,it,!1,ht,null,null),gt=mt.exports,ft=n["default"].extend({name:"CredentialsInput",props:["credentialProperties","credentialData","documentationUrl","showValidationWarnings"],components:{ParameterInputExpanded:gt},methods:{valueChanged(e){const t=e.name.split(".").pop();this.$emit("change",{name:t,value:e.value})}}}),wt=ft,yt=s("fc10");function bt(e){this["$style"]=yt["default"].locals||yt["default"]}var vt=Object(v["a"])(wt,nt,at,!1,bt,null,null),xt=vt.exports,kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.isGoogleOAuthType?s("img",{class:e.$style.googleIcon,attrs:{src:e.basePath+"google-signin-light.png",alt:e.$locale.baseText("credentialEdit.oAuthButton.signInWithGoogle")},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}}):s("n8n-button",{attrs:{label:e.$locale.baseText("credentialEdit.oAuthButton.connectMyAccount"),size:"large"},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}})],1)},Tt=[],$t=n["default"].extend({props:{isGoogleOAuthType:{type:Boolean}},computed:{basePath(){return this.$store.getters.getBaseUrl}}}),_t=$t,Ct=s("5f21");function Nt(e){this["$style"]=Ct["default"].locals||Ct["default"]}var Et=Object(v["a"])(_t,kt,Tt,!1,Nt,null,null),St=Et.exports,Dt=s("7b04"),It=s("8206"),Ot=s.n(It),Pt=s("d119");function At(e,t){let s=t.name;if(Lt(e,t)||Mt(e)){const t=Bt(e).split(".");s=Vt(t).join(".")}if(Rt(e,t)||Wt(e,t)){const n=[...Bt(e).split("."),t.name];s=Vt(n).join(".")}return s}const Mt=e=>e.split(".").length>=3,Lt=(e,t)=>2===e.split(".").length&&"collection"===t.type,Rt=(e,t)=>e.split(".").length>2&&"collection"===t.type,Wt=(e,t)=>"fixedCollection"===t.type&&"parameters"!==e,Bt=e=>e.replace(/\[.*?\]/g,"").replace("parameters.",""),Vt=e=>e.reduce((t,s,n)=>(t.push(s),n===e.length-1||t.push(n%2===0?"options":"values"),t),[]);var Ut=s("eccd");function jt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Ft;function zt(e,t){Ft=new Ht(t),Object.defineProperty(e,"$locale",{get(){return Ft}}),Object.defineProperty(e.prototype,"$locale",{get(){return Ft}})}n["default"].use(Pt["a"]),g["g"].use("en");class Ht{constructor(e){jt(this,"$store",void 0),this.$store=e}get i18n(){return Gt}exists(e){return this.i18n.te(e)}shortNodeType(e){return e.replace("n8n-nodes-base.","")}baseText(e,t){return t&&t.adjustToNumber?this.i18n.tc(e,t.adjustToNumber,t&&t.interpolate).toString():this.i18n.t(e,t&&t.interpolate).toString()}dynamicRender({key:e,fallback:t}){return this.i18n.te(e)?this.i18n.t(e).toString():t}headerText(e){return this.dynamicRender(e)}credText(){const e=this.$store.getters.activeCredentialType,t="n8n-nodes-base.credentials."+e,s=this;return{inputLabelDisplayName({name:e,displayName:n}){return["clientId","clientSecret"].includes(e)?s.dynamicRender({key:"_reusableDynamicText.oauth2."+e,fallback:n}):s.dynamicRender({key:`${t}.${e}.displayName`,fallback:n})},hint({name:e,hint:n}){return s.dynamicRender({key:`${t}.${e}.hint`,fallback:n})},inputLabelDescription({name:e,description:n}){return s.dynamicRender({key:`${t}.${e}.description`,fallback:n})},optionsOptionDisplayName({name:e},{value:n,name:a}){return s.dynamicRender({key:`${t}.${e}.options.${n}.displayName`,fallback:a})},optionsOptionDescription({name:e},{value:n,description:a}){return s.dynamicRender({key:`${t}.${e}.options.${n}.description`,fallback:a})},placeholder({name:e,placeholder:n}){return s.dynamicRender({key:`${t}.${e}.placeholder`,fallback:n})}}}nodeText(){const e=this.$store.getters.activeNode,t=e?this.shortNodeType(e.type):"",s=`n8n-nodes-base.nodes.${t}.nodeView`,n=this;return{inputLabelDisplayName(e,t){const a=At(t,e);return n.dynamicRender({key:`${s}.${a}.displayName`,fallback:e.displayName})},inputLabelDescription(e,t){const a=At(t,e);return n.dynamicRender({key:`${s}.${a}.description`,fallback:e.description})},hint(e,t){const a=At(t,e);return n.dynamicRender({key:`${s}.${a}.hint`,fallback:e.hint})},placeholder(e,t){let a=e.name;if(Mt(t)){const e=Bt(t).split(".");a=Vt(e).join(".")}return n.dynamicRender({key:`${s}.${a}.placeholder`,fallback:e.placeholder})},optionsOptionDisplayName(e,{value:t,name:a},o){let i=e.name;if(Mt(o)){const e=Bt(o).split(".");i=Vt(e).join(".")}return n.dynamicRender({key:`${s}.${i}.options.${t}.displayName`,fallback:a})},optionsOptionDescription(e,{value:t,description:a},o){let i=e.name;if(Mt(o)){const e=Bt(o).split(".");i=Vt(e).join(".")}return n.dynamicRender({key:`${s}.${i}.options.${t}.description`,fallback:a})},collectionOptionDisplayName(e,{name:t,displayName:a},o){let i=e.name;if(Mt(o)){const e=Bt(o).split(".");i=Vt(e).join(".")}return n.dynamicRender({key:`${s}.${i}.options.${t}.displayName`,fallback:a})},multipleValueButtonText({name:e,typeOptions:{multipleValueButtonText:t}}){return n.dynamicRender({key:`${s}.${e}.multipleValueButtonText`,fallback:t})},eventTriggerDescription(e,t){return n.dynamicRender({key:`n8n-nodes-base.nodes.${e}.nodeView.eventTriggerDescription`,fallback:t})}}}}const Gt=new Pt["a"]({locale:"en",fallbackLocale:"en",messages:{en:Ut},silentTranslationWarn:!0});g["g"].i18n((e,t)=>Gt.t(e,t&&t.interpolate));const Kt=["en"];function Yt(e){return Gt.locale=e,Ot.a.defaults.headers.common["Accept-Language"]=e,document.querySelector("html").setAttribute("lang",e),g["g"].use(e),e}async function qt(e){if(!e)return Promise.resolve();if(Gt.locale===e)return Promise.resolve(Yt(e));if(Kt.includes(e))return Promise.resolve(Yt(e));const{numberFormats:t,...n}=s("8488")(`./${e}.json`);Gt.setLocaleMessage(e,n),t&&Gt.setNumberFormat(e,t),Kt.push(e),Yt(e)}function Jt(e,t){const s=Gt.messages[t]["n8n-nodes-base"]||{},n={...s.nodes,...e},a={"n8n-nodes-base":Object.assign(s,{nodes:n})};Gt.setLocaleMessage(t,Object.assign(Gt.messages[t],a))}function Xt(e,t){const s=Gt.messages[t]["n8n-nodes-base"]||{},n={...s.credentials,...e},a={"n8n-nodes-base":Object.assign(s,{credentials:n})};Gt.setLocaleMessage(t,Object.assign(Gt.messages[t],a))}function Qt(e,t){Gt.setLocaleMessage(t,Object.assign(Gt.messages[t],{headers:e}))}var Zt=Object(K["a"])(Dt["a"]).extend({name:"CredentialConfig",components:{Banner:Ge,CopyInput:st,CredentialInputs:xt,OauthButton:St},props:{credentialType:{type:Object},credentialProperties:{type:Array},parentTypes:{type:Array},credentialData:{},credentialId:{type:[String,Number],default:""},showValidationWarning:{type:Boolean,default:!1},authError:{type:String},testedSuccessfully:{type:Boolean},isOAuthType:{type:Boolean},isOAuthConnected:{type:Boolean},isRetesting:{type:Boolean},credentialPermissions:{type:Object,default:()=>({})},requiredPropertiesFilled:{type:Boolean}},data(){return{EnterpriseEditionFeature:N["gb"]}},async beforeMount(){if("en"===this.$store.getters.defaultLocale)return;this.$store.commit("setActiveCredentialType",this.credentialType.name);const e="n8n-nodes-base.credentials."+this.credentialType.name;if(this.$locale.exists(e))return;const t=await this.restApi().getCredentialTranslation(this.credentialType.name);Xt({[this.credentialType.name]:t},this.$store.getters.defaultLocale)},computed:{appName(){if(!this.credentialType)return"";const e=Object(We["f"])(this.credentialType.displayName);return e||this.$locale.baseText("credentialEdit.credentialConfig.theServiceYouReConnectingTo")},credentialTypeName(){return this.credentialType.name},credentialOwnerName(){return this.$store.getters["credentials/getCredentialOwnerName"](this.credentialId)},documentationUrl(){const e=this.credentialType,t=this.$store.getters.activeNode,s=!!t&&Object(We["k"])(t.type);return e&&e.documentationUrl?e.documentationUrl.startsWith("https://")||e.documentationUrl.startsWith("http://")?e.documentationUrl:s?"":`https://docs.n8n.io/credentials/${e.documentationUrl}/?utm_source=n8n_app&utm_medium=left_nav_menu&utm_campaign=create_new_credentials_modal`:""},isGoogleOAuthType(){return"googleOAuth2Api"===this.credentialTypeName||this.parentTypes.includes("googleOAuth2Api")},oAuthCallbackUrl(){const e="oAuth2Api"===this.credentialTypeName||this.parentTypes.includes("oAuth2Api")?"oauth2":"oauth1";return this.$store.getters.oauthCallbackUrls[e]},showOAuthSuccessBanner(){return this.isOAuthType&&this.requiredPropertiesFilled&&this.isOAuthConnected&&!this.authError}},methods:{onDataChange(e){this.$emit("change",e)},onDocumentationUrlClick(){this.$telemetry.track("User clicked credential modal docs link",{docs_link:this.documentationUrl,credential_type:this.credentialTypeName,source:"modal",workflow_id:this.$store.getters.workflowId})}},watch:{showOAuthSuccessBanner(e,t){e&&!t&&this.$emit("scrollToTop")}}}),es=Zt,ts=s("d4bd");function ss(e){this["$style"]=ts["default"].locals||ts["default"]}var ns=Object(v["a"])(es,Le,Re,!1,ss,null,null),as=ns.exports,os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("el-row",[s("el-col",{class:e.$style.accessLabel,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialInfo.allowUseBy"))+" ")])],1),s("el-col",{attrs:{span:16}},e._l(e.nodesWithAccess,(function(t){return s("div",{key:t.name,class:e.$style.valueLabel},[e.credentialPermissions.updateNodeAccess?s("el-checkbox",{attrs:{label:e.$locale.headerText({key:"headers."+e.shortNodeType(t)+".displayName",fallback:t.displayName}),value:!!e.nodeAccess[t.name]},on:{change:function(s){return e.onNodeAccessChange(t.name,s)}}}):s("n8n-text",[e._v(" "+e._s(e.$locale.headerText({key:"headers."+e.shortNodeType(t)+".displayName",fallback:t.displayName}))+" ")])],1)})),0)],1),e.currentCredential?s("el-row",[s("el-col",{class:e.$style.label,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialInfo.created"))+" ")])],1),s("el-col",{class:e.$style.valueLabel,attrs:{span:16}},[s("n8n-text",{attrs:{compact:!0}},[s("TimeAgo",{attrs:{date:e.currentCredential.createdAt,capitalize:!0}})],1)],1)],1):e._e(),e.currentCredential?s("el-row",[s("el-col",{class:e.$style.label,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialInfo.lastModified"))+" ")])],1),s("el-col",{class:e.$style.valueLabel,attrs:{span:16}},[s("n8n-text",{attrs:{compact:!0}},[s("TimeAgo",{attrs:{date:e.currentCredential.updatedAt,capitalize:!0}})],1)],1)],1):e._e(),e.currentCredential?s("el-row",[s("el-col",{class:e.$style.label,attrs:{span:8}},[s("n8n-text",{attrs:{compact:!0,bold:!0}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialInfo.id"))+" ")])],1),s("el-col",{class:e.$style.valueLabel,attrs:{span:16}},[s("n8n-text",{attrs:{compact:!0}},[e._v(e._s(e.currentCredential.id))])],1)],1):e._e()],1)},is=[],rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{attrs:{title:e.convertDate}},[e._v(" "+e._s(e.format)+" ")])},ls=[],cs=s("cd39"),ds=n["default"].extend({name:"TimeAgo",props:{date:{type:String},capitalize:{type:Boolean,default:!1}},beforeMount(){Object(cs["b"])(this.defaultLocale,this.localeFunc)},methods:{localeFunc(e,t,s){return[[this.$locale.baseText("timeAgo.justNow"),this.$locale.baseText("timeAgo.rightNow")],[this.$locale.baseText("timeAgo.justNow"),this.$locale.baseText("timeAgo.rightNow")],[this.$locale.baseText("timeAgo.oneMinuteAgo"),this.$locale.baseText("timeAgo.inOneMinute")],[this.$locale.baseText("timeAgo.minutesAgo"),this.$locale.baseText("timeAgo.inMinutes")],[this.$locale.baseText("timeAgo.oneHourAgo"),this.$locale.baseText("timeAgo.inOneHour")],[this.$locale.baseText("timeAgo.hoursAgo"),this.$locale.baseText("timeAgo.inHours")],[this.$locale.baseText("timeAgo.oneDayAgo"),this.$locale.baseText("timeAgo.inOneDay")],[this.$locale.baseText("timeAgo.daysAgo"),this.$locale.baseText("timeAgo.inDays")],[this.$locale.baseText("timeAgo.oneWeekAgo"),this.$locale.baseText("timeAgo.inOneWeek")],[this.$locale.baseText("timeAgo.weeksAgo"),this.$locale.baseText("timeAgo.inWeeks")],[this.$locale.baseText("timeAgo.oneMonthAgo"),this.$locale.baseText("timeAgo.inOneMonth")],[this.$locale.baseText("timeAgo.monthsAgo"),this.$locale.baseText("timeAgo.inMonths")],[this.$locale.baseText("timeAgo.oneYearAgo"),this.$locale.baseText("timeAgo.inOneYear")],[this.$locale.baseText("timeAgo.yearsAgo"),this.$locale.baseText("timeAgo.inYears")]][t]}},computed:{...Object(D["b"])(["defaultLocale"]),format(){const e=Object(cs["a"])(this.date,this.defaultLocale);return this.capitalize?e:e.toLowerCase()},convertDate(){const e=new Date(this.date),t=e.getTime();return Object(We["c"])(t)}}}),us=ds,ps=Object(v["a"])(us,rs,ls,!1,null,null,null),hs=ps.exports,ms=n["default"].extend({name:"CredentialInfo",props:["nodesWithAccess","nodeAccess","currentCredential","credentialPermissions"],components:{TimeAgo:hs},methods:{onNodeAccessChange(e,t){this.$emit("accessChange",{name:e,value:t})},shortNodeType(e){return this.$locale.shortNodeType(e.name)}}}),gs=ms,fs=s("611f");function ws(e){this["$style"]=fs["default"].locals||fs["default"]}var ys=Object(v["a"])(gs,os,is,!1,ws,null,null),bs=ys.exports,vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("n8n-info-tip",{staticClass:"mb-s",attrs:{bold:!1}},[e.credentialPermissions.isOwner?[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialSharing.info.owner"))+" ")]:[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialSharing.info.sharee",{interpolate:{credentialOwnerName:e.credentialOwnerName}}))+" ")]],2),!e.credentialPermissions.isOwner&&e.credentialPermissions.isInstanceOwner?s("n8n-info-tip",{attrs:{bold:!1}},[e._v(" "+e._s(e.$locale.baseText("credentialEdit.credentialSharing.info.instanceOwner"))+" ")]):e._e(),e.credentialPermissions.updateSharing?s("n8n-user-select",{attrs:{size:"large",users:e.usersList,currentUserId:e.currentUser.id,placeholder:e.$locale.baseText("credentialEdit.credentialSharing.select.placeholder")},on:{input:e.onAddSharee},scopedSlots:e._u([{key:"prefix",fn:function(){return[s("n8n-icon",{attrs:{icon:"search"}})]},proxy:!0}],null,!1,3648684143)}):e._e(),s("n8n-users-list",{attrs:{users:e.sharedWithList,currentUserId:e.currentUser.id,"delete-label":e.$locale.baseText("credentialEdit.credentialSharing.list.delete"),readonly:!e.credentialPermissions.updateSharing},on:{delete:e.onRemoveSharee}})],1)},xs=[],ks=Object(K["a"])(Y["a"]).extend({name:"CredentialSharing",props:["credential","credentialId","credentialData","sharedWith","credentialPermissions"],computed:{...Object(D["b"])("users",["allUsers","currentUser"]),usersList(){return this.allUsers.filter(e=>{const t=e.id===this.currentUser.id,s=(this.credentialData.sharedWith||[]).find(t=>t.id===e.id);return!t&&!s})},sharedWithList(){return[{...this.credential?this.credential.ownedBy:this.currentUser,isOwner:!0}].concat(this.credentialData.sharedWith||[])},credentialOwnerName(){return this.$store.getters["credentials/getCredentialOwnerName"](this.credentialId)}},methods:{async onAddSharee(e){const{id:t,firstName:s,lastName:n,email:a}=this.$store.getters["users/getUserById"](e),o={id:t,firstName:s,lastName:n,email:a};this.$emit("change",(this.credentialData.sharedWith||[]).concat(o))},async onRemoveSharee(e){const t=this.$store.getters["users/getUserById"](e),s=await this.confirmMessage(this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.message",{interpolate:{name:t.fullName}}),this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.title"),null,this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.confirmButtonText"),this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.cancelButtonText"));s&&this.$emit("change",this.credentialData.sharedWith.filter(e=>e.id!==t.id))},async loadUsers(){await this.$store.dispatch("users/fetchUsers")}},mounted(){this.loadUsers()}}),Ts=ks,$s=s("b01d");function _s(e){this["$style"]=$s["default"].locals||$s["default"]}var Cs=Object(v["a"])(Ts,vs,xs,!1,_s,null,null),Ns=Cs.exports,Es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{class:e.$style.container},[e.saved?s("span",{class:e.$style.saved},[e._v(e._s(e.$locale.baseText("saveButton.saved")))]):s("n8n-button",{class:e.$style.button,attrs:{label:e.saveButtonLabel,loading:e.isSaving,disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}})],1)},Ss=[],Ds=n["default"].extend({name:"SaveButton",props:{saved:{type:Boolean},isSaving:{type:Boolean},disabled:{type:Boolean},saveLabel:{type:String},savingLabel:{type:String},savedLabel:{type:String}},computed:{saveButtonLabel(){return this.isSaving?this.$locale.baseText("saveButton.saving"):this.$locale.baseText("saveButton.save")}}}),Is=Ds,Os=s("da52");function Ps(e){this["$style"]=Os["default"].locals||Os["default"]}var As=Object(v["a"])(Is,Es,Ss,!1,Ps,null,null),Ms=As.exports,Ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ph-no-capture",class:e.$style.container},[e.readonly?s("span",{class:e.$style.headline},[e._v(" "+e._s(e.name)+" ")]):s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.disableNameEdit,expression:"disableNameEdit"}],class:[e.$style.headline,e.$style["headline-editable"]],on:{keydown:function(e){e.stopPropagation()},click:e.enableNameEdit}},[e.isNameEdit?s("div",{class:e.$style.nameInput},[s("n8n-input",{ref:"nameInput",attrs:{value:e.name,size:"xlarge",maxlength:64},on:{input:e.onNameEdit,change:e.disableNameEdit}})],1):s("div",[s("span",[e._v(e._s(e.name))]),s("i",[s("font-awesome-icon",{attrs:{icon:"pen"}})],1)])]),!e.isNameEdit&&e.subtitle?s("div",{class:e.$style.subtitle},[e._v(" "+e._s(e.subtitle)+" ")]):e._e()])},Rs=[],Ws=Object(K["a"])(Y["a"]).extend({name:"InlineNameEdit",props:{name:{type:String},subtitle:{type:String},type:{type:String},readonly:{type:Boolean,default:!1}},data(){return{isNameEdit:!1}},methods:{onNameEdit(e){this.$emit("input",e)},enableNameEdit(){this.isNameEdit=!0,setTimeout(()=>{const e=this.$refs.nameInput;e&&e.focus()},0)},disableNameEdit(){this.name||(this.$emit("input","Untitled "+this.type),this.$showToast({title:"Error",message:this.type+" name cannot be empty",type:"warning"})),this.isNameEdit=!1}}}),Bs=Ws,Vs=s("199b");function Us(e){this["$style"]=Vs["default"].locals||Vs["default"]}var js=Object(v["a"])(Bs,Ls,Rs,!1,Us,null,null),Fs=js.exports,zs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return this.featureInfo?s("div",{class:[e.$style.container]},[e.showTitle?s("div",{staticClass:"mb-2xl"},[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(" "+e._s(e.$locale.baseText(e.featureInfo.featureName))+" ")])],1):e._e(),e.featureInfo.infoText?s("div",{staticClass:"mb-l"},[s("n8n-info-tip",{attrs:{theme:"info",type:"note"}},[[s("span",{domProps:{innerHTML:e._s(e.$locale.baseText(e.featureInfo.infoText))}})]],2)],1):e._e(),s("div",{class:e.$style.actionBoxContainer},[s("n8n-action-box",{attrs:{description:e.$locale.baseText(e.featureInfo.actionBoxDescription),buttonText:e.$locale.baseText(e.featureInfo.actionBoxButtonLabel||"fakeDoor.actionBox.button.label")},on:{click:e.openLinkPage},scopedSlots:e._u([{key:"heading",fn:function(){return[s("span",{domProps:{innerHTML:e._s(e.$locale.baseText(e.featureInfo.actionBoxTitle))}})]},proxy:!0}],null,!1,1885287474)})],1)]):e._e()},Hs=[],Gs=n["default"].extend({name:"FeatureComingSoon",props:{featureId:{type:String,required:!0},showTitle:{type:Boolean,default:!1}},computed:{userId(){return this.$store.getters["users/currentUserId"]},versionCli(){return this.$store.getters["settings/versionCli"]},instanceId(){return this.$store.getters.instanceId},featureInfo(){return this.$store.getters["ui/getFakeDoorById"](this.featureId)}},methods:{openLinkPage(){window.open(`${this.featureInfo.linkURL}&u=${this.instanceId}#${this.userId}&v=${this.versionCli}`,"_blank"),this.$telemetry.track("user clicked feature waiting list button",{feature:this.featureId})}}}),Ks=Gs,Ys=s("4fff");function qs(e){this["$style"]=Ys["default"].locals||Ys["default"]}var Js=Object(v["a"])(Ks,zs,Hs,!1,qs,null,null),Xs=Js.exports,Qs=s("be18"),Zs=Object(K["a"])(Y["a"],Me["a"]).extend({name:"CredentialEdit",components:{CredentialSharing:Ns,CredentialConfig:as,CredentialIcon:Ae,CredentialInfo:bs,InlineNameEdit:Fs,Modal:W,SaveButton:Ms,FeatureComingSoon:Xs},props:{modalName:{type:String,required:!0},activeId:{type:[String,Number],required:!0},mode:{type:String}},data(){return{activeTab:"connection",authError:"",credentialId:"",credentialName:"",credentialData:{},modalBus:new n["default"],nodeAccess:{},isDeleting:!1,isSaving:!1,isTesting:!1,hasUnsavedChanges:!1,loading:!0,showValidationWarning:!1,testedSuccessfully:!1,isRetesting:!1,EnterpriseEditionFeature:N["gb"]}},async mounted(){if(this.nodeAccess=this.nodesWithAccess.reduce((e,t)=>("new"===this.mode?e[t.name]={nodeType:t.name}:e[t.name]=null,e),{}),"new"===this.mode?(this.credentialName=await this.$store.dispatch("credentials/getNewCredentialName",{credentialTypeName:this.credentialTypeName}),n["default"].set(this.credentialData,"ownedBy",{id:this.currentUser.id,firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,email:this.currentUser.email})):await this.loadCurrentCredential(),this.credentialType)for(const e of this.credentialType.properties)this.credentialData.hasOwnProperty(e.name)||n["default"].set(this.credentialData,e.name,e.default);this.$externalHooks().run("credentialsEdit.credentialModalOpened",{credentialType:this.credentialTypeName,isEditingCredential:"edit"===this.mode,activeNode:this.$store.getters.activeNode}),setTimeout(()=>{this.credentialId&&(this.requiredPropertiesFilled?this.retestCredential():this.showValidationWarning=!0)},0),this.loading=!1},computed:{...Object(D["b"])("users",["currentUser"]),currentCredential(){return this.credentialId?this.$store.getters["credentials/getCredentialById"](this.credentialId):null},credentialTypeName(){return"edit"===this.mode?this.currentCredential?this.currentCredential.type:null:""+this.activeId},credentialType(){if(!this.credentialTypeName)return null;const e=this.$store.getters["credentials/getCredentialTypeByName"](this.credentialTypeName);return e?{...e,properties:this.getCredentialProperties(this.credentialTypeName)}:null},isCredentialTestable(){if(this.isOAuthType||!this.requiredPropertiesFilled)return!1;const{ownedBy:e,sharedWith:t,...s}=this.credentialData,n=Object.values(s).reduce((e,t)=>e||"string"===typeof t&&t.startsWith("="),!1);if(n)return!1;const a=this.nodesWithAccess.filter(e=>{if(e.credentials){const t=e.credentials.filter(e=>e.name===this.credentialTypeName&&e.testedBy);return!!t.length}return!1});return!!a.length||!!this.credentialType&&!!this.credentialType.test},nodesWithAccess(){return this.credentialTypeName?this.$store.getters["credentials/getNodesWithAccess"](this.credentialTypeName):[]},parentTypes(){return this.credentialTypeName?this.getParentTypes(this.credentialTypeName):[]},isOAuthType(){return!!this.credentialTypeName&&(("oAuth2Api"===this.credentialTypeName||this.parentTypes.includes("oAuth2Api"))&&"authorizationCode"===this.credentialData.grantType||"oAuth1Api"===this.credentialTypeName||this.parentTypes.includes("oAuth1Api"))},isOAuthConnected(){return this.isOAuthType&&!!this.credentialData.oauthTokenData},credentialProperties(){return this.credentialType?this.credentialType.properties.filter(e=>!!this.displayCredentialParameter(e)&&(!this.credentialType.__overwrittenProperties||!this.credentialType.__overwrittenProperties.includes(e.name))):[]},requiredPropertiesFilled(){for(const e of this.credentialProperties)if(!0===e.required){if("string"===e.type&&!this.credentialData[e.name])return!1;if("number"===e.type&&"number"!==typeof this.credentialData[e.name])return!1}return!0},credentialsFakeDoorFeatures(){return this.$store.getters["ui/getFakeDoorByLocation"]("credentialsModal")},credentialPermissions(){return this.loading?{}:Object(Qs["a"])(this.currentUser,this.credentialId?this.currentCredential:this.credentialData,this.$store)}},methods:{async beforeClose(){let e=!1;if(this.hasUnsavedChanges){const t=this.credentialType?this.credentialType.displayName:"";e=await this.confirmMessage(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.message",{interpolate:{credentialDisplayName:t}}),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.headline"),null,this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.cancelButtonText"),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.confirmButtonText"))}else this.credentialPermissions.isOwner&&this.isOAuthType&&!this.isOAuthConnected&&(e=await this.confirmMessage(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.message"),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.headline"),null,this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.cancelButtonText"),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.confirmButtonText")));return!e||(this.requiredPropertiesFilled?this.isOAuthType&&this.scrollToBottom():(this.showValidationWarning=!0,this.scrollToTop()),!1)},displayCredentialParameter(e){return"hidden"!==e.type&&(void 0===e.displayOptions||this.displayParameter(this.credentialData,e,"",null))},getCredentialProperties(e){const t=this.$store.getters["credentials/getCredentialTypeByName"](e);if(!t)return[];if(void 0===t.extends)return t.properties;const s=[];for(const n of t.extends){const e=this.getCredentialProperties(n);Ce["NodeHelpers"].mergeNodeProperties(s,e)}return Ce["NodeHelpers"].mergeNodeProperties(s,t.properties),s},async loadCurrentCredential(){this.credentialId=this.activeId;try{const e=await this.$store.dispatch("credentials/getCredentialData",{id:this.credentialId});if(!e)throw new Error(this.$locale.baseText("credentialEdit.credentialEdit.couldNotFindCredentialWithId")+":"+this.credentialId);this.credentialData=e.data||{},e.sharedWith&&n["default"].set(this.credentialData,"sharedWith",e.sharedWith),e.ownedBy&&n["default"].set(this.credentialData,"ownedBy",e.ownedBy),this.credentialName=e.name,e.nodesAccess.forEach(e=>{this.nodeAccess[e.nodeType]=e})}catch(e){return this.$showError(e,this.$locale.baseText("credentialEdit.credentialEdit.showError.loadCredential.title")),void this.closeDialog()}},onTabSelect(e){this.activeTab=e;const t=e.replaceAll("coming-soon/",""),s=this.credentialType?this.credentialType.name:"",n=this.$store.getters.activeNode;this.$telemetry.track("User viewed credential tab",{credential_type:s,node_type:n?n.type:null,tab:t,workflow_id:this.$store.getters.workflowId,credential_id:this.credentialId,sharing_enabled:N["gb"].Sharing})},onNodeAccessChange({name:e,value:t}){this.hasUnsavedChanges=!0,this.nodeAccess=t?{...this.nodeAccess,[e]:{nodeType:e}}:{...this.nodeAccess,[e]:null}},onChangeSharedWith(e){n["default"].set(this.credentialData,"sharedWith",e),this.hasUnsavedChanges=!0},onDataChange({name:e,value:t}){this.hasUnsavedChanges=!0;const{oauthTokenData:s,...n}=this.credentialData;this.credentialData={...n,[e]:t}},closeDialog(){this.modalBus.$emit("close")},getParentTypes(e){const t=this.$store.getters["credentials/getCredentialTypeByName"](e);if(void 0===t||void 0===t.extends)return[];const s=[];for(const n of t.extends)s.push(n),s.push.apply(s,this.getParentTypes(n));return s},onNameEdit(e){this.hasUnsavedChanges=!0,this.credentialName=e},scrollToTop(){setTimeout(()=>{const e=this.$refs.content;e&&(e.scrollTop=0)},0)},scrollToBottom(){setTimeout(()=>{const e=this.$refs.content;e&&(e.scrollTop=e.scrollHeight)},0)},async retestCredential(){if(!this.isCredentialTestable)return this.authError="",void(this.testedSuccessfully=!1);const e=Object.values(this.nodeAccess).filter(e=>!!e),{ownedBy:t,sharedWith:s,...n}=this.credentialData,a={id:this.credentialId,name:this.credentialName,type:this.credentialTypeName,data:n,nodesAccess:e};this.isRetesting=!0,await this.testCredential(a),this.isRetesting=!1},async testCredential(e){const t=await this.$store.dispatch("credentials/testCredential",e);"Error"===t.status?(this.authError=t.message,this.testedSuccessfully=!1):(this.authError="",this.testedSuccessfully=!0),this.scrollToTop()},async saveCredential(){this.requiredPropertiesFilled?this.showValidationWarning=!1:(this.showValidationWarning=!0,this.scrollToTop()),this.isSaving=!0;const e=Object.values(this.nodeAccess).filter(e=>!!e),t=Ce["NodeHelpers"].getNodeParameters(this.credentialType.properties,this.credentialData,!1,!1,null);let s,n;this.$store.getters["settings/isEnterpriseFeatureEnabled"](N["gb"].Sharing)&&(s=this.credentialData.sharedWith,n=this.credentialData.ownedBy);const a={id:this.credentialId,name:this.credentialName,type:this.credentialTypeName,data:t,nodesAccess:e,sharedWith:s,ownedBy:n};let o;const i="new"===this.mode&&!this.credentialId;if(o=i?await this.createCredential(a):await this.updateCredential(a),this.isSaving=!1,o){this.credentialId=o.id,this.isCredentialTestable?(this.isTesting=!0,a.data=this.credentialData,a.id=this.credentialId,await this.testCredential(a),this.isTesting=!1):(this.authError="",this.testedSuccessfully=!1);const e={credential_type:a.type,workflow_id:this.$store.getters.workflowId,credential_id:o.id,is_complete:!!this.requiredPropertiesFilled,is_new:i};this.isOAuthType?e.is_valid=!!this.isOAuthConnected:this.isCredentialTestable&&(e.is_valid=!!this.testedSuccessfully),this.$store.getters.activeNode&&(e.node_type=this.$store.getters.activeNode.type),this.authError&&""!==this.authError&&(e.authError=this.authError),this.$telemetry.track("User saved credentials",e),this.$externalHooks().run("credentialEdit.saveCredential",e)}return o},async createCredential(e){let t;try{t=await this.$store.dispatch("credentials/createNewCredential",e),this.hasUnsavedChanges=!1}catch(s){return this.$showError(s,this.$locale.baseText("credentialEdit.credentialEdit.showError.createCredential.title")),null}return this.$externalHooks().run("credential.saved",{credential_type:e.type,credential_id:t.id,is_new:!0}),this.$telemetry.track("User created credentials",{credential_type:e.type,credential_id:t.id,workflow_id:this.$store.getters.workflowId}),t},async updateCredential(e){let t;try{t=await this.$store.dispatch("credentials/updateCredential",{id:this.credentialId,data:e}),this.hasUnsavedChanges=!1}catch(s){return this.$showError(s,this.$locale.baseText("credentialEdit.credentialEdit.showError.updateCredential.title")),null}return this.$externalHooks().run("credential.saved",{credential_type:e.type,credential_id:t.id,is_new:!1}),this.updateNodesCredentialsIssues(),t},async deleteCredential(){if(!this.currentCredential)return;const e=this.currentCredential.name,t=await this.confirmMessage(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.message",{interpolate:{savedCredentialName:e}}),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.headline"),null,this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.confirmButtonText"));if(!1!==t){try{this.isDeleting=!0,await this.$store.dispatch("credentials/deleteCredential",{id:this.credentialId}),this.hasUnsavedChanges=!1}catch(s){return this.$showError(s,this.$locale.baseText("credentialEdit.credentialEdit.showError.deleteCredential.title")),void(this.isDeleting=!1)}this.isDeleting=!1,this.updateNodesCredentialsIssues(),this.$showMessage({title:this.$locale.baseText("credentialEdit.credentialEdit.showMessage.title"),type:"success"}),this.closeDialog()}},async oAuthCredentialAuthorize(){let e;const t=await this.saveCredential();if(!t)return;const s=this.parentTypes;try{"oAuth2Api"===this.credentialTypeName||s.includes("oAuth2Api")?e=await this.$store.dispatch("credentials/oAuth2Authorize",{...this.credentialData,id:t.id}):("oAuth1Api"===this.credentialTypeName||s.includes("oAuth1Api"))&&(e=await this.$store.dispatch("credentials/oAuth1Authorize",{...this.credentialData,id:t.id}))}catch(r){return void this.$showError(r,this.$locale.baseText("credentialEdit.credentialEdit.showError.generateAuthorizationUrl.title"),this.$locale.baseText("credentialEdit.credentialEdit.showError.generateAuthorizationUrl.message"))}const a="scrollbars=no,resizable=yes,status=no,titlebar=noe,location=no,toolbar=no,menubar=no,width=500,height=700",o=window.open(e,"OAuth2 Authorization",a);n["default"].set(this.credentialData,"oauthTokenData",null);const i=e=>{"success"===e.data&&(window.removeEventListener("message",i,!1),n["default"].set(this.credentialData,"oauthTokenData",{}),this.$store.commit("credentials/enableOAuthCredential",t),o&&o.close())};window.addEventListener("message",i,!1)}}}),en=Zs,tn=s("d62a");function sn(e){this["$style"]=tn["default"].locals||tn["default"]}var nn=Object(v["a"])(en,$e,_e,!1,sn,null,null),an=nn.exports,on=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.CREDENTIAL_LIST_MODAL_KEY,width:"80%",title:e.$locale.baseText("credentialsList.credentials")},scopedSlots:e._u([{key:"content",fn:function(){return[s("n8n-heading",{attrs:{tag:"h3",size:"small",color:"text-light"}},[e._v(e._s(e.$locale.baseText("credentialsList.yourSavedCredentials")+":"))]),s("div",{staticClass:"new-credentials-button"},[s("n8n-button",{attrs:{title:e.$locale.baseText("credentialsList.createNewCredential"),icon:"plus",label:e.$locale.baseText("credentialsList.addNew"),size:"large"},on:{click:function(t){return e.createCredential()}}})],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ph-no-capture",attrs:{data:e.credentialsToDisplay,"default-sort":{prop:"name",order:"ascending"},stripe:"","max-height":"450"},on:{"row-click":e.editCredential}},[s("el-table-column",{attrs:{property:"name",label:e.$locale.baseText("credentialsList.name"),"class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{property:"type",label:e.$locale.baseText("credentialsList.type"),"class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{property:"createdAt",label:e.$locale.baseText("credentialsList.created"),"class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{property:"updatedAt",label:e.$locale.baseText("credentialsList.updated"),"class-name":"clickable",sortable:""}}),s("el-table-column",{attrs:{label:e.$locale.baseText("credentialsList.operations"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"cred-operations"},[s("n8n-icon-button",{attrs:{title:e.$locale.baseText("credentialsList.editCredential"),size:"small",icon:"pen"},on:{click:function(s){return s.stopPropagation(),e.editCredential(t.row)}}}),s("n8n-icon-button",{attrs:{title:e.$locale.baseText("credentialsList.deleteCredential"),size:"small",icon:"trash"},on:{click:function(s){return s.stopPropagation(),e.deleteCredential(t.row)}}})],1)]}}])})],1)]},proxy:!0}])})},rn=[],ln=s("debe"),cn=s("4971"),dn=Object(K["a"])(ln["a"],cn["a"],Me["a"],Y["a"]).extend({name:"CredentialsList",components:{Modal:W},data(){return{CREDENTIAL_LIST_MODAL_KEY:N["G"],loading:!0}},computed:{...Object(D["b"])("credentials",["allCredentials"]),credentialsToDisplay(){return this.allCredentials.reduce((e,t)=>{const s=this.$store.getters["credentials/getCredentialTypeByName"](t.type);return s&&e.push({...t,type:s.displayName,createdAt:Object(We["b"])(t.createdAt),updatedAt:Object(We["b"])(t.updatedAt)}),e},[])}},async mounted(){try{await Promise.all([await this.$store.dispatch("credentials/fetchCredentialTypes"),await this.$store.dispatch("credentials/fetchAllCredentials")])}catch(e){this.$showError(e,this.$locale.baseText("credentialsList.errorLoadingCredentials"))}this.loading=!1,this.$telemetry.track("User opened Credentials panel",{workflow_id:this.$store.getters.workflowId})},destroyed(){this.$externalHooks().run("credentialsList.destroyed")},methods:{createCredential(){this.$store.dispatch("ui/openModal",N["H"])},editCredential(e){this.$store.dispatch("ui/openExistingCredential",{id:e.id}),this.$telemetry.track("User opened Credential modal",{credential_type:e.type,source:"primary_menu",new_credential:!1,workflow_id:this.$store.getters.workflowId})},async deleteCredential(e){const t=await this.confirmMessage(this.$locale.baseText("credentialsList.confirmMessage.message",{interpolate:{credentialName:e.name}}),this.$locale.baseText("credentialsList.confirmMessage.headline"),null,this.$locale.baseText("credentialsList.confirmMessage.confirmButtonText"),this.$locale.baseText("credentialsList.confirmMessage.cancelButtonText"));if(!1!==t){try{await this.$store.dispatch("credentials/deleteCredential",{id:e.id})}catch(s){return void this.$showError(s,this.$locale.baseText("credentialsList.showError.deleteCredential.title"))}this.updateNodesCredentialsIssues(),this.$showMessage({title:this.$locale.baseText("credentialsList.showMessage.title"),type:"success"})}}}}),un=dn,pn=(s("ad75"),Object(v["a"])(un,on,rn,!1,null,"462ea177",null)),hn=pn.exports,mn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.INVITE_USER_MODAL_KEY,title:e.$locale.baseText("settings.users.inviteNewUsers"),center:!0,width:"460px",eventBus:e.modalBus},on:{enter:e.onSubmit}},[s("template",{slot:"content"},[s("n8n-form-inputs",{attrs:{inputs:e.config,eventBus:e.formBus,columnView:!0},on:{input:e.onInput,submit:e.onSubmit}})],1),s("template",{slot:"footer"},[s("n8n-button",{attrs:{loading:e.loading,disabled:!e.enabledButton,label:e.buttonLabel,float:"right"},on:{click:e.onSubmitClick}})],1)],2)},gn=[];function fn(e){return"version"in e}const wn={Owner:"owner",Member:"member",Default:"default"},yn={LoggedIn:"LoggedIn",LoggedOut:"LoggedOut"},bn={TAGS:{CAN_DELETE_TAGS:{allow:{role:[wn.Owner,wn.Default]}}},PRIMARY_MENU:{CAN_ACCESS_USER_INFO:{allow:{loginStatus:[yn.LoggedIn]},deny:{role:[wn.Default]}}},USER_SETTINGS:{VIEW_UM_SETUP_WARNING:{allow:{role:[wn.Default]}}}},vn=(e,t)=>{const s=t?yn.LoggedIn:yn.LoggedOut;if(e.deny){if(e.deny.shouldDeny&&e.deny.shouldDeny())return!1;if(e.deny.loginStatus&&e.deny.loginStatus.includes(s))return!1;if(t&&t.globalRole){const s=t.isDefaultUser?wn.Default:t.globalRole.name;if(e.deny.role&&e.deny.role.includes(s))return!1}else if(e.deny.role)return!1}if(e.allow){if(e.allow.shouldAllow&&e.allow.shouldAllow())return!0;if(e.allow.loginStatus&&e.allow.loginStatus.includes(s))return!0;if(t&&t.globalRole){const s=t.isDefaultUser?wn.Default:t.globalRole.name;if(e.allow.role&&e.allow.role.includes(s))return!0}}return!1};function xn(e){return e?fn(e)?Tn(e):$n(e):[]}function kn(e){if(e.createdAt){const t=new Date(e.createdAt),s=new Date;return Math.ceil((s.getTime()-t.getTime())/864e5)}return-1}function Tn(e){let t=[];const{version:s,...n}=e;if(0===Object.keys(n).length)return[];const a=e[N["A"]],o=e[N["C"]],i=e[N["c"]];let r=null;if(N["n"]in e&&e[N["n"]]&&(r=parseInt(e[N["n"]],10),r=isNaN(r)?0:r),t=o===N["Y"]?t.concat(N["xd"]):o===N["hc"]?t.concat(N["Db"]):(o===N["Cc"]||i===N["uc"]||i===N["mc"])&&null!==r&&r>=4?t.concat(N["wd"]):(o===N["Cc"]||i===N["uc"]||i===N["mc"])&&null!==r&&r<3?t.concat(N["I"]):i===N["J"]?t.concat(N["wd"]):i===N["K"]||i===N["ib"]?t.concat(N["Fd"]):i===N["Rc"]?t.concat(N["ub"]):i===N["sb"]?t.concat(N["yd"]):i===N["tc"]?t.concat(N["I"]):i===N["Hc"]?t.concat(N["lc"]):i===N["Sc"]?t.concat(N["jd"]):t.concat(N["wd"]),t=null!==r&&r>=4?t.concat(N["mb"]):t.concat(N["zb"]),t=null!==r&&r<3?t.concat(N["vb"]):t.concat(N["dd"]),a===N["z"]||a===N["v"])switch(i){case N["J"]:t=t.concat(N["tb"]);break;case N["K"]:t=t.concat(N["Ed"]);break;case N["Rc"]:t=t.concat(N["Pc"]);break;case N["sb"]:t=t.concat(N["Wc"]);break;case N["Hc"]:t=t.concat(N["Cb"]);break;case N["ib"]:t=t.concat(N["Zc"]);break;case N["Sc"]:t=t.concat(N["ab"]);break;default:t=t.concat(N["Yc"])}else switch(i){case N["J"]:t=t.concat(N["tb"]);break;case N["K"]:t=t.concat(N["Ed"]);break;case N["ib"]:t=t.concat(N["Jc"]);break;case N["sb"]:t=t.concat(N["e"]);break;case N["Hc"]:t=t.concat(N["Cb"]);break;case N["Rc"]:t=t.concat(N["ob"]);break;case N["Sc"]:t=t.concat(N["ab"]);break;default:t=t.concat(N["Yc"])}return t=t.concat(N["Xc"]),t}function $n(e){const t=e[N["A"]],s=e[N["Cd"]];function n(e){return Array.isArray(s)?s.includes(e):s===e}const a=!s||0===s.length;if(null===t&&a&&null===e[N["n"]])return[];let o=null;e[N["n"]]&&(o=parseInt(e[N["n"]],10),o=isNaN(o)?0:o);let i=[];return i=n(N["Ab"])?i.concat(N["wd"]):i.concat(N["I"]),i=null!==o&&o>=4?i.concat(N["mb"]):i.concat(N["zb"]),i=null!==o&&o<3?i.concat(N["vb"]):i.concat(N["dd"]),i=t===N["z"]||t===N["v"]?n(N["Qc"])?i.concat(N["Pc"]):n(N["Uc"])?i.concat([N["ab"],N["tb"]]):n(N["Ic"])?i.concat([N["Db"],N["Vc"]]):n(N["Ab"])?i.concat([N["nb"],N["tb"]]):i.concat([N["cc"],N["dc"]]):n(N["Qc"])?i.concat(N["m"]):n(N["Uc"])?i.concat([N["zc"],N["tb"]]):n(N["Ic"])?i.concat([N["Db"],N["k"]]):n(N["Ab"])?i.concat([N["eb"],N["tb"]]):n(N["kb"])?i.concat([N["Dd"],N["Jc"],N["Zc"]]):i.concat([N["bb"],N["Yc"]]),i=i.concat(N["Xc"]),i}const _n=/^.* <(.*)>$/;function Cn(e){let t=e.trim();if(_n.test(t)){const e=t.match(_n);e&&2===e.length&&(t=e[1])}return t}var Nn=Object(K["a"])(Y["a"]).extend({components:{Modal:W},name:"InviteUsersModal",props:{modalName:{type:String}},data(){return{config:null,formBus:new n["default"],modalBus:new n["default"],emails:"",loading:!1,INVITE_USER_MODAL_KEY:N["yb"]}},mounted(){this.config=[{name:"emails",properties:{label:this.$locale.baseText("settings.users.newEmailsToInvite"),required:!0,validationRules:[{name:"VALID_EMAILS"}],validators:{VALID_EMAILS:{validate:this.validateEmails}},placeholder:"name1@email.com, name2@email.com, ...",capitalize:!0,focusInitially:!0}},{name:"role",initialValue:"member",properties:{label:this.$locale.baseText("auth.role"),required:!0,type:"select",options:[{value:wn.Member,label:this.$locale.baseText("auth.roles.member")}],capitalize:!0}}]},computed:{emailsCount(){return this.emails.split(",").filter(e=>!!e.trim()).length},buttonLabel(){return this.emailsCount>1?this.$locale.baseText("settings.users.inviteXUser",{interpolate:{count:this.emailsCount.toString()}}):this.$locale.baseText("settings.users.inviteUser")},enabledButton(){return this.emailsCount>=1}},methods:{validateEmails(e){if("string"!==typeof e)return!1;const t=e.split(",");for(let s=0;s<t.length;s++){const e=t[s],n=Cn(e);if(n.trim()&&!N["rd"].test(String(n).trim().toLowerCase()))return{messageKey:"settings.users.invalidEmailError",options:{interpolate:{email:n}}}}return!1},onInput(e){"emails"===e.name&&(this.emails=e.value)},async onSubmit(){try{this.loading=!0;const e=this.emails.split(",").map(e=>({email:Cn(e)})).filter(e=>!!e.email);if(0===e.length)throw new Error(this.$locale.baseText("settings.users.noUsersToInvite"));const t=await this.$store.dispatch("users/inviteUsers",e),s=t.reduce((e,{user:t,error:s})=>(s?e.error.push(t.email):e.success.push(t.email),e),{success:[],error:[]});s.success.length&&this.$showMessage({type:"success",title:this.$locale.baseText(s.success.length>1?"settings.users.usersInvited":"settings.users.userInvited"),message:this.$locale.baseText("settings.users.emailInvitesSent",{interpolate:{emails:s.success.join(", ")}})}),s.error.length&&setTimeout(()=>{this.$showMessage({type:"error",title:this.$locale.baseText("settings.users.usersEmailedError"),message:this.$locale.baseText("settings.users.emailInvitesSentError",{interpolate:{emails:s.error.join(", ")}})})},0),this.modalBus.$emit("close")}catch(e){this.$showError(e,this.$locale.baseText("settings.users.usersInvitedError"))}this.loading=!1},onSubmitClick(){this.formBus.$emit("submit")}}}),En=Nn,Sn=Object(v["a"])(En,mn,gn,!1,null,null,null),Dn=Sn.exports,In=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.CREDENTIAL_SELECT_MODAL_KEY,eventBus:e.modalBus,width:"50%",center:!0,loading:e.loading,maxWidth:"460px",minHeight:"250px"}},[s("template",{slot:"header"},[s("h2",{class:e.$style.title},[e._v(e._s(e.$locale.baseText("credentialSelectModal.addNewCredential")))])]),s("template",{slot:"content"},[s("div",[s("div",{class:e.$style.subtitle},[e._v(e._s(e.$locale.baseText("credentialSelectModal.selectAnAppOrServiceToConnectTo")))]),s("n8n-select",{ref:"select",attrs:{filterable:"",defaultFirstOption:"",placeholder:e.$locale.baseText("credentialSelectModal.searchForApp"),size:"xlarge",value:e.selected},on:{change:e.onSelect}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"}),e._l(e.allCredentialTypes,(function(e){return s("n8n-option",{key:e.name,attrs:{value:e.name,label:e.displayName,filterable:""}})}))],2)],1)]),s("template",{slot:"footer"},[s("div",{class:e.$style.footer},[s("n8n-button",{attrs:{label:e.$locale.baseText("credentialSelectModal.continue"),float:"right",size:"large",disabled:!e.selected},on:{click:e.openCredentialType}})],1)])],2)},On=[],Pn=Object(K["a"])(ln["a"]).extend({name:"CredentialsSelectModal",components:{Modal:W},async mounted(){try{await this.$store.dispatch("credentials/fetchCredentialTypes")}catch(e){}this.loading=!1,setTimeout(()=>{const e=this.$refs.select;e&&e.focus()},0)},data(){return{modalBus:new n["default"],selected:"",loading:!0,CREDENTIAL_SELECT_MODAL_KEY:N["H"]}},computed:{...Object(D["b"])("credentials",["allCredentialTypes"])},methods:{onSelect(e){this.selected=e},openCredentialType(){this.modalBus.$emit("close"),this.$store.dispatch("ui/openNewCredential",{type:this.selected});const e={credential_type:this.selected,source:"primary_menu",new_credential:!0,workflow_id:this.$store.getters.workflowId};this.$telemetry.track("User opened Credential modal",e),this.$externalHooks().run("credentialsSelectModal.openCredentialType",e)}}}),An=Pn,Mn=s("de96");function Ln(e){this["$style"]=Mn["default"].locals||Mn["default"]}var Rn=Object(v["a"])(An,In,On,!1,Ln,null,null),Wn=Rn.exports,Bn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.modalName,eventBus:e.modalBus,title:e.$locale.baseText("duplicateWorkflowDialog.duplicateWorkflow"),center:!0,width:"420px"},on:{enter:e.save},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{class:e.$style.content},[s("n8n-input",{ref:"nameInput",attrs:{placeholder:e.$locale.baseText("duplicateWorkflowDialog.enterWorkflowName"),maxlength:e.MAX_WORKFLOW_NAME_LENGTH},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e.areTagsEnabled?s("TagsDropdown",{ref:"dropdown",attrs:{createEnabled:!0,currentTagIds:e.currentTagIds,eventBus:e.dropdownBus,placeholder:e.$locale.baseText("duplicateWorkflowDialog.chooseOrCreateATag")},on:{blur:e.onTagsBlur,esc:e.onTagsEsc,update:e.onTagsUpdate}}):e._e()],1)]},proxy:!0},{key:"footer",fn:function(t){var n=t.close;return[s("div",{class:e.$style.footer},[s("n8n-button",{attrs:{loading:e.isSaving,label:e.$locale.baseText("duplicateWorkflowDialog.save"),float:"right"},on:{click:e.save}}),s("n8n-button",{attrs:{type:"secondary",disabled:e.isSaving,label:e.$locale.baseText("duplicateWorkflowDialog.cancel"),float:"right"},on:{click:n}})],1)]}}])})},Vn=[],Un=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],class:{"tags-container":!0,focused:e.focused},on:{keydown:function(e){e.stopPropagation()}}},[s("n8n-select",{ref:"select",attrs:{popperAppendToBody:!1,value:e.appliedTags,loading:e.isLoading,placeholder:e.placeholder,"filter-method":e.filterOptions,filterable:"",multiple:"","loading-text":"...","popper-class":"tags-dropdown",size:"medium"},on:{change:e.onTagsUpdated,"visible-change":e.onVisibleChange,"remove-tag":e.onRemoveTag}},[0===e.options.length&&e.filter&&e.createEnabled?s("n8n-option",{key:e.CREATE_KEY,ref:"create",staticClass:"ops",attrs:{value:e.CREATE_KEY}},[s("font-awesome-icon",{attrs:{icon:"plus-circle"}}),s("span",[e._v(" "+e._s(e.$locale.baseText("tagsDropdown.createTag",{interpolate:{filter:e.filter}}))+" ")])],1):0===e.options.length?s("n8n-option",{attrs:{value:"message",disabled:""}},[e.createEnabled?s("span",[e._v(e._s(e.$locale.baseText("tagsDropdown.typeToCreateATag")))]):e.allTags.length>0?s("span",[e._v(e._s(e.$locale.baseText("tagsDropdown.noMatchingTagsExist")))]):s("span",[e._v(e._s(e.$locale.baseText("tagsDropdown.noTagsExist")))])]):e._e(),e._l(e.options,(function(e,t){return s("n8n-option",{key:e.id+"_"+t,ref:"tag",refInFor:!0,staticClass:"tag",attrs:{value:e.id,label:e.name}})})),s("n8n-option",{key:e.MANAGE_KEY,staticClass:"ops manage-tags",attrs:{value:e.MANAGE_KEY}},[s("font-awesome-icon",{attrs:{icon:"cog"}}),s("span",[e._v(e._s(e.$locale.baseText("tagsDropdown.manageTags")))])],1)],2)],1)},jn=[];const Fn="__manage",zn="__create";var Hn=Object(K["a"])(Y["a"]).extend({name:"TagsDropdown",props:["placeholder","currentTagIds","createEnabled","eventBus"],data(){return{filter:"",MANAGE_KEY:Fn,CREATE_KEY:zn,focused:!1,preventUpdate:!1}},mounted(){const e=this.$refs.select&&this.$refs.select.$refs&&this.$refs.select.$refs.innerSelect;if(e){const t=e.$refs.input;t&&(t.setAttribute("maxlength",""+N["Yb"]),t.addEventListener("keydown",e=>{const t=e;"Escape"===t.key?this.$emit("esc"):"Enter"===t.key&&0===this.filter.length&&(this.$data.preventUpdate=!0,this.$emit("blur"),this.$refs.select&&"function"===typeof this.$refs.select.blur&&this.$refs.select.blur())}))}this.$props.eventBus&&this.$props.eventBus.$on("focus",()=>{this.focusOnInput(),this.focusOnTopOption()}),this.$store.dispatch("tags/fetchAll")},computed:{...Object(D["b"])("tags",["allTags","isLoading","hasTags"]),options(){return this.allTags.filter(e=>e&&e.name.toLowerCase().includes(this.$data.filter.toLowerCase()))},appliedTags(){return this.$props.currentTagIds.filter(e=>this.$store.getters["tags/getTagById"](e))}},methods:{filterOptions(e=""){this.$data.filter=e.trim(),this.$nextTick(()=>this.focusOnTopOption())},async onCreate(){const e=this.$data.filter;try{const t=await this.$store.dispatch("tags/create",e);this.$emit("update",[...this.$props.currentTagIds,t.id]),this.$nextTick(()=>this.focusOnTag(t.id)),this.$data.filter=""}catch(t){this.$showError(t,this.$locale.baseText("tagsDropdown.showError.title"),this.$locale.baseText("tagsDropdown.showError.message",{interpolate:{name:e}}))}},onTagsUpdated(e){const t=e.find(e=>e===Fn||e===zn);t===Fn?(this.$data.filter="",this.$store.dispatch("ui/openModal",N["fd"])):t===zn?this.onCreate():setTimeout(()=>{this.$data.preventUpdate||this.$emit("update",e),this.$data.preventUpdate=!1},0)},focusOnTopOption(){const e=this.$refs.tag,t=this.$refs.create;t&&t.hoverItem?t.hoverItem():e&&e[0]&&e[0].hoverItem&&(e[0].hoverItem(),e[0]&&e[0].$el&&e[0].$el.scrollIntoView&&e[0].$el.scrollIntoView())},focusOnTag(e){const t=this.$refs.tag||[];if(t&&t.length){const s=t.find(t=>t.value===e);s&&s.$el&&s.$el.scrollIntoView&&s.hoverItem&&(s.hoverItem(),s.$el.scrollIntoView())}},focusOnInput(){const e=this.$refs.select;e&&(e.focusOnInput(),this.focused=!0)},onVisibleChange(e){e?this.focused=!0:(this.$data.filter="",this.focused=!1)},onRemoveTag(){this.$nextTick(()=>{this.focusOnInput()})},onClickOutside(e){"click"===e.type&&this.$emit("blur")}},watch:{allTags(){this.currentTagIds.length!==this.appliedTags.length&&this.$emit("update",this.appliedTags)}}}),Gn=Hn,Kn=(s("b9d5"),s("3429"),Object(v["a"])(Gn,Un,jn,!1,null,"27c19869",null)),Yn=Kn.exports,qn=Object(K["a"])(Y["a"],we["a"]).extend({components:{TagsDropdown:Yn,Modal:W},name:"DuplicateWorkflow",props:["modalName","isActive"],data(){const e=this.$store.getters["workflowTags"];return{name:"",currentTagIds:e,isSaving:!1,modalBus:new n["default"],dropdownBus:new n["default"],MAX_WORKFLOW_NAME_LENGTH:N["Zb"],prevTagIds:e}},async mounted(){this.$data.name=await this.$store.dispatch("workflows/getDuplicateCurrentWorkflowName"),this.$nextTick(()=>this.focusOnNameInput())},computed:{...Object(D["b"])("settings",["areTagsEnabled"])},watch:{isActive(e){e&&this.focusOnSelect()}},methods:{focusOnSelect(){this.dropdownBus.$emit("focus")},focusOnNameInput(){const e=this.$refs.nameInput;e&&e.focus&&e.focus()},onTagsBlur(){this.prevTagIds=this.currentTagIds},onTagsEsc(){this.currentTagIds=this.prevTagIds},onTagsUpdate(e){this.currentTagIds=e},async save(){const e=this.name.trim();if(!e)return void this.$showMessage({title:this.$locale.baseText("duplicateWorkflowDialog.showMessage.title"),message:this.$locale.baseText("duplicateWorkflowDialog.showMessage.message"),type:"error"});const t=this.$store.getters.workflowId;this.$data.isSaving=!0;const s=await this.saveAsNewWorkflow({name:e,tags:this.currentTagIds,resetWebhookUrls:!0,openInNewWindow:!0,resetNodeIds:!0});s&&(this.closeDialog(),this.$telemetry.track("User duplicated workflow",{old_workflow_id:t,workflow_id:this.$store.getters.workflowId})),this.$data.isSaving=!1},closeDialog(){this.modalBus.$emit("close")}}}),Jn=qn,Xn=s("9a35");function Qn(e){this["$style"]=Xn["default"].locals||Xn["default"]}var Zn=Object(v["a"])(Jn,Bn,Vn,!1,Qn,null,null),ea=Zn.exports,ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isOpen(e.name)||e.keepAlive?s("div",[e._t("default",null,{modalName:e.name,active:e.isActive(e.name),open:e.isOpen(e.name),activeId:e.getActiveId(e.name),mode:e.getMode(e.name)})],2):e._e()},sa=[],na=n["default"].extend({name:"ModalRoot",props:["name","keepAlive"],methods:{isActive(e){return this.$store.getters["ui/isModalActive"](e)},isOpen(e){return this.$store.getters["ui/isModalOpen"](e)},getMode(e){return this.$store.getters["ui/getModalMode"](e)},getActiveId(e){return this.$store.getters["ui/getModalActiveId"](e)}}}),aa=na,oa=Object(v["a"])(aa,ta,sa,!1,null,null,null),ia=oa.exports,ra=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.ONBOARDING_CALL_SIGNUP_MODAL_KEY,title:e.$locale.baseText("onboardingCallSignupModal.title"),eventBus:e.modalBus,center:!0,showClose:!1,beforeClose:e.onModalClose,width:"460px"}},[s("template",{slot:"content"},[s("div",{staticClass:"pb-m"},[s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("onboardingCallSignupModal.description"))+" ")])],1),s("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSignup.apply(null,arguments)}}},[s("n8n-input",{attrs:{placeholder:e.$locale.baseText("onboardingCallSignupModal.emailInput.placeholder")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e.showError?s("n8n-text",{staticClass:"mt-4xs",attrs:{size:"small",tag:"div",color:"danger"}},[e._v(" "+e._s(e.$locale.baseText("onboardingCallSignupModal.infoText.emailError"))+" ")]):e._e()],1)]),s("template",{slot:"footer"},[s("div",{class:e.$style.buttonsContainer},[s("n8n-button",{attrs:{label:e.$locale.baseText("onboardingCallSignupModal.cancelButton.label"),disabled:e.loading,size:"medium",float:"right",type:"outline"},on:{click:e.onCancel}}),s("n8n-button",{attrs:{disabled:""===e.email||e.loading,label:e.$locale.baseText("onboardingCallSignupModal.signupButton.label"),size:"medium",float:"right",loading:e.loading},on:{click:e.onSignup}})],1)])],2)},la=[],ca=Object(K["a"])(Y["a"]).extend({components:{Modal:W},name:"OnboardingCallSignupModal",props:["modalName"],data(){return{email:"",modalBus:new n["default"],ONBOARDING_CALL_SIGNUP_MODAL_KEY:N["rc"],showError:!1,okToClose:!1,loading:!1}},computed:{isEmailValid(){return N["rd"].test(String(this.email).toLowerCase())}},methods:{async onSignup(){if(this.isEmailValid){this.showError=!1,this.loading=!0,this.okToClose=!1;try{await this.$store.dispatch("ui/applyForOnboardingCall",{email:this.email}),this.$showMessage({type:"success",title:this.$locale.baseText("onboardingCallSignupSucess.title"),message:this.$locale.baseText("onboardingCallSignupSucess.message")}),this.okToClose=!0,this.modalBus.$emit("close")}catch(e){this.$showError(e,this.$locale.baseText("onboardingCallSignupFailed.title"),this.$locale.baseText("onboardingCallSignupFailed.message")),this.loading=!1,this.okToClose=!0}}else this.showError=!0},async onCancel(){this.okToClose=!0,this.modalBus.$emit("close")},onModalClose(){return this.okToClose}}}),da=ca,ua=s("c961");function pa(e){this["$style"]=ua["default"].locals||ua["default"]}var ha=Object(v["a"])(da,ra,la,!1,pa,null,null),ma=ha.exports,ga=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.PERSONALIZATION_MODAL_KEY,title:e.submitted?e.$locale.baseText("personalizationModal.thanks"):e.$locale.baseText("personalizationModal.customizeN8n"),subtitle:e.submitted?"":e.$locale.baseText("personalizationModal.theseQuestionsHelpUs"),centerTitle:!0,showClose:!1,eventBus:e.modalBus,closeOnClickModal:!1,closeOnPressEscape:!1,width:"460px"},on:{enter:e.onSave},scopedSlots:e._u([{key:"content",fn:function(){return[e.submitted?s("div",{class:e.$style.submittedContainer},[s("img",{class:e.$style.demoImage,attrs:{src:e.baseUrl+"suggestednodes.png"}}),s("n8n-text",[e._v(e._s(e.$locale.baseText("personalizationModal.lookOutForThingsMarked")))])],1):s("div",{class:e.$style.container},[s("n8n-form-inputs",{attrs:{inputs:e.survey,columnView:!0,eventBus:e.formBus},on:{submit:e.onSubmit}})],1)]},proxy:!0},{key:"footer",fn:function(){return[s("div",[e.submitted?s("n8n-button",{attrs:{label:e.$locale.baseText("personalizationModal.getStarted"),float:"right"},on:{click:e.closeDialog}}):s("n8n-button",{attrs:{loading:e.isSaving,label:e.$locale.baseText("personalizationModal.continue"),float:"right"},on:{click:e.onSave}})],1)]},proxy:!0}])})},fa=[];const wa="v3";var ya=Object(K["a"])(Y["a"],we["a"]).extend({components:{Modal:W},name:"PersonalizationModal",data(){return{submitted:!1,isSaving:!1,PERSONALIZATION_MODAL_KEY:N["Ac"],otherWorkAreaFieldVisible:!1,otherCompanyIndustryFieldVisible:!1,showAllIndustryQuestions:!0,modalBus:new n["default"],formBus:new n["default"]}},computed:{...Object(D["b"])({baseUrl:"getBaseUrl"}),...Object(D["b"])("users",["currentUser"]),...Object(D["b"])("settings",["isOnboardingCallPromptFeatureEnabled"]),survey(){const e=[{name:N["C"],properties:{label:this.$locale.baseText("personalizationModal.whatBestDescribesYourCompany"),type:"select",placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.saas"),value:N["Oc"]},{label:this.$locale.baseText("personalizationModal.eCommerce"),value:N["Y"]},{label:this.$locale.baseText("personalizationModal.digitalAgencyOrConsultant"),value:N["V"]},{label:this.$locale.baseText("personalizationModal.systemsIntegrator"),value:N["ed"]},{value:N["Z"],label:this.$locale.baseText("personalizationModal.education")},{label:this.$locale.baseText("personalizationModal.other"),value:N["wc"]},{label:this.$locale.baseText("personalizationModal.imNotUsingN8nForWork"),value:N["Cc"]}]}},{name:N["u"],properties:{type:"multi-select",label:this.$locale.baseText("personalizationModal.whichIndustriesIsYourCompanyIn"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{value:N["jb"],label:this.$locale.baseText("personalizationModal.financeOrInsurance")},{value:N["pb"],label:this.$locale.baseText("personalizationModal.government")},{value:N["qb"],label:this.$locale.baseText("personalizationModal.healthcare")},{value:N["Bb"],label:this.$locale.baseText("personalizationModal.it")},{value:N["Eb"],label:this.$locale.baseText("personalizationModal.legal")},{value:N["ic"],label:this.$locale.baseText("personalizationModal.managedServiceProvider")},{value:N["Vb"],label:this.$locale.baseText("personalizationModal.marketing")},{value:N["bc"],label:this.$locale.baseText("personalizationModal.media")},{value:N["Lb"],label:this.$locale.baseText("personalizationModal.manufacturing")},{value:N["Dc"],label:this.$locale.baseText("personalizationModal.physicalRetailOrServices")},{value:N["Lc"],label:this.$locale.baseText("personalizationModal.realEstateOrConstruction")},{value:N["Tc"],label:this.$locale.baseText("personalizationModal.security")},{value:N["gd"],label:this.$locale.baseText("personalizationModal.telecoms")},{value:N["xc"],label:this.$locale.baseText("personalizationModal.otherPleaseSpecify")}]},shouldDisplay(e){const t=e[N["C"]];return t===N["wc"]}},{name:N["vc"],properties:{placeholder:this.$locale.baseText("personalizationModal.specifyYourCompanysIndustry")},shouldDisplay(e){const t=e[N["C"]],s=e[N["u"]];return t===N["wc"]&&!!s&&s.includes(N["xc"])}},{name:N["c"],properties:{type:"select",label:this.$locale.baseText("personalizationModal.whatAreYouLookingToAutomate"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{value:N["J"],label:this.$locale.baseText("personalizationModal.customerIntegrations")},{value:N["K"],label:this.$locale.baseText("personalizationModal.customerSupport")},{value:N["cb"],label:this.$locale.baseText("personalizationModal.engineeringOrDevops")},{value:N["ib"],label:this.$locale.baseText("personalizationModal.financeOrAccounting")},{value:N["sb"],label:this.$locale.baseText("personalizationModal.hr")},{value:N["tc"],label:this.$locale.baseText("personalizationModal.operations")},{value:N["Hc"],label:this.$locale.baseText("personalizationModal.product")},{value:N["Rc"],label:this.$locale.baseText("personalizationModal.salesAndMarketing")},{value:N["Sc"],label:this.$locale.baseText("personalizationModal.security")},{value:N["uc"],label:this.$locale.baseText("personalizationModal.otherPleaseSpecify")},{value:N["mc"],label:this.$locale.baseText("personalizationModal.notSureYet")}]},shouldDisplay(e){const t=e[N["C"]];return t!==N["Cc"]}},{name:N["d"],properties:{placeholder:this.$locale.baseText("personalizationModal.specifyYourAutomationGoal")},shouldDisplay(e){const t=e[N["C"]],s=e[N["c"]];return t!==N["Cc"]&&s===N["uc"]}},{name:N["Rb"],properties:{type:"multi-select",label:this.$locale.baseText("personalizationModal.specifySalesMarketingGoal"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.leadGeneration"),value:N["Sb"]},{label:this.$locale.baseText("personalizationModal.customerCommunication"),value:N["Pb"]},{label:this.$locale.baseText("personalizationModal.customerActions"),value:N["Nb"]},{label:this.$locale.baseText("personalizationModal.adCampaign"),value:N["Ob"]},{label:this.$locale.baseText("personalizationModal.reporting"),value:N["Ub"]},{label:this.$locale.baseText("personalizationModal.dataSynching"),value:N["Qb"]},{label:this.$locale.baseText("personalizationModal.other"),value:N["Tb"]}]},shouldDisplay(e){const t=e[N["c"]];return t===N["Rc"]}},{name:N["yc"],properties:{placeholder:this.$locale.baseText("personalizationModal.specifyOtherSalesAndMarketingGoal")},shouldDisplay(e){const t=e[N["Rb"]];return!!t&&t.includes(N["Tb"])}},{name:N["pd"],properties:{type:"multi-select",label:this.$locale.baseText("personalizationModal.specifyUsageMode"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.connectToInternalDB"),value:N["od"]},{label:this.$locale.baseText("personalizationModal.buildBackendServices"),value:N["nd"]},{label:this.$locale.baseText("personalizationModal.manipulateFiles"),value:N["qd"]}]}},{name:N["A"],properties:{type:"select",label:this.$locale.baseText("personalizationModal.howBigIsYourCompany"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.lessThan20People"),value:N["y"]},{label:"20-99 "+this.$locale.baseText("personalizationModal.people"),value:N["x"]},{label:"100-499 "+this.$locale.baseText("personalizationModal.people"),value:N["w"]},{label:"500-999 "+this.$locale.baseText("personalizationModal.people"),value:N["z"]},{label:"1000+ "+this.$locale.baseText("personalizationModal.people"),value:N["v"]},{label:this.$locale.baseText("personalizationModal.imNotUsingN8nForWork"),value:N["B"]}]},shouldDisplay(e){const t=e[N["C"]];return t!==N["Cc"]}}];return e}},methods:{closeDialog(){this.modalBus.$emit("close")},onSave(){this.formBus.$emit("submit")},async onSubmit(e){this.$data.isSaving=!0;try{const t={...e,version:wa,personalization_survey_submitted_at:(new Date).toISOString(),personalization_survey_n8n_version:this.$store.getters.versionCli};this.$externalHooks().run("personalizationModal.onSubmit",t),await this.$store.dispatch("users/submitPersonalizationSurvey",t),0===Object.keys(e).length&&this.closeDialog(),await this.fetchOnboardingPrompt(),this.submitted=!0}catch(t){this.$showError(t,"Error while submitting results")}this.$data.isSaving=!1},async fetchOnboardingPrompt(){if(this.isOnboardingCallPromptFeatureEnabled&&kn(this.currentUser)<=N["sc"]){const e=await this.$store.dispatch("ui/getNextOnboardingPrompt"),t=1===e.toast_sequence_number?N["lb"]:1e3;e.title&&e.description&&setTimeout(async()=>{this.$showToast({type:"info",title:e.title,message:e.description,duration:0,customClass:"clickable",closeOnClick:!0,onClick:()=>{this.$telemetry.track("user clicked onboarding toast",{seq_num:e.toast_sequence_number,title:e.title,description:e.description}),this.$store.commit("ui/openModal",N["rc"],{root:!0})}})},t)}}}}),ba=ya,va=s("2ab7");function xa(e){this["$style"]=va["default"].locals||va["default"]}var ka=Object(v["a"])(ba,ga,fa,!1,xa,null,null),Ta=ka.exports,$a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{title:e.$locale.baseText("tagsManager.manageTags"),name:e.TAGS_MANAGER_MODAL_KEY,eventBus:e.modalBus,minWidth:"620px",minHeight:"420px"},on:{enter:e.onEnter},scopedSlots:e._u([{key:"content",fn:function(){return[s("el-row",[e.hasTags||e.isCreating?s("TagsView",{attrs:{isLoading:e.isLoading,tags:e.tags},on:{create:e.onCreate,update:e.onUpdate,delete:e.onDelete,disableCreate:e.onDisableCreate}}):s("NoTagsView",{on:{enableCreate:e.onEnableCreate}})],1)]},proxy:!0},{key:"footer",fn:function(t){var n=t.close;return[s("n8n-button",{attrs:{label:e.$locale.baseText("tagsManager.done"),float:"right"},on:{click:n}})]}}])})},_a=[],Ca=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyOperation.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelOperation.apply(null,arguments)}]}},[s("TagsTableHeader",{attrs:{search:e.search,disabled:e.isHeaderDisabled()},on:{searchChange:e.onSearchChange,createEnable:e.onCreateEnable}}),s("TagsTable",{ref:"tagsTable",attrs:{rows:e.rows,isLoading:e.isLoading,isSaving:e.isSaving,newName:e.newName},on:{newNameChange:e.onNewNameChange,updateEnable:e.onUpdateEnable,deleteEnable:e.onDeleteEnable,cancelOperation:e.cancelOperation,applyOperation:e.applyOperation}})],1)},Na=[],Ea=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"tags-header"},[s("el-col",{attrs:{span:10}},[s("n8n-input",{attrs:{placeholder:e.$locale.baseText("tagsTableHeader.searchTags"),value:e.search,disabled:e.disabled,clearable:"",maxlength:e.maxLength},on:{input:e.onSearchChange}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1)],1),s("el-col",{attrs:{span:14}},[s("n8n-button",{attrs:{disabled:e.disabled,icon:"plus",label:e.$locale.baseText("tagsTableHeader.addNew"),size:"large",float:"right"},on:{click:e.onAddNew}})],1)],1)},Sa=[],Da=n["default"].extend({props:{disabled:{default:!1},search:{default:""}},data(){return{maxLength:N["Yb"]}},methods:{onAddNew(){this.$emit("createEnable")},onSearchChange(e){this.$emit("searchChange",e)}}}),Ia=Da,Oa=(s("caa2"),Object(v["a"])(Ia,Ea,Sa,!1,null,"0af20338",null)),Pa=Oa.exports,Aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"table",attrs:{stripe:"","max-height":"450","empty-text":e.$locale.baseText("tagsTable.noMatchingTagsExist"),data:e.rows,"span-method":e.getSpan,"row-class-name":e.getRowClasses}},[s("el-table-column",{attrs:{label:e.$locale.baseText("tagsTable.name")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{key:t.row.id,staticClass:"name",on:{keydown:function(e){e.stopPropagation()}}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.row.create||t.row.update?s("n8n-input",{ref:"nameInput",attrs:{value:e.newName,maxlength:e.maxLength},on:{input:e.onNewNameChange}}):t.row.delete?s("span",[s("span",[e._v(e._s(e.$locale.baseText("tagsTable.areYouSureYouWantToDeleteThisTag")))]),s("input",{ref:"deleteHiddenInput",staticClass:"hidden"})]):s("span",{class:{disabled:t.row.disable}},[e._v(" "+e._s(t.row.tag.name)+" ")])],1)],1)]}}])}),s("el-table-column",{attrs:{label:e.$locale.baseText("tagsTable.usage"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.row.create||t.row.delete?e._e():s("div",{class:{disabled:t.row.disable}},[e._v(" "+e._s(t.row.usage)+" ")])])]}}])}),s("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.row.create?s("div",{staticClass:"ops"},[s("n8n-button",{attrs:{label:e.$locale.baseText("tagsTable.cancel"),type:"secondary",disabled:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.cancel.apply(null,arguments)}}}),s("n8n-button",{attrs:{label:e.$locale.baseText("tagsTable.createTag"),loading:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.apply.apply(null,arguments)}}})],1):t.row.update?s("div",{staticClass:"ops"},[s("n8n-button",{attrs:{label:e.$locale.baseText("tagsTable.cancel"),type:"secondary",disabled:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.cancel.apply(null,arguments)}}}),s("n8n-button",{attrs:{label:e.$locale.baseText("tagsTable.saveChanges"),loading:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.apply.apply(null,arguments)}}})],1):t.row.delete?s("div",{staticClass:"ops"},[s("n8n-button",{attrs:{label:e.$locale.baseText("tagsTable.cancel"),type:"secondary",disabled:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.cancel.apply(null,arguments)}}}),s("n8n-button",{attrs:{label:e.$locale.baseText("tagsTable.deleteTag"),loading:e.isSaving},on:{click:function(t){return t.stopPropagation(),e.apply.apply(null,arguments)}}})],1):t.row.disable?e._e():s("div",{staticClass:"ops main"},[s("n8n-icon-button",{attrs:{title:e.$locale.baseText("tagsTable.editTag"),icon:"pen"},on:{click:function(s){return s.stopPropagation(),e.enableUpdate(t.row)}}}),t.row.canDelete?s("n8n-icon-button",{attrs:{title:e.$locale.baseText("tagsTable.deleteTag"),icon:"trash"},on:{click:function(s){return s.stopPropagation(),e.enableDelete(t.row)}}}):e._e()],1)])]}}])})],1)},Ma=[];const La=350,Ra=100;var Wa=n["default"].extend({name:"TagsTable",props:["rows","isLoading","newName","isSaving"],data(){return{maxLength:N["Yb"]}},mounted(){1===this.$props.rows.length&&this.$props.rows[0].create&&this.focusOnInput()},methods:{getRowClasses:({row:e})=>e.disable?"disabled":"",getSpan({row:e,columnIndex:t}){return 0===t&&e.tag&&e.delete?[1,2]:1===t&&e.tag&&e.delete?[0,0]:1},enableUpdate(e){e.tag&&(this.$emit("updateEnable",e.tag.id),this.$emit("newNameChange",e.tag.name),this.focusOnInput())},enableDelete(e){e.tag&&(this.$emit("deleteEnable",e.tag.id),this.focusOnDelete())},cancel(){this.$emit("cancelOperation")},apply(){this.$emit("applyOperation")},onNewNameChange(e){this.$emit("newNameChange",e)},focusOnInput(){setTimeout(()=>{const e=this.$refs.nameInput;e&&e.focus&&e.focus()},La)},focusOnDelete(){setTimeout(()=>{const e=this.$refs.deleteHiddenInput;e&&e.focus&&e.focus()},Ra)},focusOnCreate(){this.$refs.table.$refs.bodyWrapper.scrollTop=0,this.focusOnInput()}},watch:{rows(e){e&&e[0]&&e[0].create&&this.focusOnCreate()}}}),Ba=Wa,Va=(s("ba4b"),Object(v["a"])(Ba,Aa,Ma,!1,null,"e9798e34",null)),Ua=Va.exports;const ja=(e,t)=>e.toLowerCase().trim().includes(t.toLowerCase().trim());var Fa=n["default"].extend({components:{TagsTableHeader:Pa,TagsTable:Ua},name:"TagsView",props:["tags","isLoading"],data(){return{createEnabled:!1,deleteId:"",updateId:"",search:"",newName:"",stickyIds:new Set,isSaving:!1}},computed:{...Object(D["b"])("users",["canUserDeleteTags"]),isCreateEnabled(){return 0===(this.$props.tags||[]).length||this.$data.createEnabled},rows(){const e=e=>e&&e>0?this.$locale.baseText("tagsView.inUse",{adjustToNumber:e}):this.$locale.baseText("tagsView.notBeingUsed"),t=this.isCreateEnabled||this.$data.updateId||this.$data.deleteId,s=(this.$props.tags||[]).filter(e=>this.stickyIds.has(e.id)||ja(e.name,this.$data.search)).map(s=>({tag:s,usage:e(s.usageCount),disable:t&&s.id!==this.deleteId&&s.id!==this.$data.updateId,update:t&&s.id===this.$data.updateId,delete:t&&s.id===this.$data.deleteId,canDelete:this.canUserDeleteTags}));return this.isCreateEnabled?[{create:!0},...s]:s}},methods:{onNewNameChange(e){this.newName=e},onSearchChange(e){this.$data.stickyIds.clear(),this.$data.search=e},isHeaderDisabled(){return this.$props.isLoading||!!(this.isCreateEnabled||this.$data.updateId||this.$data.deleteId)},onUpdateEnable(e){this.updateId=e},disableUpdate(){this.updateId="",this.newName=""},updateTag(){this.$data.isSaving=!0;const e=this.newName.trim(),t=e=>{this.$data.isSaving=!1,e&&(this.stickyIds.add(this.updateId),this.disableUpdate())};this.$emit("update",this.updateId,e,t)},onDeleteEnable(e){this.deleteId=e},disableDelete(){this.deleteId=""},deleteTag(){this.$data.isSaving=!0;const e=e=>{e&&this.disableDelete(),this.$data.isSaving=!1};this.$emit("delete",this.deleteId,e)},onCreateEnable(){this.$data.createEnabled=!0,this.$data.newName=""},disableCreate(){this.$data.createEnabled=!1,this.$emit("disableCreate")},createTag(){this.$data.isSaving=!0;const e=this.$data.newName.trim(),t=(e,t)=>{e&&(this.stickyIds.add(e.id),this.disableCreate()),this.$data.isSaving=!1};this.$emit("create",e,t)},applyOperation(){this.$data.isSaving||(this.isCreateEnabled?this.createTag():this.$data.updateId?this.updateTag():this.$data.deleteId&&this.deleteTag())},cancelOperation(){this.$data.isSaving||(this.isCreateEnabled?this.disableCreate():this.$data.updateId?this.disableUpdate():this.$data.deleteId&&this.disableDelete())}}}),za=Fa,Ha=Object(v["a"])(za,Ca,Na,!1,null,null,null),Ga=Ha.exports,Ka=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("el-col",{staticClass:"notags",attrs:{span:16}},[s("div",{staticClass:"icon"},[e._v("")]),s("div",[s("div",{staticClass:"headline"},[e._v(e._s(e.$locale.baseText("noTagsView.readyToOrganizeYourWorkflows")))]),s("div",{staticClass:"description"},[e._v(" "+e._s(e.$locale.baseText("noTagsView.withWorkflowTagsYouReFree"))+" ")])]),s("n8n-button",{attrs:{label:"Create a tag",size:"large"},on:{click:function(t){return e.$emit("enableCreate")}}})],1)],1)},Ya=[],qa=n["default"].extend({name:"NoTagsView"}),Ja=qa,Xa=(s("90c6"),Object(v["a"])(Ja,Ka,Ya,!1,null,"39c4907e",null)),Qa=Xa.exports,Za=Object(K["a"])(Y["a"]).extend({name:"TagsManager",created(){this.$store.dispatch("tags/fetchAll",{force:!0,withUsageCount:!0})},data(){const e=this.$store.getters["tags/allTags"].map(e=>e.id);return{tagIds:e,isCreating:!1,modalBus:new n["default"],TAGS_MANAGER_MODAL_KEY:N["fd"]}},components:{TagsView:Ga,NoTagsView:Qa,Modal:W},computed:{...Object(D["b"])("tags",["isLoading"]),tags(){return this.$data.tagIds.map(e=>this.$store.getters["tags/getTagById"](e)).filter(Boolean)},hasTags(){return this.tags.length>0}},methods:{onEnableCreate(){this.$data.isCreating=!0},onDisableCreate(){this.$data.isCreating=!1},async onCreate(e,t){try{if(!e)throw new Error(this.$locale.baseText("tagsManager.tagNameCannotBeEmpty"));const s=await this.$store.dispatch("tags/create",e);this.$data.tagIds=[s.id].concat(this.$data.tagIds),t(s)}catch(s){const n=escape(e);this.$showError(s,this.$locale.baseText("tagsManager.showError.onCreate.title"),this.$locale.baseText("tagsManager.showError.onCreate.message",{interpolate:{escapedName:n}})+":"),t(null,s)}},async onUpdate(e,t,s){const n=this.$store.getters["tags/getTagById"](e),a=n.name;try{if(!t)throw new Error(this.$locale.baseText("tagsManager.tagNameCannotBeEmpty"));if(t===a)return void s(!0);const n=await this.$store.dispatch("tags/rename",{id:e,name:t});s(!!n),this.$showMessage({title:this.$locale.baseText("tagsManager.showMessage.onUpdate.title"),type:"success"})}catch(o){const e=escape(a);this.$showError(o,this.$locale.baseText("tagsManager.showError.onUpdate.title"),this.$locale.baseText("tagsManager.showError.onUpdate.message",{interpolate:{escapedName:e}})+":"),s(!1,o)}},async onDelete(e,t){const s=this.$store.getters["tags/getTagById"](e),n=s.name;try{const s=await this.$store.dispatch("tags/delete",e);if(!s)throw new Error(this.$locale.baseText("tagsManager.couldNotDeleteTag"));this.$data.tagIds=this.$data.tagIds.filter(t=>t!==e),t(s),this.$showMessage({title:this.$locale.baseText("tagsManager.showMessage.onDelete.title"),type:"success"})}catch(a){const e=escape(n);this.$showError(a,this.$locale.baseText("tagsManager.showError.onDelete.title"),this.$locale.baseText("tagsManager.showError.onDelete.message",{interpolate:{escapedName:e}})+":"),t(!1,a)}},onEnter(){this.isLoading||(this.hasTags?this.modalBus.$emit("close"):this.onEnableCreate())}}}),eo=Za,to=Object(v["a"])(eo,$a,_a,!1,null,null,null),so=to.exports,no=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ModalDrawer",{attrs:{name:e.VERSIONS_MODAL_KEY,direction:"ltr",width:"520px"}},[s("template",{slot:"header"},[s("span",{class:e.$style.title},[e._v(" "+e._s(e.$locale.baseText("updatesPanel.weVeBeenBusy"))+" ")])]),s("template",{slot:"content"},[s("section",{class:e.$style["description"]},[e.currentVersion?s("p",[e._v(" "+e._s(e.$locale.baseText("updatesPanel.youReOnVersion",{interpolate:{currentVersionName:e.currentVersion.name}}))+" "),s("strong",[s("TimeAgo",{attrs:{date:e.currentVersion.createdAt}})],1),e._v(e._s(e.$locale.baseText("updatesPanel.andIs"))+" "),s("strong",[e._v(e._s(e.$locale.baseText("updatesPanel.version",{interpolate:{numberOfVersions:e.nextVersions.length,howManySuffix:e.nextVersions.length>1?"s":""}})))]),e._v(" "+e._s(e.$locale.baseText("updatesPanel.behindTheLatest"))+" ")]):e._e(),e.infoUrl?s("n8n-link",{attrs:{to:e.infoUrl,bold:!0}},[s("font-awesome-icon",{attrs:{icon:"info-circle"}}),s("span",[e._v(" "+e._s(e.$locale.baseText("updatesPanel.howToUpdateYourN8nVersion"))+" ")])],1):e._e()],1),s("section",{class:e.$style.versions},e._l(e.nextVersions,(function(t){return s("div",{key:t.name,class:e.$style["versions-card"]},[s("VersionCard",{attrs:{version:t}})],1)})),0)])],2)},ao=[],oo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-drawer",{attrs:{direction:e.direction,visible:e.visible,size:e.width,"before-close":e.close,modal:e.modal,wrapperClosable:e.wrapperClosable},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("header")]},proxy:!0}],null,!0)},[[s("span",{on:{keydown:function(e){e.stopPropagation()}}},[e._t("content")],2)]],2)},io=[],ro=n["default"].extend({name:"ModalDrawer",props:{name:{type:String},beforeClose:{type:Function},eventBus:{type:n["default"]},direction:{type:String},modal:{type:Boolean,default:!0},width:{type:String},wrapperClosable:{type:Boolean,default:!0}},mounted(){window.addEventListener("keydown",this.onWindowKeydown),this.$props.eventBus&&this.$props.eventBus.$on("close",()=>{this.close()});const e=document.activeElement;e&&e.blur()},beforeDestroy(){window.removeEventListener("keydown",this.onWindowKeydown)},methods:{onWindowKeydown(e){this.isActive&&e&&13===e.keyCode&&this.handleEnter()},handleEnter(){this.isActive&&this.$emit("enter")},async close(){if(this.beforeClose){const e=await this.beforeClose();if(!1===e)return}this.$store.commit("ui/closeModal",this.$props.name)}},computed:{isActive(){return this.$store.getters["ui/isModalActive"](this.$props.name)},visible(){return this.$store.getters["ui/isModalOpen"](this.$props.name)}}}),lo=ro,co=(s("b70e"),Object(v["a"])(lo,oo,io,!1,null,null,null)),uo=co.exports,po=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.version?s("a",{class:e.$style.card,attrs:{set:e.version=e.version,href:e.version.documentationUrl,target:"_blank"}},[s("div",{class:e.$style.header},[s("div",[s("div",{class:e.$style.name},[e._v(" "+e._s(e.$locale.baseText("versionCard.version")+" "+e.version.name)+" ")]),e.version.hasSecurityIssue?s("WarningTooltip",[[s("span",{domProps:{innerHTML:e._s(e.$locale.baseText("versionCard.thisVersionHasASecurityIssue"))}})]],2):e._e(),e.version.hasSecurityFix?s("Badge",{attrs:{text:e.$locale.baseText("versionCard.securityUpdate"),type:"danger"}}):e._e(),e.version.hasBreakingChange?s("Badge",{attrs:{text:e.$locale.baseText("versionCard.breakingChanges"),type:"warning"}}):e._e()],1),s("div",{class:e.$style["release-date"]},[e._v(" "+e._s(e.$locale.baseText("versionCard.released"))+""),s("TimeAgo",{attrs:{date:e.version.createdAt}})],1)]),e.version.description||e.version.nodes&&e.version.nodes.length?s("div",{class:e.$style.divider}):e._e(),s("div",[e.version.description?s("div",{class:e.$style.description,domProps:{innerHTML:e._s(e.version.description)}}):e._e(),e.version.nodes&&e.version.nodes.length>0?s("div",{class:e.$style.nodes},e._l(e.version.nodes,(function(t){return s("NodeIcon",{key:t.name,attrs:{nodeType:t,title:e.$options.nodeName(t)}})})),1):e._e()])]):e._e()},ho=[],mo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-node-icon",{attrs:{type:e.type,src:e.iconSource.path||e.iconSource.fileBuffer,name:e.iconSource.icon,color:e.color,disabled:e.disabled,size:e.size,circle:e.circle,nodeTypeName:e.nodeType?e.nodeType.displayName:"",showTooltip:e.showTooltip},on:{click:function(t){return e.$emit("click")}}})},go=[],fo=n["default"].extend({name:"NodeIcon",props:{nodeType:{},size:{type:Number,required:!1},disabled:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1}},computed:{type(){const e=this.nodeType;let t="unknown";return e&&(e.iconData?t=e.iconData.type:e.icon&&(t="file"===e.icon.split(":")[0]?"file":"icon")),t},color(){const e=this.nodeType;return e&&e.defaults&&e.defaults.color?e.defaults.color.toString():""},iconSource(){const e=this.nodeType,t=this.$store.getters.getRestUrl,s={};if(e){if(e.iconData)return{icon:e.iconData.icon,fileBuffer:e.iconData.fileBuffer};if(e.icon){let n,a;[n,a]=e.icon.split(":"),"file"===n?s.path=`${t}/node-icon/${e.name}`:s.icon=a}}return s}}}),wo=fo,yo=Object(v["a"])(wo,mo,go,!1,null,null,null),bo=yo.exports,vo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment",["danger"===e.type?s("el-tag",{class:e.$style["danger"],attrs:{type:"danger",size:"small"}},[e._v(" "+e._s(e.text)+" ")]):"warning"===e.type?s("el-tag",{class:e.$style["warning"],attrs:{size:"small"}},[e._v(" "+e._s(e.text)+" ")]):e._e()],1)},xo=[],ko={props:["text","type"]},To=ko,$o=s("3af8");function _o(e){this["$style"]=$o["default"].locals||$o["default"]}var Co=Object(v["a"])(To,vo,xo,!1,_o,null,null),No=Co.exports,Eo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-tooltip",{attrs:{content:" ",placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._t("default")],2),s("font-awesome-icon",{class:e.$style["icon"],attrs:{icon:"exclamation-triangle"}})],1)},So=[],Do=s("b5af"),Io={};function Oo(e){this["$style"]=Do["default"].locals||Do["default"]}var Po=Object(v["a"])(Io,Eo,So,!1,Oo,null,null),Ao=Po.exports;n["default"].component("NodeIcon",bo),n["default"].component("TimeAgo",hs),n["default"].component("Badge",No),n["default"].component("WarningTooltip",Ao);var Mo=n["default"].extend({components:{NodeIcon:bo,TimeAgo:hs,Badge:No,WarningTooltip:Ao},name:"VersionCard",props:["version"],nodeName(e){return null!==e?e.displayName:this.$locale.baseText("versionCard.unknown")}}),Lo=Mo,Ro=s("f704");function Wo(e){this["$style"]=Ro["default"].locals||Ro["default"]}var Bo=Object(v["a"])(Lo,po,ho,!1,Wo,null,null),Vo=Bo.exports,Uo=n["default"].extend({name:"UpdatesPanel",components:{ModalDrawer:uo,VersionCard:Vo,TimeAgo:hs},computed:{...Object(D["b"])("versions",["nextVersions","currentVersion","infoUrl"])},data(){return{VERSIONS_MODAL_KEY:N["td"]}}}),jo=Uo,Fo=s("60bb");function zo(e){this["$style"]=Fo["default"].locals||Fo["default"]}var Ho=Object(v["a"])(jo,no,ao,!1,zo,null,null),Go=Ho.exports,Ko=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ModalDrawer",{staticClass:"value-survey",attrs:{name:e.VALUE_SURVEY_MODAL_KEY,eventBus:e.modalBus,beforeClose:e.closeDialog,modal:!1,wrapperClosable:!1,direction:"btt",width:"120px"}},[s("template",{slot:"header"},[s("div",{class:e.$style.title},[s("n8n-heading",{attrs:{tag:"h2",size:"medium",color:"text-xlight"}},[e._v(e._s(e.getTitle))])],1)]),s("template",{slot:"content"},[s("section",{class:e.$style.content},[e.showButtons?s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.buttons},e._l(11,(function(t){return s("div",{key:t-1,class:e.$style.container},[s("n8n-button",{attrs:{type:"tertiary",label:(t-1).toString(),square:""},on:{click:function(s){e.selectSurveyValue((t-1).toString())}}})],1)})),0),s("div",{class:e.$style.text},[s("n8n-text",{attrs:{size:"small",color:"text-xlight"}},[e._v("Not likely")]),s("n8n-text",{attrs:{size:"small",color:"text-xlight"}},[e._v("Very likely")])],1)]):s("div",{class:e.$style.email},[s("div",{class:e.$style.input,on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)}}},[s("n8n-input",{attrs:{placeholder:"Your email address",size:"medium"},on:{input:e.onInputChange},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("div",{class:e.$style.button},[s("n8n-button",{attrs:{label:"Send",float:"right",disabled:!e.isEmailValid},on:{click:e.send}})],1)],1),s("div",{class:e.$style.disclaimer},[s("n8n-text",{attrs:{size:"small",color:"text-xlight"}},[e._v(" David from our product team will get in touch personally ")])],1)])])])],2)},Yo=[];const qo="How likely are you to recommend n8n to a friend or colleague?",Jo="Great to hear! Can we reach out to see how we can make n8n even better for you?",Xo="Thanks for your feedback! We'd love to understand how we can improve. Can we reach out?";var Qo=Object(K["a"])(we["a"]).extend({name:"ValueSurvey",props:["isActive"],components:{ModalDrawer:uo},watch:{isActive(e){e&&this.$telemetry.track("User shown value survey",{instance_id:this.$store.getters.instanceId})}},computed:{getTitle(){return""!==this.form.value?Number(this.form.value)>7?Jo:Xo:qo},isEmailValid(){return N["rd"].test(String(this.form.email).toLowerCase())}},data(){return{form:{email:"",value:""},showButtons:!0,VALUE_SURVEY_MODAL_KEY:N["sd"],modalBus:new n["default"]}},methods:{closeDialog(){""===this.form.value&&this.$telemetry.track("User responded value survey score",{instance_id:this.$store.getters.instanceId,nps:""}),""!==this.form.value&&""===this.form.email&&this.$telemetry.track("User responded value survey email",{instance_id:this.$store.getters.instanceId,email:""})},onInputChange(e){this.form.email=e},async selectSurveyValue(e){this.form.value=e,this.showButtons=!1;const t=await this.$store.dispatch("settings/submitValueSurvey",{value:this.form.value});t.updated&&this.$telemetry.track("User responded value survey score",{instance_id:this.$store.getters.instanceId,nps:this.form.value})},async send(){if(this.isEmailValid){const e=await this.$store.dispatch("settings/submitValueSurvey",{email:this.form.email,value:this.form.value});e.updated&&(this.$telemetry.track("User responded value survey email",{instance_id:this.$store.getters.instanceId,email:this.form.email}),this.$showMessage({title:"Thanks for your feedback",message:'If youd like to help even more, leave us a <a target="_blank" href="https://www.g2.com/products/n8n/reviews/start">review on G2</a>.',type:"success",duration:15e3})),setTimeout(()=>{this.form.value="",this.form.email="",this.showButtons=!0},1e3),this.modalBus.$emit("close")}}}}),Zo=Qo,ei=s("73ab");s("468c");function ti(e){this["$style"]=ei["default"].locals||ei["default"]}var si=Object(v["a"])(Zo,Ko,Yo,!1,ti,null,null),ni=si.exports,ai=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.WORKFLOW_SETTINGS_MODAL_KEY,width:"65%",maxHeight:"80%",title:e.$locale.baseText("workflowSettings.settingsFor",{interpolate:{workflowName:e.workflowName,workflowId:e.workflowId}}),eventBus:e.modalBus,scrollable:!0},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"workflow-settings"},[s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.errorWorkflow")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.helpTexts.errorWorkflow)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Workflow",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.errorWorkflow,callback:function(t){e.$set(e.workflowSettings,"errorWorkflow",t)},expression:"workflowSettings.errorWorkflow"}},e._l(e.workflows,(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.timezone")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.timezone)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:"Select Timezone",size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.timezone,callback:function(t){e.$set(e.workflowSettings,"timezone",t)},expression:"workflowSettings.timezone"}},e._l(e.timezones,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.saveDataErrorExecution")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.saveDataErrorExecution)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:e.$locale.baseText("workflowSettings.selectOption"),size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveDataErrorExecution,callback:function(t){e.$set(e.workflowSettings,"saveDataErrorExecution",t)},expression:"workflowSettings.saveDataErrorExecution"}},e._l(e.saveDataErrorExecutionOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.saveDataSuccessExecution")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.saveDataSuccessExecution)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:e.$locale.baseText("workflowSettings.selectOption"),size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveDataSuccessExecution,callback:function(t){e.$set(e.workflowSettings,"saveDataSuccessExecution",t)},expression:"workflowSettings.saveDataSuccessExecution"}},e._l(e.saveDataSuccessExecutionOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.saveManualExecutions")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.saveManualExecutions)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:e.$locale.baseText("workflowSettings.selectOption"),size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveManualExecutions,callback:function(t){e.$set(e.workflowSettings,"saveManualExecutions",t)},expression:"workflowSettings.saveManualExecutions"}},e._l(e.saveManualOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.saveExecutionProgress")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.saveExecutionProgress)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{staticClass:"ignore-key-press",attrs:{span:14}},[s("n8n-select",{attrs:{placeholder:e.$locale.baseText("workflowSettings.selectOption"),size:"medium",filterable:"","limit-popper-width":!0},model:{value:e.workflowSettings.saveExecutionProgress,callback:function(t){e.$set(e.workflowSettings,"saveExecutionProgress",t)},expression:"workflowSettings.saveExecutionProgress"}},e._l(e.saveExecutionProgressOptions,(function(e){return s("n8n-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.timeoutWorkflow")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.executionTimeoutToggle)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{attrs:{span:14}},[s("div",[s("el-switch",{ref:"inputField",attrs:{value:e.workflowSettings.executionTimeout>-1,"active-color":"#13ce66"},on:{change:e.toggleTimeout}})],1)])],1),e.workflowSettings.executionTimeout>-1?s("div",[s("el-row",[s("el-col",{staticClass:"setting-name",attrs:{span:10}},[e._v(" "+e._s(e.$locale.baseText("workflowSettings.timeoutAfter")+":")+" "),s("n8n-tooltip",{staticClass:"setting-info",attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.helpTexts.executionTimeout)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"question-circle"}})],1)],1),s("el-col",{attrs:{span:4}},[s("n8n-input",{attrs:{size:"medium",value:e.timeoutHMS.hours,min:0},on:{input:function(t){return e.setTimeout("hours",t)}}},[s("template",{slot:"append"},[e._v(e._s(e.$locale.baseText("workflowSettings.hours")))])],2)],1),s("el-col",{staticClass:"timeout-input",attrs:{span:4}},[s("n8n-input",{attrs:{size:"medium",value:e.timeoutHMS.minutes,min:0,max:60},on:{input:function(t){return e.setTimeout("minutes",t)}}},[s("template",{slot:"append"},[e._v(e._s(e.$locale.baseText("workflowSettings.minutes")))])],2)],1),s("el-col",{staticClass:"timeout-input",attrs:{span:4}},[s("n8n-input",{attrs:{size:"medium",value:e.timeoutHMS.seconds,min:0,max:60},on:{input:function(t){return e.setTimeout("seconds",t)}}},[s("template",{slot:"append"},[e._v(e._s(e.$locale.baseText("workflowSettings.seconds")))])],2)],1)],1)],1):e._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticClass:"action-buttons"},[s("n8n-button",{attrs:{label:e.$locale.baseText("workflowSettings.save"),size:"large",float:"right"},on:{click:e.saveSettings}})],1)]},proxy:!0}])})},oi=[],ii=Object(K["a"])(ln["a"],cn["a"],Dt["a"],Y["a"]).extend({name:"WorkflowSettings",components:{Modal:W},data(){return{isLoading:!0,helpTexts:{errorWorkflow:this.$locale.baseText("workflowSettings.helpTexts.errorWorkflow"),timezone:this.$locale.baseText("workflowSettings.helpTexts.timezone"),saveDataErrorExecution:this.$locale.baseText("workflowSettings.helpTexts.saveDataErrorExecution"),saveDataSuccessExecution:this.$locale.baseText("workflowSettings.helpTexts.saveDataSuccessExecution"),saveExecutionProgress:this.$locale.baseText("workflowSettings.helpTexts.saveExecutionProgress"),saveManualExecutions:this.$locale.baseText("workflowSettings.helpTexts.saveManualExecutions"),executionTimeoutToggle:this.$locale.baseText("workflowSettings.helpTexts.executionTimeoutToggle"),executionTimeout:this.$locale.baseText("workflowSettings.helpTexts.executionTimeout")},defaultValues:{timezone:"America/New_York",saveDataErrorExecution:"all",saveDataSuccessExecution:"all",saveExecutionProgress:!1,saveManualExecutions:!1},saveDataErrorExecutionOptions:[],saveDataSuccessExecutionOptions:[],saveExecutionProgressOptions:[],saveManualOptions:[],timezones:[],workflowSettings:{},workflows:[],executionTimeout:this.$store.getters.executionTimeout,maxExecutionTimeout:this.$store.getters.maxExecutionTimeout,timeoutHMS:{hours:0,minutes:0,seconds:0},modalBus:new n["default"],WORKFLOW_SETTINGS_MODAL_KEY:N["Bd"]}},computed:{...Object(D["b"])(["workflowName","workflowId"])},async mounted(){if(void 0===this.$route.params.name)return this.$showMessage({title:"No workflow active",message:"No workflow active to display settings of.",type:"error",duration:0}),void this.closeDialog();this.defaultValues.saveDataErrorExecution=this.$store.getters.saveDataErrorExecution,this.defaultValues.saveDataSuccessExecution=this.$store.getters.saveDataSuccessExecution,this.defaultValues.saveManualExecutions=this.$store.getters.saveManualExecutions,this.defaultValues.timezone=this.$store.getters.timezone,this.isLoading=!0;const e=[];e.push(this.loadWorkflows()),e.push(this.loadSaveDataErrorExecutionOptions()),e.push(this.loadSaveDataSuccessExecutionOptions()),e.push(this.loadSaveExecutionProgressOptions()),e.push(this.loadSaveManualOptions()),e.push(this.loadTimezones());try{await Promise.all(e)}catch(s){this.$showError(s,"Problem loading settings","The following error occurred loading the data:")}const t=JSON.parse(JSON.stringify(this.$store.getters.workflowSettings));void 0===t.timezone&&(t.timezone="DEFAULT"),void 0===t.saveDataErrorExecution&&(t.saveDataErrorExecution="DEFAULT"),void 0===t.saveDataSuccessExecution&&(t.saveDataSuccessExecution="DEFAULT"),void 0===t.saveExecutionProgress&&(t.saveExecutionProgress="DEFAULT"),void 0===t.saveManualExecutions&&(t.saveManualExecutions="DEFAULT"),void 0===t.executionTimeout&&(t.executionTimeout=this.$store.getters.executionTimeout),void 0===t.maxExecutionTimeout&&(t.maxExecutionTimeout=this.$store.getters.maxExecutionTimeout),n["default"].set(this,"workflowSettings",t),this.timeoutHMS=this.convertToHMS(t.executionTimeout),this.isLoading=!1,this.$externalHooks().run("workflowSettings.dialogVisibleChanged",{dialogVisible:!0}),this.$telemetry.track("User opened workflow settings",{workflow_id:this.$store.getters.workflowId})},methods:{closeDialog(){this.modalBus.$emit("close"),this.$externalHooks().run("workflowSettings.dialogVisibleChanged",{dialogVisible:!1})},setTimeout(e,t){const s=t?parseInt(t,10):0;this.timeoutHMS={...this.timeoutHMS,[e]:s}},async loadSaveDataErrorExecutionOptions(){this.saveDataErrorExecutionOptions.length=0,this.saveDataErrorExecutionOptions.push.apply(this.saveDataErrorExecutionOptions,[{key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.defaultSave",{interpolate:{defaultValue:"all"===this.defaultValues.saveDataErrorExecution?this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.save"):this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.doNotSave")}})},{key:"all",value:this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.save")},{key:"none",value:this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.doNotSave")}])},async loadSaveDataSuccessExecutionOptions(){this.saveDataSuccessExecutionOptions.length=0,this.saveDataSuccessExecutionOptions.push.apply(this.saveDataSuccessExecutionOptions,[{key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.defaultSave",{interpolate:{defaultValue:"all"===this.defaultValues.saveDataSuccessExecution?this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.save"):this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.doNotSave")}})},{key:"all",value:this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.save")},{key:"none",value:this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.doNotSave")}])},async loadSaveExecutionProgressOptions(){this.saveExecutionProgressOptions.length=0,this.saveExecutionProgressOptions.push.apply(this.saveExecutionProgressOptions,[{key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.defaultSave",{interpolate:{defaultValue:this.defaultValues.saveExecutionProgress?this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.yes"):this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.no")}})},{key:!0,value:this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.yes")},{key:!1,value:this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.no")}])},async loadSaveManualOptions(){this.saveManualOptions.length=0,this.saveManualOptions.push({key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveManualOptions.defaultSave",{interpolate:{defaultValue:this.defaultValues.saveManualExecutions?this.$locale.baseText("workflowSettings.saveManualOptions.yes"):this.$locale.baseText("workflowSettings.saveManualOptions.no")}})}),this.saveManualOptions.push({key:!0,value:this.$locale.baseText("workflowSettings.saveManualOptions.yes")}),this.saveManualOptions.push({key:!1,value:this.$locale.baseText("workflowSettings.saveManualOptions.no")})},async loadTimezones(){if(0!==this.timezones.length)return;const e=await this.restApi().getTimezones();let t=e[this.defaultValues.timezone];void 0===t&&(t=this.$locale.baseText("workflowSettings.defaultTimezoneNotValid")),this.timezones.push({key:"DEFAULT",value:this.$locale.baseText("workflowSettings.defaultTimezone",{interpolate:{defaultTimezoneValue:t}})});for(const s of Object.keys(e))this.timezones.push({key:s,value:e[s]})},async loadWorkflows(){const e=await this.restApi().getWorkflows();e.sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0),e.unshift({id:void 0,name:this.$locale.baseText("workflowSettings.noWorkflow")}),n["default"].set(this,"workflows",e)},async saveSettings(){const e={settings:this.workflowSettings},{hours:t,minutes:s,seconds:n}=this.timeoutHMS;if(e.settings.executionTimeout=-1!==e.settings.executionTimeout?3600*t+60*s+n:-1,0===e.settings.executionTimeout)return void this.$showError(new Error(this.$locale.baseText("workflowSettings.showError.saveSettings1.errorMessage")),this.$locale.baseText("workflowSettings.showError.saveSettings1.title"),this.$locale.baseText("workflowSettings.showError.saveSettings1.message")+":");if(e.settings.executionTimeout>this.workflowSettings.maxExecutionTimeout){const{hours:e,minutes:t,seconds:s}=this.convertToHMS(this.workflowSettings.maxExecutionTimeout);return void this.$showError(new Error(this.$locale.baseText("workflowSettings.showError.saveSettings2.errorMessage",{interpolate:{hours:e.toString(),minutes:t.toString(),seconds:s.toString()}})),this.$locale.baseText("workflowSettings.showError.saveSettings2.title"),this.$locale.baseText("workflowSettings.showError.saveSettings2.message")+":")}delete e.settings.maxExecutionTimeout,this.isLoading=!0;try{await this.restApi().updateWorkflow(this.$route.params.name,e)}catch(i){return this.$showError(i,this.$locale.baseText("workflowSettings.showError.saveSettings3.title")),void(this.isLoading=!1)}const a={};for(const r of Object.keys(this.workflowSettings))"DEFAULT"!==this.workflowSettings[r]&&(a[r]=this.workflowSettings[r]);const o=JSON.parse(JSON.stringify(this.$store.getters.workflowSettings));this.$store.commit("setWorkflowSettings",a),this.isLoading=!1,this.$showMessage({title:this.$locale.baseText("workflowSettings.showMessage.saveSettings.title"),type:"success"}),this.closeDialog(),this.$externalHooks().run("workflowSettings.saveSettings",{oldSettings:o}),this.$telemetry.track("User updated workflow settings",{workflow_id:this.$store.getters.workflowId})},toggleTimeout(){this.workflowSettings.executionTimeout=-1===this.workflowSettings.executionTimeout?0:-1},convertToHMS(e){if(e>0){let t;const s=Math.floor(e/3600);t=e%3600;const n=Math.floor(t/60),a=t%60;return{hours:s,minutes:n,seconds:a}}return{hours:0,minutes:0,seconds:0}}}}),ri=ii,li=(s("f367"),Object(v["a"])(ri,ai,oi,!1,null,"13775b48",null)),ci=li.exports,di=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.WORKFLOW_OPEN_MODAL_KEY,width:"80%",minWidth:"620px",classic:!0},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"workflows-header"},[s("n8n-heading",{staticClass:"title",attrs:{tag:"h1",size:"xlarge"}},[e._v(" "+e._s(e.$locale.baseText("workflowOpen.openWorkflow"))+" ")]),e.areTagsEnabled?s("div",{staticClass:"tags-filter"},[s("TagsDropdown",{attrs:{placeholder:e.$locale.baseText("workflowOpen.filterWorkflows"),currentTagIds:e.filterTagIds,createEnabled:!1},on:{update:e.updateTagsFilter,esc:e.onTagsFilterEsc,blur:e.onTagsFilterBlur}})],1):e._e(),s("div",{staticClass:"search-filter"},[s("n8n-input",{ref:"inputFieldFilter",attrs:{placeholder:e.$locale.baseText("workflowOpen.searchWorkflows")},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1)],1)],1)]},proxy:!0},{key:"content",fn:function(){return[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isDataLoading,expression:"isDataLoading"}],staticClass:"search-table",attrs:{data:e.filteredWorkflows,stripe:"","default-sort":{prop:"updatedAt",order:"descending"}},on:{"cell-click":e.openWorkflow}},[s("el-table-column",{attrs:{property:"name",label:e.$locale.baseText("workflowOpen.name"),"class-name":"clickable",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{key:t.row.id,staticClass:"ph-no-capture"},[s("span",{staticClass:"name"},[e._v(e._s(t.row.name))]),e.areTagsEnabled?s("TagsContainer",{staticClass:"hidden-sm-and-down",attrs:{tagIds:e.getIds(t.row.tags),limit:3,clickable:!0,hoverable:!0},on:{click:e.onTagClick}}):e._e()],1)]}}])}),s("el-table-column",{attrs:{property:"createdAt",label:e.$locale.baseText("workflowOpen.created"),"class-name":"clickable",width:"155",sortable:""}}),s("el-table-column",{attrs:{property:"updatedAt",label:e.$locale.baseText("workflowOpen.updated"),"class-name":"clickable",width:"155",sortable:""}}),s("el-table-column",{attrs:{label:e.$locale.baseText("workflowOpen.active"),width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("workflow-activator",{attrs:{"workflow-active":t.row.active,"workflow-id":t.row.id},on:{workflowActiveChanged:e.workflowActiveChanged}})]}}])})],1)]},proxy:!0}])})},ui=[],pi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("IntersectionObserver",{staticClass:"tags-container",attrs:{threshold:1,enabled:e.responsive},on:{observed:e.onObserved}},[[s("span",{staticClass:"tags"},e._l(e.tags,(function(t){return s("span",{key:t.id,class:{clickable:!t.hidden},on:{click:function(s){return e.onClick(s,t)}}},[t.isCount?s("el-tag",{staticClass:"count-container",attrs:{title:t.title,type:"info",size:"small"}},[e._v(" "+e._s(t.name)+" ")]):s("IntersectionObserved",{class:{hidden:t.hidden},attrs:{"data-id":t.id,enabled:e.responsive}},[s("el-tag",{class:{hoverable:e.hoverable},attrs:{title:t.name,type:"info",size:"small"}},[e._v(" "+e._s(t.name)+" ")])],1)],1)})),0)]],2)},hi=[],mi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"root"},[e._t("default")],2)},gi=[],fi=n["default"].extend({name:"IntersectionObserver",props:["threshold","enabled"],data(){return{observer:null}},mounted(){if(!this.$props.enabled)return;const e={root:this.$refs.root,rootMargin:"0px",threshold:this.$props.threshold},t=new IntersectionObserver(e=>{e.forEach(({target:e,isIntersecting:t})=>{this.$emit("observed",{el:e,isIntersecting:t})})},e);this.$data.observer=t,this.$on("observe",e=>{t.observe(e)}),this.$on("unobserve",e=>{t.unobserve(e)})},beforeDestroy(){this.$props.enabled&&this.$data.observer.disconnect()}}),wi=fi,yi=Object(v["a"])(wi,mi,gi,!1,null,null,null),bi=yi.exports,vi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{ref:"observed"},[e._t("default")],2)},xi=[];function ki(e,t,s){this.$children.forEach(n=>{const a=n.$options.name;a===e?n.$emit.apply(n,[t].concat(s)):ki.apply(n,[e,t].concat([s]))})}var Ti=n["default"].extend({methods:{$dispatch(e,t,s){let n=this.$parent||this.$root,a=n.$options.name;while(n&&(!a||a!==e))n=n.$parent,n&&(a=n.$options.name);n&&n.$emit.apply(n,[t].concat(s))},$broadcast(e,t,s){ki.call(this,e,t,s)}}}),$i=Object(K["a"])(Ti).extend({name:"IntersectionObserved",props:["enabled"],mounted(){this.$props.enabled&&this.$nextTick(()=>{this.$dispatch("IntersectionObserver","observe",this.$refs.observed)})},beforeDestroy(){this.$props.enabled&&this.$dispatch("IntersectionObserver","unobserve",this.$refs.observed)}}),_i=$i,Ci=Object(v["a"])(_i,vi,xi,!1,null,null,null),Ni=Ci.exports;const Ei=20;var Si=n["default"].extend({components:{IntersectionObserver:bi,IntersectionObserved:Ni},name:"TagsContainer",props:["tagIds","limit","clickable","responsive","hoverable"],data(){return{visibility:{}}},computed:{tags(){const e=this.$props.tagIds.map(e=>this.$store.getters["tags/getTagById"](e)).filter(Boolean),t=this.$props.limit||Ei;let s=t?e.slice(0,t):e;s=s.map(e=>({...e,hidden:this.$props.responsive&&!this.$data.visibility[e.id]}));let n=s.length;if(this.$props.responsive&&(n=Object.values(this.visibility).reduce((e,t)=>t?e+1:e,0)),n<e.length){const t=e.slice(n),a=t.reduce((e,t)=>e?`${e}, ${t.name}`:t.name,""),o={id:"count",name:"+"+t.length,title:a,isCount:!0};s.splice(n,0,o)}return s}},methods:{onObserved({el:e,isIntersecting:t}){e.dataset.id&&n["default"].set(this.$data.visibility,e.dataset.id,t)},onClick(e,t){this.clickable&&e.stopPropagation(),t.hidden||this.$emit("click",t.id)}}}),Di=Si,Ii=(s("3bf7"),Object(v["a"])(Di,pi,hi,!1,null,"759c30a8",null)),Oi=Ii.exports,Pi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"workflow-activator"},[s("n8n-tooltip",{attrs:{disabled:!e.disabled,placement:"bottom"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$locale.baseText("workflowActivator.thisWorkflowHasNoTriggerNodes")))]),s("el-switch",{directives:[{name:"loading",rawName:"v-loading",value:e.updatingWorkflowActivation,expression:"updatingWorkflowActivation"}],attrs:{value:e.workflowActive,title:e.workflowActive?e.$locale.baseText("workflowActivator.deactivateWorkflow"):e.$locale.baseText("workflowActivator.activateWorkflow"),disabled:e.disabled||e.updatingWorkflowActivation,"active-color":e.getActiveColor,"inactive-color":"#8899AA","element-loading-spinner":"el-icon-loading"},on:{change:e.activeChanged}})],1),e.couldNotBeStarted?s("div",{staticClass:"could-not-be-started"},[s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$locale.baseText("workflowActivator.theWorkflowIsSetToBeActiveBut"))},on:{click:e.displayActivationError},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"},on:{click:e.displayActivationError}})],1)],1):e._e()],1)},Ai=[];const Mi=Object(K["a"])(ln["a"],we["a"],Y["a"]).extend({data(){return{updatingWorkflowActivation:!1}},methods:{async activateCurrentWorkflow(e){const t=this.$store.getters.workflowId;return this.updateWorkflowActivation(t,!0,e)},async updateWorkflowActivation(e,t,s){this.updatingWorkflowActivation=!0;const n=this.$store.getters.nodesIssuesExist;let a=e;if(!a||a===N["Fc"]){const e=await this.saveCurrentWorkflow();if(!e)return void(this.updatingWorkflowActivation=!1);a=this.$store.getters.workflowId}const o=a===this.$store.getters["workflowId"],i=this.$store.getters.getActiveWorkflows,r=i.includes(a),l={workflow_id:a,is_active:t,previous_status:r,ndv_input:"ndv"===s};this.$telemetry.track("User set workflow active status",l),this.$externalHooks().run("workflowActivate.updateWorkflowActivation",l);try{if(r&&t)return this.$showMessage({title:this.$locale.baseText("workflowActivator.workflowIsActive"),type:"success"}),void(this.updatingWorkflowActivation=!1);if(o&&n)return this.$showMessage({title:this.$locale.baseText("workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.title"),message:this.$locale.baseText("workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.message"),type:"error"}),void(this.updatingWorkflowActivation=!1);await this.updateWorkflow({workflowId:a,active:t})}catch(d){const e=!0===t?"activated":"deactivated";return this.$showError(d,this.$locale.baseText("workflowActivator.showError.title",{interpolate:{newStateName:e}})+":"),void(this.updatingWorkflowActivation=!1)}const c=o?"workflow.activeChangeCurrent":"workflow.activeChange";this.$externalHooks().run(c,{workflowId:a,active:t}),this.$emit("workflowActiveChanged",{id:a,active:t}),this.updatingWorkflowActivation=!1,o&&(t&&"true"!==window.localStorage.getItem(N["Fb"])?this.$store.dispatch("ui/openModal",N["zd"]):this.$store.dispatch("settings/fetchPromptsData"))}}});var Li=Object(K["a"])(Y["a"],Mi).extend({name:"WorkflowActivator",props:["workflowActive","workflowId"],computed:{...Object(D["b"])({dirtyState:"getStateIsDirty"}),nodesIssuesExist(){return this.$store.getters.nodesIssuesExist},isWorkflowActive(){const e=this.$store.getters.getActiveWorkflows;return e.includes(this.workflowId)},couldNotBeStarted(){return!0===this.workflowActive&&this.isWorkflowActive!==this.workflowActive},getActiveColor(){return!0===this.couldNotBeStarted?"#ff4949":"#13ce66"},isCurrentWorkflow(){return this.$store.getters["workflowId"]===this.workflowId},disabled(){const e=!this.workflowId;return!(!e&&!this.isCurrentWorkflow)&&(!this.workflowActive&&!this.containsTrigger)},containsTrigger(){const e=Object(We["e"])(this.$store.getters.workflowTriggerNodes);return e.length>0}},methods:{async activeChanged(e){return this.updateWorkflowActivation(this.workflowId,e)},async displayActivationError(){let e;try{const t=await this.restApi().getActivationError(this.workflowId);e=void 0===t?this.$locale.baseText("workflowActivator.showMessage.displayActivationError.message.errorDataUndefined"):this.$locale.baseText("workflowActivator.showMessage.displayActivationError.message.errorDataNotUndefined",{interpolate:{message:t.error.message}})}catch(t){e=this.$locale.baseText("workflowActivator.showMessage.displayActivationError.message.catchBlock")}this.$showMessage({title:this.$locale.baseText("workflowActivator.showMessage.displayActivationError.title"),message:e,type:"warning",duration:0})}}}),Ri=Li,Wi=(s("65b9"),Object(v["a"])(Ri,Pi,Ai,!1,null,"fe8f04ac",null)),Bi=Wi.exports,Vi=Object(K["a"])(cn["a"],Dt["a"],Y["a"],we["a"]).extend({name:"WorkflowOpen",components:{WorkflowActivator:Bi,TagsContainer:Oi,TagsDropdown:Yn,Modal:W},props:["modalName"],data(){return{filterText:"",isDataLoading:!1,workflows:[],filterTagIds:[],prevFilterTagIds:[],WORKFLOW_OPEN_MODAL_KEY:N["Ad"]}},computed:{...Object(D["b"])("settings",["areTagsEnabled"]),filteredWorkflows(){return this.workflows.filter(e=>!(this.filterText&&!e.name.toLowerCase().includes(this.filterText.toLowerCase()))&&(0===this.filterTagIds.length||!(!e.tags||0===e.tags.length)&&this.filterTagIds.reduce((t,s)=>t&&!!e.tags.find(e=>e.id===s),!0)))}},async mounted(){this.filterText="",this.filterTagIds=[],this.isDataLoading=!0,await this.loadActiveWorkflows(),await this.loadWorkflows(),this.isDataLoading=!1,n["default"].nextTick(()=>{this.$refs.inputFieldFilter.focus()})},methods:{getIds(e){return(e||[]).map(e=>e.id)},updateTagsFilter(e){this.filterTagIds=e},onTagClick(e){"count"===e||this.filterTagIds.includes(e)||this.filterTagIds.push(e)},async openWorkflow(e,t,s,n){if("Active"!==t.label){const t=this.$store.getters.workflowId;if(n.metaKey||n.ctrlKey){const t=this.$router.resolve({name:N["ud"].WORKFLOW,params:{name:e.id}});return void window.open(t.href,"_blank")}if(e.id===t)return void this.$showMessage({title:this.$locale.baseText("workflowOpen.showMessage.title"),message:this.$locale.baseText("workflowOpen.showMessage.message"),type:"error",duration:1500});const s=this.$store.getters.getStateIsDirty;if(s){const t=await this.confirmModal(this.$locale.baseText("workflowOpen.confirmMessage.message"),this.$locale.baseText("workflowOpen.confirmMessage.headline"),"warning",this.$locale.baseText("workflowOpen.confirmMessage.confirmButtonText"),this.$locale.baseText("workflowOpen.confirmMessage.cancelButtonText"),!0);if(t===N["gc"]){const t=await this.saveCurrentWorkflow({},!1);t&&this.$store.dispatch("settings/fetchPromptsData"),this.$router.push({name:N["ud"].WORKFLOW,params:{name:e.id}})}else if(t===N["ec"])this.$store.commit("setStateDirty",!1),this.$router.push({name:N["ud"].WORKFLOW,params:{name:e.id}});else if(t===N["fc"])return}else this.$router.push({name:N["ud"].WORKFLOW,params:{name:e.id}});this.$store.commit("ui/closeAllModals")}},async loadWorkflows(){try{this.workflows=await this.restApi().getWorkflows(),this.workflows.forEach(e=>{e.createdAt=Object(We["b"])(e.createdAt),e.updatedAt=Object(We["b"])(e.updatedAt)})}catch(e){this.$showError(e,this.$locale.baseText("workflowOpen.showError.title"))}},async loadActiveWorkflows(){try{const e=await this.restApi().getActiveWorkflows();this.$store.commit("setActiveWorkflows",e)}catch(e){this.$showError(e,this.$locale.baseText("workflowOpen.couldNotLoadActiveWorkflows"))}},workflowActiveChanged(e){for(const t of this.workflows)t.id===e.id&&(t.active=e.active)},onTagsFilterBlur(){this.prevFilterTagIds=this.filterTagIds},onTagsFilterEsc(){this.filterTagIds=this.prevFilterTagIds}}}),Ui=Vi,ji=(s("5e31"),Object(v["a"])(Ui,di,ui,!1,null,"49d3980f",null)),Fi=ji.exports,zi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.modalName,title:e.title,center:!0,width:"460px",eventBus:e.modalBus},on:{enter:e.onSubmit}},[s("template",{slot:"content"},[s("div",[e.isPending?s("div",[s("n8n-text",{attrs:{color:"text-base"}},[e._v(e._s(e.$locale.baseText("settings.users.confirmUserDeletion")))])],1):s("div",{class:e.$style.content},[s("div",[s("n8n-text",{attrs:{color:"text-base"}},[e._v(e._s(e.$locale.baseText("settings.users.confirmDataHandlingAfterDeletion")))])],1),s("el-radio",{attrs:{value:e.operation,label:"transfer"},on:{change:function(){return e.setOperation("transfer")}}},[s("n8n-text",{attrs:{color:"text-dark"}},[e._v(e._s(e.$locale.baseText("settings.users.transferWorkflowsAndCredentials")))])],1),"transfer"===e.operation?s("div",{class:e.$style.optionInput},[s("n8n-input-label",{attrs:{label:e.$locale.baseText("settings.users.userToTransferTo")}},[s("n8n-user-select",{attrs:{users:e.allUsers,value:e.transferId,ignoreIds:e.ignoreIds,currentUserId:e.currentUserId},on:{input:e.setTransferId}})],1)],1):e._e(),s("el-radio",{attrs:{value:e.operation,label:"delete"},on:{change:function(){return e.setOperation("delete")}}},[s("n8n-text",{attrs:{color:"text-dark"}},[e._v(e._s(e.$locale.baseText("settings.users.deleteWorkflowsAndCredentials")))])],1),"delete"===e.operation?s("div",{class:e.$style.optionInput},[s("n8n-input-label",{attrs:{label:e.$locale.baseText("settings.users.deleteConfirmationMessage")}},[s("n8n-input",{attrs:{value:e.deleteConfirmText,placeholder:e.$locale.baseText("settings.users.deleteConfirmationText")},on:{input:e.setConfirmText}})],1)],1):e._e()],1)])]),s("template",{slot:"footer"},[s("n8n-button",{attrs:{loading:e.loading,disabled:!e.enabled,label:e.$locale.baseText("settings.users.delete"),float:"right"},on:{click:e.onSubmit}})],1)],2)},Hi=[],Gi=Object(K["a"])(Y["a"]).extend({components:{Modal:W},name:"DeleteUserModal",props:{modalName:{type:String},activeId:{type:String}},data(){return{modalBus:new n["default"],loading:!1,operation:"",deleteConfirmText:"",transferId:"",ignoreIds:[this.activeId]}},computed:{...Object(D["b"])("users",["allUsers","currentUserId"]),userToDelete(){const e=this.$store.getters["users/getUserById"];return e(this.activeId)},isPending(){return this.userToDelete&&!this.userToDelete.firstName},title(){const e=this.userToDelete&&(this.userToDelete.fullName||this.userToDelete.email)||"";return this.$locale.baseText("settings.users.deleteUser",{interpolate:{user:e}})},enabled(){return!!this.isPending||("delete"===this.operation&&this.deleteConfirmText===this.$locale.baseText("settings.users.deleteConfirmationText")||!("transfer"!==this.operation||!this.transferId))}},methods:{setOperation(e){this.operation=e,this.transferId=""},setConfirmText(e){this.deleteConfirmText=e},setTransferId(e){this.transferId=e},async onSubmit(){try{if(!this.enabled)return;this.loading=!0;const e={id:this.activeId};"transfer"===this.operation&&(e.transferId=this.transferId),await this.$store.dispatch("users/deleteUser",e);let t="";if(this.transferId){const e=this.$store.getters["users/getUserById"],s=e(this.transferId);t=this.$locale.baseText("settings.users.transferredToUser",{interpolate:{user:s.fullName||""}})}this.$showMessage({type:"success",title:this.$locale.baseText("settings.users.userDeleted"),message:t}),this.modalBus.$emit("close")}catch(e){this.$showError(e,this.$locale.baseText("settings.users.userDeletedError"))}this.loading=!1}}}),Ki=Gi,Yi=s("3e6e");function qi(e){this["$style"]=Yi["default"].locals||Yi["default"]}var Ji=Object(v["a"])(Ki,zi,Hi,!1,qi,null,null),Xi=Ji.exports,Qi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.EXECUTIONS_MODAL_KEY,width:"80%",title:e.$locale.baseText("executionsList.workflowExecutions")+" "+e.combinedExecutions.length+"/"+(!0===e.finishedExecutionsCountEstimated?"~":"")+e.combinedExecutionsCount,eventBus:e.modalBus},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"filters"},[s("el-row",[s("el-col",{staticClass:"filter-headline",attrs:{span:2}},[e._v(" "+e._s(e.$locale.baseText("executionsList.filters"))+": ")]),s("el-col",{attrs:{span:7}},[s("n8n-select",{attrs:{placeholder:e.$locale.baseText("executionsList.selectWorkflow"),size:"medium",filterable:""},on:{change:e.handleFilterChanged},model:{value:e.filter.workflowId,callback:function(t){e.$set(e.filter,"workflowId",t)},expression:"filter.workflowId"}},[s("div",{staticClass:"ph-no-capture"},e._l(e.workflows,(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)])],1),s("el-col",{attrs:{span:5,offset:1}},[s("n8n-select",{attrs:{placeholder:e.$locale.baseText("executionsList.selectStatus"),size:"medium",filterable:""},on:{change:e.handleFilterChanged},model:{value:e.filter.status,callback:function(t){e.$set(e.filter,"status",t)},expression:"filter.status"}},e._l(e.statuses,(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"autorefresh",attrs:{span:4,offset:5}},[s("el-checkbox",{on:{change:e.handleAutoRefreshToggle},model:{value:e.autoRefresh,callback:function(t){e.autoRefresh=t},expression:"autoRefresh"}},[e._v(e._s(e.$locale.baseText("executionsList.autoRefresh")))])],1)],1)],1),s("div",{staticClass:"selection-options"},[!0===e.checkAll||!0===e.isIndeterminate?s("span",[e._v(" "+e._s(e.$locale.baseText("executionsList.selected"))+": "+e._s(e.numSelected)+" / "),!0===e.finishedExecutionsCountEstimated?s("span",[e._v("~")]):e._e(),e._v(e._s(e.finishedExecutionsCount)+" "),s("n8n-icon-button",{attrs:{title:e.$locale.baseText("executionsList.deleteSelected"),icon:"trash",size:"mini"},on:{click:e.handleDeleteSelected}})],1):e._e()]),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isDataLoading,expression:"isDataLoading"}],attrs:{data:e.combinedExecutions,stripe:"","row-class-name":e.getRowClass}},[s("el-table-column",{attrs:{label:"",width:"30"},scopedSlots:e._u([{key:"header",fn:function(t){return[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate,label:" "},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[void 0!==t.row.stoppedAt&&t.row.id?s("el-checkbox",{attrs:{value:e.selectedItems[t.row.id.toString()]||e.checkAll,label:" "},on:{change:function(s){return e.handleCheckboxChanged(t.row.id)}}}):e._e()]}}])}),s("el-table-column",{attrs:{property:"startedAt",label:e.$locale.baseText("executionsList.startedAtId"),width:"205"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.convertToDisplayDate(t.row.startedAt))),s("br"),t.row.id?s("small",[e._v("ID: "+e._s(t.row.id))]):e._e()]}}])}),s("el-table-column",{attrs:{property:"workflowName",label:e.$locale.baseText("executionsList.name")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"ph-no-capture"},[s("span",{staticClass:"workflow-name"},[e._v(" "+e._s(t.row.workflowName||e.$locale.baseText("executionsList.unsavedWorkflow"))+" ")])]),void 0===t.row.stoppedAt?s("span",[e._v(" ("+e._s(e.$locale.baseText("executionsList.running"))+") ")]):e._e(),void 0!==t.row.retryOf?s("span",[s("br"),s("small",[e._v(e._s(e.$locale.baseText("executionsList.retryOf"))+' "'+e._s(t.row.retryOf)+'"')])]):void 0!==t.row.retrySuccessId?s("span",[s("br"),s("small",[e._v(e._s(e.$locale.baseText("executionsList.successRetry"))+' "'+e._s(t.row.retrySuccessId)+'"')])]):e._e()]}}])}),s("el-table-column",{attrs:{label:e.$locale.baseText("executionsList.status"),width:"122",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.statusTooltipText(t.row))},slot:"content"}),t.row.waitTill?s("span",{staticClass:"status-badge running"},[e._v(" "+e._s(e.$locale.baseText("executionsList.waiting"))+" ")]):void 0===t.row.stoppedAt?s("span",{staticClass:"status-badge running"},[e._v(" "+e._s(e.$locale.baseText("executionsList.running"))+" ")]):t.row.finished?s("span",{staticClass:"status-badge success"},[e._v(" "+e._s(e.$locale.baseText("executionsList.success"))+" ")]):null!==t.row.stoppedAt?s("span",{staticClass:"status-badge error"},[e._v(" "+e._s(e.$locale.baseText("executionsList.error"))+" ")]):s("span",{staticClass:"status-badge warning"},[e._v(" "+e._s(e.$locale.baseText("executionsList.unknown"))+" ")])]),s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleRetryClick}},[s("span",{staticClass:"retry-button"},[void 0===t.row.stoppedAt||t.row.finished||void 0!==t.row.retryOf||void 0!==t.row.retrySuccessId||t.row.waitTill?e._e():s("n8n-icon-button",{staticClass:"ml-3xs",attrs:{type:null===t.row.stoppedAt?"warning":"danger",size:"mini",title:e.$locale.baseText("executionsList.retryExecution"),icon:"redo"}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:{command:"currentlySaved",row:t.row}}},[e._v(" "+e._s(e.$locale.baseText("executionsList.retryWithCurrentlySavedWorkflow"))+" ")]),s("el-dropdown-item",{attrs:{command:{command:"original",row:t.row}}},[e._v(" "+e._s(e.$locale.baseText("executionsList.retryWithOriginalworkflow"))+" ")])],1)],1)]}}])}),s("el-table-column",{attrs:{property:"mode",label:e.$locale.baseText("executionsList.mode"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.$locale.baseText("executionsList.modes."+t.row.mode))+" ")]}}])}),s("el-table-column",{attrs:{label:e.$locale.baseText("executionsList.runningTime"),width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0===t.row.stoppedAt?s("span",[s("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}),s("execution-time",{attrs:{"start-time":t.row.startedAt}})],1):null===t.row.stoppedAt?s("span",[e._v(" -- ")]):s("span",[e._v(" "+e._s(e.displayTimer(new Date(t.row.stoppedAt).getTime()-new Date(t.row.startedAt).getTime(),!0))+" ")])]}}])}),s("el-table-column",{attrs:{label:"",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"actions-container"},[void 0===t.row.stoppedAt||t.row.waitTill?s("span",[s("n8n-icon-button",{attrs:{icon:"stop",size:"small",title:e.$locale.baseText("executionsList.stopExecution"),loading:e.stoppingExecutions.includes(t.row.id)},on:{click:function(s){return s.stopPropagation(),e.stopExecution(t.row.id)}}})],1):e._e(),void 0!==t.row.stoppedAt&&t.row.id?s("span",[s("n8n-icon-button",{attrs:{icon:"folder-open",size:"small",title:e.$locale.baseText("executionsList.openPastExecution")},on:{click:function(s){return s.stopPropagation(),function(s){return e.displayExecution(t.row,s)}.apply(null,arguments)}}})],1):e._e()])]}}])})],1),e.finishedExecutionsCount>e.finishedExecutions.length||!0===e.finishedExecutionsCountEstimated?s("div",{staticClass:"load-more"},[s("n8n-button",{attrs:{icon:"sync",title:e.$locale.baseText("executionsList.loadMore"),label:e.$locale.baseText("executionsList.loadMore"),loading:e.isDataLoading},on:{click:function(t){return e.loadMore()}}})],1):e._e()]},proxy:!0}])})},Zi=[],er=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v(" "+e._s(e.time)+" ")])},tr=[],sr=Object(K["a"])(cn["a"]).extend({name:"ExecutionTime",props:["startTime"],computed:{time(){if(!this.startTime)return"...";const e=this.nowTime-new Date(this.startTime).getTime();return this.displayTimer(e)}},data(){return{nowTime:-1,intervalTimer:null}},mounted(){this.setNow(),this.intervalTimer=setInterval(()=>{this.setNow()},1e3)},destroyed(){null!==this.intervalTimer&&clearInterval(this.intervalTimer)},methods:{setNow(){this.nowTime=(new Date).getTime()}}}),nr=sr,ar=(s("0627"),Object(v["a"])(nr,er,tr,!1,null,null,null)),or=ar.exports,ir=Object(K["a"])(ln["a"],cn["a"],Dt["a"],Y["a"]).extend({name:"ExecutionsList",components:{ExecutionTime:or,WorkflowActivator:Bi,Modal:W},data(){return{finishedExecutions:[],finishedExecutionsCount:0,finishedExecutionsCountEstimated:!1,checkAll:!1,autoRefresh:!0,autoRefreshInterval:void 0,filter:{status:"ALL",workflowId:"ALL"},isDataLoading:!1,requestItemsPerRequest:10,selectedItems:{},stoppingExecutions:[],workflows:[],modalBus:new n["default"],EXECUTIONS_MODAL_KEY:N["fb"]}},async created(){await this.loadWorkflows(),await this.refreshData(),this.handleAutoRefreshToggle(),this.$externalHooks().run("executionsList.openDialog"),this.$telemetry.track("User opened Executions log",{workflow_id:this.$store.getters.workflowId})},beforeDestroy(){this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=void 0)},computed:{statuses(){return[{id:"ALL",name:this.$locale.baseText("executionsList.anyStatus")},{id:"error",name:this.$locale.baseText("executionsList.error")},{id:"running",name:this.$locale.baseText("executionsList.running")},{id:"success",name:this.$locale.baseText("executionsList.success")},{id:"waiting",name:this.$locale.baseText("executionsList.waiting")}]},activeExecutions(){return this.$store.getters.getActiveExecutions},combinedExecutions(){const e=[];return["ALL","running"].includes(this.filter.status)&&e.push.apply(e,this.activeExecutions),["ALL","error","success","waiting"].includes(this.filter.status)&&e.push.apply(e,this.finishedExecutions),e},combinedExecutionsCount(){return 0+this.activeExecutions.length+this.finishedExecutionsCount},numSelected(){return!0===this.checkAll?this.finishedExecutionsCount:Object.keys(this.selectedItems).length},isIndeterminate(){return!0!==this.checkAll&&this.numSelected>0},workflowFilterCurrent(){const e={};return"ALL"!==this.filter.workflowId&&(e.workflowId=this.filter.workflowId),e},workflowFilterPast(){const e={};return"ALL"!==this.filter.workflowId&&(e.workflowId=this.filter.workflowId),"waiting"===this.filter.status?e.waitTill=!0:["error","success"].includes(this.filter.status)&&(e.finished="success"===this.filter.status),e}},methods:{closeDialog(){this.modalBus.$emit("close")},convertToDisplayDate:We["b"],displayExecution(e,t){if(t.metaKey||t.ctrlKey){const t=this.$router.resolve({name:N["ud"].EXECUTION,params:{id:e.id}});window.open(t.href,"_blank")}else this.$router.push({name:N["ud"].EXECUTION,params:{id:e.id}}),this.modalBus.$emit("closeAll")},handleAutoRefreshToggle(){this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=void 0),this.autoRefresh&&(this.autoRefreshInterval=setInterval(this.loadAutoRefresh,4e3))},handleCheckAllChange(){!1===this.checkAll&&n["default"].set(this,"selectedItems",{})},handleCheckboxChanged(e){this.selectedItems[e]?n["default"].delete(this.selectedItems,e):n["default"].set(this.selectedItems,e,!0)},async handleDeleteSelected(){const e=await this.confirmMessage(this.$locale.baseText("executionsList.confirmMessage.message",{interpolate:{numSelected:this.numSelected.toString()}}),this.$locale.baseText("executionsList.confirmMessage.headline"),"warning",this.$locale.baseText("executionsList.confirmMessage.confirmButtonText"),this.$locale.baseText("executionsList.confirmMessage.cancelButtonText"));if(!1===e)return;this.isDataLoading=!0;const t={};!0===this.checkAll?t.deleteBefore=this.finishedExecutions[0].startedAt:t.ids=Object.keys(this.selectedItems),t.filters=this.workflowFilterPast;try{await this.restApi().deleteExecutions(t)}catch(s){return this.isDataLoading=!1,void this.$showError(s,this.$locale.baseText("executionsList.showError.handleDeleteSelected.title"))}this.isDataLoading=!1,this.$showMessage({title:this.$locale.baseText("executionsList.showMessage.handleDeleteSelected.title"),type:"success"}),n["default"].set(this,"selectedItems",{}),this.checkAll=!1,this.refreshData()},handleFilterChanged(){this.refreshData()},handleRetryClick(e){let t=!1;"currentlySaved"===e.command&&(t=!0),this.retryExecution(e.row,t),this.$telemetry.track("User clicked retry execution button",{workflow_id:this.$store.getters.workflowId,execution_id:e.row.id,retry_type:t?"current":"original"})},getRowClass(e){const t=[];return void 0===e.row.stoppedAt&&t.push("currently-running"),t.join(" ")},getWorkflowName(e){const t=this.workflows.find(t=>t.id===e);if(void 0!==t)return t.name},async loadActiveExecutions(){const e=await this.restApi().getCurrentExecutions(this.workflowFilterCurrent);for(const t of e)void 0!==t.workflowId&&void 0===t.workflowName&&(t.workflowName=this.getWorkflowName(t.workflowId));this.$store.commit("setActiveExecutions",e)},async loadAutoRefresh(){const e=this.workflowFilterPast,t=this.restApi().getPastExecutions(e,30),s=this.restApi().getCurrentExecutions({}),n=await Promise.all([t,s]);for(const r of n[1])void 0!==r.workflowId&&void 0===r.workflowName&&(r.workflowName=this.getWorkflowName(r.workflowId));this.$store.commit("setActiveExecutions",n[1]);const a=this.finishedExecutions.map(e=>parseInt(e.id,10));let o=0;const i=[];for(let r=n[0].results.length-1;r>=0;r--){const e=n[0].results[r],t=parseInt(e.id,10);if(0!==o&&!1===isNaN(t)&&t-o>1){const e=Object(qe["range"])(o+1,t);i.push(...e)}o=parseInt(e.id,10)||0;const s=a.indexOf(t);if(-1!==s){!1===this.finishedExecutions[s].finished&&!0===e.finished&&(this.finishedExecutions[s]=e);continue}let l;for(l=this.finishedExecutions.length-1;l>=0;l--)if(t<parseInt(this.finishedExecutions[l].id,10)){this.finishedExecutions.splice(l+1,0,e);break}-1===l&&this.finishedExecutions.unshift(e)}this.finishedExecutions=this.finishedExecutions.filter(e=>!i.includes(parseInt(e.id,10))&&o>=parseInt(e.id,10)),this.finishedExecutionsCount=n[0].count,this.finishedExecutionsCountEstimated=n[0].estimated},async loadFinishedExecutions(){if("running"===this.filter.status)return this.finishedExecutions=[],this.finishedExecutionsCount=0,void(this.finishedExecutionsCountEstimated=!1);const e=await this.restApi().getPastExecutions(this.workflowFilterPast,this.requestItemsPerRequest);this.finishedExecutions=e.results,this.finishedExecutionsCount=e.count,this.finishedExecutionsCountEstimated=e.estimated},async loadMore(){if("running"===this.filter.status)return;this.isDataLoading=!0;const e=this.workflowFilterPast;let t,s;if(0!==this.finishedExecutions.length){const e=this.finishedExecutions.slice(-1)[0];t=e.id}try{s=await this.restApi().getPastExecutions(e,this.requestItemsPerRequest,t)}catch(n){return this.isDataLoading=!1,void this.$showError(n,this.$locale.baseText("executionsList.showError.loadMore.title"))}s.results=s.results.map(e=>({...e,mode:e.mode})),this.finishedExecutions.push.apply(this.finishedExecutions,s.results),this.finishedExecutionsCount=s.count,this.finishedExecutionsCountEstimated=s.estimated,this.isDataLoading=!1},async loadWorkflows(){try{const e=await this.restApi().getWorkflows();e.sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0),e.unshift({id:"ALL",name:this.$locale.baseText("executionsList.allWorkflows")}),n["default"].set(this,"workflows",e)}catch(e){this.$showError(e,this.$locale.baseText("executionsList.showError.loadWorkflows.title"))}},async retryExecution(e,t){this.isDataLoading=!0;try{const s=await this.restApi().retryExecution(e.id,t);!0===s?this.$showMessage({title:this.$locale.baseText("executionsList.showMessage.retrySuccessfulTrue.title"),type:"success"}):this.$showMessage({title:this.$locale.baseText("executionsList.showMessage.retrySuccessfulFalse.title"),type:"error"}),this.isDataLoading=!1}catch(s){this.$showError(s,this.$locale.baseText("executionsList.showError.retryExecution.title")),this.isDataLoading=!1}},async refreshData(){this.isDataLoading=!0;try{const e=this.loadActiveExecutions(),t=this.loadFinishedExecutions();await Promise.all([e,t])}catch(e){this.$showError(e,this.$locale.baseText("executionsList.showError.refreshData.title"))}this.isDataLoading=!1},statusTooltipText(e){if(e.waitTill){const t=new Date(e.waitTill);return t.toISOString()===N["vd"]?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowIsWaitingIndefinitely"):this.$locale.baseText("executionsList.statusTooltipText.theWorkflowIsWaitingTill",{interpolate:{waitDateDate:t.toLocaleDateString(),waitDateTime:t.toLocaleTimeString()}})}return void 0===e.stoppedAt?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowIsCurrentlyExecuting"):!0===e.finished&&void 0!==e.retryOf?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowExecutionWasARetryOfAndItWasSuccessful",{interpolate:{entryRetryOf:e.retryOf}}):!0===e.finished?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowExecutionWasSuccessful"):void 0!==e.retryOf?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowExecutionWasARetryOfAndFailed",{interpolate:{entryRetryOf:e.retryOf}}):void 0!==e.retrySuccessId?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowExecutionFailedButTheRetryWasSuccessful",{interpolate:{entryRetrySuccessId:e.retrySuccessId}}):null===e.stoppedAt?this.$locale.baseText("executionsList.statusTooltipText.theWorkflowExecutionIsProbablyStillRunning"):this.$locale.baseText("executionsList.statusTooltipText.theWorkflowExecutionFailed")},async stopExecution(e){try{this.stoppingExecutions.push(e),await this.restApi().stopCurrentExecution(e);const t=this.stoppingExecutions.indexOf(e);this.stoppingExecutions.splice(t,1),this.$showMessage({title:this.$locale.baseText("executionsList.showMessage.stopExecution.title"),message:this.$locale.baseText("executionsList.showMessage.stopExecution.message",{interpolate:{activeExecutionId:e}}),type:"success"}),this.refreshData()}catch(t){this.$showError(t,this.$locale.baseText("executionsList.showError.stopExecution.title"))}}}}),rr=ir,lr=(s("b099"),s("3c2f"),Object(v["a"])(rr,Qi,Zi,!1,null,"077f153c",null)),cr=lr.exports,dr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{name:e.WORKFLOW_ACTIVE_MODAL_KEY,title:e.$locale.baseText("activationModal.workflowActivated"),width:"460px"},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",[s("n8n-text",[e._v(e._s(e.triggerContent))])],1),s("div",{class:e.$style.spaced},[s("n8n-text",[s("n8n-text",{attrs:{bold:!0}},[e._v(" "+e._s(e.$locale.baseText("activationModal.theseExecutionsWillNotShowUp"))+" ")]),e._v(" "+e._s(e.$locale.baseText("activationModal.butYouCanSeeThem"))+" "),s("a",{on:{click:e.showExecutionsList}},[e._v(" "+e._s(e.$locale.baseText("activationModal.executionList"))+" ")]),e._v(" "+e._s(e.$locale.baseText("activationModal.ifYouChooseTo"))+" "),s("a",{on:{click:e.showSettings}},[e._v(e._s(e.$locale.baseText("activationModal.saveExecutions")))])],1)],1)]},proxy:!0},{key:"footer",fn:function(t){var n=t.close;return[s("div",{class:e.$style.footer},[s("el-checkbox",{attrs:{value:e.checked},on:{change:e.handleCheckboxChange}},[e._v(e._s(e.$locale.baseText("activationModal.dontShowAgain")))]),s("n8n-button",{attrs:{label:e.$locale.baseText("activationModal.gotIt")},on:{click:n}})],1)]}}])})},ur=[],pr=n["default"].extend({name:"ActivationModal",components:{Modal:W},props:["modalName"],data(){return{WORKFLOW_ACTIVE_MODAL_KEY:N["zd"],checked:!1}},methods:{async showExecutionsList(){this.$store.dispatch("ui/openModal",N["fb"])},async showSettings(){this.$store.dispatch("ui/openModal",N["Bd"])},handleCheckboxChange(e){this.checked=e,window.localStorage.setItem(N["Fb"],e.toString())}},computed:{triggerContent(){const e=Object(We["e"])(this.$store.getters.workflowTriggerNodes);if(!e.length)return"";if(e.length>1)return this.$locale.baseText("activationModal.yourTriggersWillNowFire");const t=e[0],s=this.$store.getters["nodeTypes/getNodeType"](t.type,t.typeVersion);if(s.activationMessage)return s.activationMessage;const n=Object(We["i"])(s);return t.webhookId?this.$locale.baseText("activationModal.yourWorkflowWillNowListenForEvents",{interpolate:{serviceName:n}}):s.polling?this.$locale.baseText("activationModal.yourWorkflowWillNowRegularlyCheck",{interpolate:{serviceName:n}}):this.$locale.baseText("activationModal.yourTriggerWillNowFire")}}}),hr=pr,mr=s("eb49");function gr(e){this["$style"]=mr["default"].locals||mr["default"]}var fr=Object(v["a"])(hr,dr,ur,!1,gr,null,null),wr=fr.exports,yr=n["default"].extend({name:"Modals",components:{AboutModal:z,ActivationModal:wr,CommunityPackageInstallModal:le,CommunityPackageManageConfirmModal:ee,ContactPromptModal:Te,ChangePasswordModal:me,CredentialEdit:an,CredentialsList:hn,CredentialsSelectModal:Wn,DeleteUserModal:Xi,DuplicateWorkflowDialog:ea,InviteUsersModal:Dn,ExecutionsList:cr,ModalRoot:ia,OnboardingCallSignupModal:ma,PersonalizationModal:Ta,TagsManager:so,UpdatesPanel:Go,ValueSurvey:ni,WorkflowSettings:ci,WorkflowOpen:Fi},data:()=>({COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY:N["r"],COMMUNITY_PACKAGE_INSTALL_MODAL_KEY:N["s"],CONTACT_PROMPT_MODAL_KEY:N["D"],CREDENTIAL_EDIT_MODAL_KEY:N["F"],CREDENTIAL_LIST_MODAL_KEY:N["G"],CREDENTIAL_SELECT_MODAL_KEY:N["H"],ABOUT_MODAL_KEY:N["a"],CHANGE_PASSWORD_MODAL_KEY:N["l"],DELETE_USER_MODAL_KEY:N["U"],DUPLICATE_MODAL_KEY:N["W"],ONBOARDING_CALL_SIGNUP_MODAL_KEY:N["rc"],PERSONALIZATION_MODAL_KEY:N["Ac"],INVITE_USER_MODAL_KEY:N["yb"],TAGS_MANAGER_MODAL_KEY:N["fd"],VERSIONS_MODAL_KEY:N["td"],WORKFLOW_OPEN_MODAL_KEY:N["Ad"],WORKFLOW_SETTINGS_MODAL_KEY:N["Bd"],VALUE_SURVEY_MODAL_KEY:N["sd"],EXECUTIONS_MODAL_KEY:N["fb"],WORKFLOW_ACTIVE_MODAL_KEY:N["zd"]})}),br=yr,vr=Object(v["a"])(br,_,C,!1,null,null,null),xr=vr.exports,kr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.spinner},[s("n8n-spinner")],1)])},Tr=[],$r=s("3210"),_r={};function Cr(e){this["$style"]=$r["default"].locals||$r["default"]}var Nr=Object(v["a"])(_r,kr,Tr,!1,Cr,null,null),Er=Nr.exports,Sr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment")},Dr=[],Ir=Object(K["a"])(ln["a"]).extend({name:"Telemetry",data(){return{isTelemetryInitialized:!1}},computed:{...Object(D["b"])("settings",["telemetry"]),...Object(D["b"])("users",["currentUserId"]),...Object(D["b"])(["instanceId"]),isTelemetryEnabledOnRoute(){return!this.$route.meta||!this.$route.meta.telemetry||!this.$route.meta.telemetry.disabled}},mounted(){this.init()},methods:{init(){if(this.isTelemetryInitialized||!this.isTelemetryEnabledOnRoute)return;const e=this.telemetry;e&&e.enabled&&(this.$telemetry.init(e,{instanceId:this.instanceId,userId:this.currentUserId,store:this.$store,versionCli:this.$store.getters["settings/versionCli"]}),this.$externalHooks().run("telemetry.currentUserIdChanged",{instanceId:this.instanceId,userId:this.currentUserId}),this.isTelemetryInitialized=!0)}},watch:{telemetry(){this.init()},currentUserId(e){this.$telemetry.identify(this.instanceId,e),this.$externalHooks().run("telemetry.currentUserIdChanged",{instanceId:this.instanceId,userId:e})},isTelemetryEnabledOnRoute(e){e&&this.init()}}}),Or=Ir,Pr=Object(v["a"])(Or,Sr,Dr,!1,null,null,null),Ar=Pr.exports;const Mr=n["default"].extend({methods:{canUserAccessRouteByName(e){const{route:t}=this.$router.resolve({name:e});return this.canUserAccessRoute(t)},canUserAccessCurrentRoute(){return this.canUserAccessRoute(this.$route)},canUserAccessRoute(e){const t=e.meta&&e.meta.permissions,s=this.$store.getters["users/currentUser"];return!(!t||!vn(t,s))}}}),Lr=n["default"].extend({data(){return{customActions:{}}},mounted(){window.addEventListener("click",this.delegateClick),this.$root.$on("registerGlobalLinkAction",this.registerCustomAction)},destroyed(){window.removeEventListener("click",this.delegateClick),this.$root.$off("registerGlobalLinkAction",this.registerCustomAction)},computed:{availableActions(){return{reload:this.reload,...this.customActions}}},methods:{registerCustomAction(e,t){this.customActions[e]=t},delegateClick(e){const t=e.target;if(!(t instanceof Element)||"A"!==t.tagName)return;const s=t.getAttribute("data-action");s&&"function"===typeof this.availableActions[s]&&(e.preventDefault(),this.availableActions[s]())},reload(){window.location.reload()}}});var Rr=Object(K["a"])(Y["a"],Mr,Dt["a"],Lr).extend({name:"App",components:{LoadingView:Er,Telemetry:Ar,Modals:xr},computed:{...Object(D["b"])("settings",["isHiringBannerEnabled","isTemplatesEnabled","isTemplatesEndpointReachable","isUserManagementEnabled","showSetupPage"]),...Object(D["b"])("users",["currentUser"]),defaultLocale(){return this.$store.getters.defaultLocale}},data(){return{loading:!0}},methods:{async initSettings(){try{await this.$store.dispatch("settings/getSettings")}catch(e){throw this.$showToast({title:this.$locale.baseText("startupError"),message:this.$locale.baseText("startupError.message"),type:"error",duration:0}),e}},async loginWithCookie(){try{await this.$store.dispatch("users/loginWithCookie")}catch(e){}},async initTemplates(){if(this.isTemplatesEnabled)try{await this.$store.dispatch("settings/testTemplatesEndpoint")}catch(e){}},logHiringBanner(){this.isHiringBannerEnabled&&this.$route.name!==N["ud"].DEMO&&console.log(N["rb"])},async initialize(){await this.initSettings(),await Promise.all([this.loginWithCookie(),this.initTemplates()])},trackPage(){this.$store.commit("ui/setCurrentView",this.$route.name),this.$route&&this.$route.meta&&this.$route.meta.templatesEnabled?this.$store.commit("templates/setSessionId"):this.$store.commit("templates/resetSessionId"),this.$telemetry.page(this.$route)},authenticate(){if(this.isUserManagementEnabled&&this.showSetupPage){if(this.$route.name===N["ud"].SETUP)return;return void this.$router.replace({name:N["ud"].SETUP})}if(this.canUserAccessCurrentRoute())return;const e=this.currentUser;if(e){if(this.$route.name===N["ud"].SIGNIN&&"string"===typeof this.$route.query.redirect){const e=decodeURIComponent(this.$route.query.redirect);if(e.startsWith("/"))return void this.$router.replace(e)}this.$router.replace({name:N["ud"].HOMEPAGE})}else{const e=this.$route.query.redirect||encodeURIComponent(`${window.location.pathname}${window.location.search}`);this.$router.replace({name:N["ud"].SIGNIN,query:{redirect:e}})}},redirectIfNecessary(){const e=this.$route.meta&&"function"===typeof this.$route.meta.getRedirect&&this.$route.meta.getRedirect(this.$store);e&&this.$router.replace(e)}},async mounted(){await this.initialize(),this.logHiringBanner(),this.authenticate(),this.redirectIfNecessary(),this.loading=!1,this.trackPage(),this.$externalHooks().run("app.mount"),"en"!==this.defaultLocale&&this.$store.dispatch("nodeTypes/getNodeTranslationHeaders")},watch:{$route(e){this.authenticate(),this.redirectIfNecessary(),this.trackPage()},defaultLocale(e){qt(e)}}}),Wr=Rr,Br=s("7b20");function Vr(e){this["$style"]=Br["default"].locals||Br["default"]}var Ur=Object(v["a"])(Wr,T,$,!1,Vr,null,null),jr=Ur.exports,Fr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.config?s("AuthView",{attrs:{form:e.config,formLoading:e.loading},on:{submit:e.onSubmit,input:e.onInput}}):e._e()},zr=[],Hr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("div",{class:e.$style.logoContainer},[s("Logo")],1),e.subtitle?s("div",{class:e.$style.textContainer},[s("n8n-text",{attrs:{size:"large"}},[e._v(e._s(e.subtitle))])],1):e._e(),s("div",{class:e.$style.formContainer},[s("n8n-form-box",e._b({attrs:{buttonLoading:e.formLoading},on:{secondaryClick:e.onSecondaryClick,submit:e.onSubmit,input:e.onInput}},"n8n-form-box",e.form,!1))],1)])},Gr=[],Kr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("img",{class:e.$style.img,attrs:{src:e.basePath+"n8n-logo.svg",alt:"n8n.io"}})},Yr=[],qr=n["default"].extend({computed:{basePath(){return this.$store.getters.getBaseUrl}}}),Jr=qr,Xr=s("ede3");function Qr(e){this["$style"]=Xr["default"].locals||Xr["default"]}var Zr=Object(v["a"])(Jr,Kr,Yr,!1,Qr,null,null),el=Zr.exports,tl=n["default"].extend({name:"AuthView",components:{Logo:el},props:{form:{},formLoading:{type:Boolean,default:!1},subtitle:{type:String}},methods:{onInput(e){this.$emit("input",e)},onSubmit(e){this.$emit("submit",e)},onSecondaryClick(){this.$emit("secondaryClick")}}}),sl=tl,nl=s("4be3");s("7f4a");function al(e){this["$style"]=nl["default"].locals||nl["default"]}var ol=Object(v["a"])(sl,Hr,Gr,!1,al,null,null),il=ol.exports,rl=Object(K["a"])(Y["a"]).extend({name:"ChangePasswordView",components:{AuthView:il},data(){return{password:"",loading:!1,config:null}},async mounted(){this.config={title:this.$locale.baseText("auth.changePassword"),buttonText:this.$locale.baseText("auth.changePassword"),redirectText:this.$locale.baseText("auth.signin"),redirectLink:"/signin",inputs:[{name:"password",properties:{label:this.$locale.baseText("auth.newPassword"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"password2",properties:{label:this.$locale.baseText("auth.changePassword.reenterNewPassword"),type:"password",required:!0,validators:{TWO_PASSWORDS_MATCH:{validate:this.passwordsMatch}},validationRules:[{name:"TWO_PASSWORDS_MATCH"}],autocomplete:"new-password",capitalize:!0}}]};const e=this.$route.query.token,t=this.$route.query.userId;try{if(!e)throw new Error(this.$locale.baseText("auth.changePassword.missingTokenError"));if(!t)throw new Error(this.$locale.baseText("auth.changePassword.missingUserIdError"));await this.$store.dispatch("users/validatePasswordToken",{token:e,userId:t})}catch(s){this.$showMessage({title:this.$locale.baseText("auth.changePassword.tokenValidationError"),type:"error"})}},methods:{passwordsMatch(e){return"string"===typeof e&&(e!==this.password&&{messageKey:"auth.changePassword.passwordsMustMatchError"})},onInput(e){"password"===e.name&&(this.password=e.value)},async onSubmit(){try{this.loading=!0;const e=this.$route.query.token,t=this.$route.query.userId;await this.$store.dispatch("users/changePassword",{token:e,userId:t,password:this.password}),this.$showMessage({type:"success",title:this.$locale.baseText("auth.changePassword.passwordUpdated"),message:this.$locale.baseText("auth.changePassword.passwordUpdatedMessage")}),await this.$router.push({name:N["ud"].SIGNIN})}catch(e){this.$showError(e,this.$locale.baseText("auth.changePassword.error"))}this.loading=!1}}}),ll=rl,cl=Object(v["a"])(ll,Fr,zr,!1,null,null,null),dl=cl.exports,ul=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("font-awesome-icon",{class:e.$style.icon,attrs:{icon:"exclamation-triangle"}}),s("div",{class:e.$style.message},[s("div",[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(" "+e._s(e.$locale.baseText(e.messageKey))+" ")])],1),s("div",[e.errorCode?s("n8n-text",{attrs:{size:"large"}},[e._v(" "+e._s(e.errorCode)+" "+e._s(e.$locale.baseText("error"))+" ")]):e._e()],1)]),s("n8n-button",{attrs:{label:e.$locale.baseText(e.redirectTextKey)},on:{click:e.onButtonClick}})],1)},pl=[],hl=n["default"].extend({name:"ErrorView",props:{messageKey:{type:String,required:!0},errorCode:{type:Number},redirectTextKey:{type:String},redirectPage:{type:String}},methods:{onButtonClick(){this.$router.push({name:this.redirectPage})}}}),ml=hl,gl=s("c721");function fl(e){this["$style"]=gl["default"].locals||gl["default"]}var wl=Object(v["a"])(ml,ul,pl,!1,fl,null,null),yl=wl.exports,bl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AuthView",{attrs:{form:e.formConfig,formLoading:e.loading},on:{submit:e.onSubmit}})},vl=[],xl=Object(K["a"])(Y["a"]).extend({name:"ForgotMyPasswordView",components:{AuthView:il},data(){return{loading:!1}},computed:{...Object(D["b"])("settings",["isSmtpSetup"]),formConfig(){const e=[{name:"email",properties:{label:this.$locale.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],autocomplete:"email",capitalize:!0}}],t=[{name:"no-smtp-warning",properties:{label:this.$locale.baseText("forgotPassword.noSMTPToSendEmailWarning"),type:"info"}}],s={title:this.$locale.baseText("forgotPassword.recoverPassword"),redirectText:this.$locale.baseText("forgotPassword.returnToSignIn"),redirectLink:"/signin"};return this.isSmtpSetup?{...s,buttonText:this.$locale.baseText("forgotPassword.getRecoveryLink"),inputs:e}:{...s,inputs:t}}},methods:{async onSubmit(e){try{this.loading=!0,await this.$store.dispatch("users/sendForgotPasswordEmail",e),this.$showMessage({type:"success",title:this.$locale.baseText("forgotPassword.recoveryEmailSent"),message:this.$locale.baseText("forgotPassword.emailSentIfExists",{interpolate:{email:e.email}})})}catch(t){this.$showMessage({type:"error",title:this.$locale.baseText("forgotPassword.sendingEmailError"),message:this.$locale.baseText("forgotPassword.smtpErrorContactAdministrator")})}this.loading=!1}}}),kl=xl,Tl=Object(v["a"])(kl,bl,vl,!1,null,null,null),$l=Tl.exports,_l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{class:{"main-header":!0,expanded:!e.sidebarMenuCollapsed}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideMenuBar,expression:"!hideMenuBar"}],staticClass:"top-menu"},[e.isExecutionPage?s("ExecutionDetails"):s("WorkflowDetails")],1)])])},Cl=[];const Nl=n["default"].extend({methods:{$titleSet(e,t){let s="";"EXECUTING"===t?s="":"IDLE"===t&&(s=""),window.document.title=`n8n - ${s} ${e}`},$titleReset(){document.title="n8n - Workflow Automation"}}}),El=Object(K["a"])(ln["a"],Me["a"],Y["a"],Nl,we["a"]).extend({data(){return{eventSource:null,reconnectTimeout:null,retryTimeout:null,pushMessageQueue:[]}},computed:{sessionId(){return this.$store.getters.sessionId}},methods:{pushAutomaticReconnect(){null===this.reconnectTimeout&&(this.reconnectTimeout=setTimeout(()=>{this.pushConnect()},3e3))},pushConnect(){this.pushDisconnect();const e=`${this.$store.getters.getRestUrl}/push?sessionId=${this.sessionId}`;this.eventSource=new EventSource(e,{withCredentials:!0}),this.eventSource.addEventListener("message",this.pushMessageReceived,!1),this.eventSource.addEventListener("open",()=>{this.$store.commit("setPushConnectionActive",!0),null!==this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)},!1),this.eventSource.addEventListener("error",()=>{this.pushDisconnect(),null!==this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.$store.commit("setPushConnectionActive",!1),this.pushAutomaticReconnect()},!1)},pushDisconnect(){null!==this.eventSource&&(this.eventSource.close(),this.eventSource=null,this.$store.commit("setPushConnectionActive",!1))},queuePushMessage(e,t){this.pushMessageQueue.push({event:e,retriesLeft:t}),null===this.retryTimeout&&(this.retryTimeout=setTimeout(this.processWaitingPushMessages,20))},processWaitingPushMessages(){null!==this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null);const e=this.pushMessageQueue.length;for(let t=0;t<e;t++){const e=this.pushMessageQueue.shift();if(!1===this.pushMessageReceived(e.event,!0)){e.retriesLeft-=1,e.retriesLeft>0&&this.pushMessageQueue.unshift(e);break}}0!==this.pushMessageQueue.length&&null===this.retryTimeout&&(this.retryTimeout=setTimeout(this.processWaitingPushMessages,25))},pushMessageReceived(e,t){const s=5;let n;try{n=JSON.parse(e.data)}catch(a){return!1}if("sendConsoleMessage"===n.type){const e=n.data;return console.log(e.source,...e.messages),!0}if(!["testWebhookReceived"].includes(n.type)&&!0!==t&&this.pushMessageQueue.length)return this.queuePushMessage(e,s),!1;if("nodeExecuteAfter"===n.type||"nodeExecuteBefore"===n.type){if(!1===this.$store.getters.isActionActive("workflowRunning"))return!1;const a=n.data;if(this.$store.getters.activeExecutionId!==a.executionId)return!0!==t&&this.queuePushMessage(e,s),!1}if("executionFinished"===n.type){const a=n.data;if(this.$store.commit("finishActiveExecution",a),!1===this.$store.getters.isActionActive("workflowRunning"))return!1;if(this.$store.getters.activeExecutionId!==a.executionId)return!0!==t&&this.queuePushMessage(e,s),!1;const o=a.data,i=this.$getExecutionError(o.data.resultData.error),r=this.getCurrentWorkflow();if(void 0!==o.waitTill){const{activeExecutionId:e,workflowSettings:t,saveManualExecutions:s}=this.$store.getters,n=void 0===t.saveManualExecutions?s:t.saveManualExecutions;let a;n?a=`<a href="/execution/${e}" target="_blank">View the execution</a> to see what happened after this node.`:(this.$root.$emit("registerGlobalLinkAction","open-settings",async()=>{this.$store.getters.isNewWorkflow&&await this.saveAsNewWorkflow(),this.$store.dispatch("ui/openModal",N["Bd"])}),a='<a data-action="open-settings">Turn on saving manual executions</a> and run again to see what happened after this node.'),this.$titleSet(r.name,"IDLE"),this.$showToast({title:"Workflow started waiting",message:a+' <a href="https://docs.n8n.io/nodes/n8n-nodes-base.wait/" target="_blank">More info</a>',type:"success",duration:0})}else if(!0!==o.finished)this.$titleSet(r.name,"ERROR"),this.$showMessage({title:"Problem executing workflow",message:i,type:"error",duration:0});else{this.$titleSet(r.name,"IDLE");const e=this.$store.getters.getWorkflowExecution;if(e&&e.executedNode){const t=this.$store.getters.getNodeByName(e.executedNode),s=t&&this.$store.getters["nodeTypes/getNodeType"](t.type,t.typeVersion),n=e&&e.executedNode&&e.data&&e.data.resultData&&e.data.resultData.runData&&e.data.resultData.runData[e.executedNode];t&&s&&!n?this.$showMessage({title:this.$locale.baseText("pushConnection.pollingNode.dataNotFound",{interpolate:{service:Object(We["i"])(s)}}),message:this.$locale.baseText("pushConnection.pollingNode.dataNotFound.message",{interpolate:{service:Object(We["i"])(s)}}),type:"success"}):this.$showMessage({title:this.$locale.baseText("pushConnection.nodeExecutedSuccessfully"),type:"success"})}else this.$showMessage({title:this.$locale.baseText("pushConnection.workflowExecutedSuccessfully"),type:"success"})}o.data.resultData.runData=this.$store.getters.getWorkflowRunData,this.$store.commit("setExecutingNode",null),this.$store.commit("setWorkflowExecutionData",o),this.$store.commit("removeActiveAction","workflowRunning"),this.updateNodesExecutionIssues();let l=0;o.data.resultData.lastNodeExecuted&&!i&&(l=o.data.resultData.runData[o.data.resultData.lastNodeExecuted][0].data.main[0].length),this.$externalHooks().run("pushConnection.executionFinished",{itemsCount:l,nodeName:o.data.resultData.lastNodeExecuted,errorMessage:i,runDataExecutedStartData:o.data.startData,resultDataError:o.data.resultData.error})}else if("executionStarted"===n.type){const e=n.data,t={id:e.executionId,finished:!1,mode:e.mode,startedAt:e.startedAt,retryOf:e.retryOf,workflowId:e.workflowId,workflowName:e.workflowName};this.$store.commit("addActiveExecution",t)}else if("nodeExecuteAfter"===n.type){const e=n.data;this.$store.commit("addNodeExecutionData",e)}else if("nodeExecuteBefore"===n.type){const e=n.data;this.$store.commit("setExecutingNode",e.nodeName)}else if("testWebhookDeleted"===n.type){const e=n.data;e.workflowId===this.$store.getters.workflowId&&(this.$store.commit("setExecutionWaitingForWebhook",!1),this.$store.commit("removeActiveAction","workflowRunning"))}else if("testWebhookReceived"===n.type){const e=n.data;e.workflowId===this.$store.getters.workflowId&&(this.$store.commit("setExecutionWaitingForWebhook",!1),this.$store.commit("setActiveExecutionId",e.executionId)),this.processWaitingPushMessages()}else if("reloadNodeType"===n.type)this.$store.dispatch("nodeTypes/getFullNodesProperties",[n.data]);else if("removeNodeType"===n.type){const e=n.data,t=[e];this.$store.dispatch("credentials/fetchCredentialTypes").then(()=>{this.$store.commit("nodeTypes/removeNodeTypes",t)})}return!0}}});var Sl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.workflowName?s("div",{staticClass:"container"},[s("BreakpointsObserver",{staticClass:"name-container",attrs:{valueXS:15,valueSM:25,valueMD:50},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.value;return[s("ShortenName",{attrs:{name:e.workflowName,limit:n,custom:!0},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.shortenedName;return[s("InlineTextEdit",{staticClass:"name",attrs:{value:e.workflowName,previewValue:n,isEditEnabled:e.isNameEditEnabled,maxLength:e.MAX_WORKFLOW_NAME_LENGTH,placeholder:"Enter workflow name"},on:{toggle:e.onNameToggle,submit:e.onNameSubmit}})]}}],null,!0)})]}}],null,!1,4183662312)}),e.areTagsEnabled?s("span",{staticClass:"tags"},[e.isTagsEditEnabled?s("div",[s("TagsDropdown",{ref:"dropdown",staticClass:"tags-edit",attrs:{createEnabled:!0,currentTagIds:e.appliedTagIds,eventBus:e.tagsEditBus,placeholder:e.$locale.baseText("workflowDetails.chooseOrCreateATag")},on:{blur:e.onTagsBlur,update:e.onTagsUpdate,esc:e.onTagsEditEsc}})],1):0===e.currentWorkflowTagIds.length?s("div",[s("span",{staticClass:"add-tag clickable",on:{click:e.onTagsEditEnable}},[e._v(" + "+e._s(e.$locale.baseText("workflowDetails.addTag"))+" ")])]):s("TagsContainer",{key:e.currentWorkflowId,attrs:{tagIds:e.currentWorkflowTagIds,clickable:!0,responsive:!0},on:{click:e.onTagsEditEnable}})],1):s("span",{staticClass:"tags"}),s("PushConnectionTracker",{staticClass:"actions"},[[s("span",{staticClass:"activator"},[s("span",[e._v(e._s(e.$locale.baseText("workflowDetails.active")+":"))]),s("WorkflowActivator",{attrs:{"workflow-active":e.isWorkflowActive,"workflow-id":e.currentWorkflowId}})],1),s("SaveButton",{attrs:{saved:!this.isDirty&&!this.isNewWorkflow,disabled:e.isWorkflowSaving},on:{click:e.onSaveButtonClick}})]],2)],1):e._e()},Dl=[],Il=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{attrs:{title:e.name}},[e._t("default",null,{shortenedName:e.shortenedName})],2)},Ol=[];const Pl=25,Al=4;var Ml=n["default"].extend({name:"ShortenName",props:["name","limit"],computed:{shortenedName(){return Object(We["p"])(this.name,this.limit||Pl,Al)}}}),Ll=Ml,Rl=Object(v["a"])(Ll,Il,Ol,!1,null,null,null),Wl=Rl.exports,Bl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.pushConnectionActive?e._t("default"):s("div",{staticClass:"push-connection-lost primary-color"},[s("n8n-tooltip",{attrs:{placement:"bottom-end"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$locale.baseText("pushConnectionTracker.cannotConnectToServer"))},slot:"content"}),s("span",[s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),e._v(" "+e._s(e.$locale.baseText("pushConnectionTracker.connectionLost"))+" ")],1)])],1)],2)},Vl=[],Ul=n["default"].extend({name:"PushConnectionTracker",computed:{...Object(D["b"])(["pushConnectionActive"])}}),jl=Ul,Fl=Object(v["a"])(jl,Bl,Vl,!1,null,null,null),zl=Fl.exports,Hl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"inline-edit",on:{keydown:function(e){e.stopPropagation()}}},[e.isEditEnabled?s("span",[s("ExpandableInputEdit",{attrs:{placeholder:e.placeholder,value:e.newValue,maxlength:e.maxLength,autofocus:!0,eventBus:e.inputBus},on:{input:e.onInput,esc:e.onEscape,blur:e.onBlur,enter:e.submit}})],1):s("span",{staticClass:"preview",on:{click:e.onClick}},[s("ExpandableInputPreview",{attrs:{value:e.previewValue||e.value}})],1)])},Gl=[],Kl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ExpandableInputBase",{attrs:{value:e.value,placeholder:e.placeholder}},[s("input",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],ref:"input",staticClass:"el-input__inner",attrs:{placeholder:e.placeholder,maxlength:e.maxlength,size:"4"},domProps:{value:e.value},on:{input:e.onInput,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onEscape.apply(null,arguments)}]}})])},Yl=[],ql=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"el-input":!0,"static-size":e.staticSize},attrs:{"data-value":e.hiddenValue}},[e._t("default")],2)},Jl=[],Xl=n["default"].extend({name:"ExpandableInputBase",props:["value","placeholder","staticSize"],computed:{hiddenValue(){let e=this.value.replace(/\s/g,".");return e||(e=this.$props.placeholder),""+e}}}),Ql=Xl,Zl=(s("83e7"),Object(v["a"])(Ql,ql,Jl,!1,null,"24856870",null)),ec=Zl.exports,tc=n["default"].extend({components:{ExpandableInputBase:ec},name:"ExpandableInputEdit",props:["value","placeholder","maxlength","autofocus","eventBus"],mounted(){this.$props.autofocus&&this.$refs.input&&this.focus(),this.$props.eventBus&&this.$props.eventBus.$on("focus",()=>{this.focus()})},methods:{focus(){this.$refs.input&&this.$refs.input.focus()},onInput(){this.$emit("input",this.$refs.input.value)},onEnter(){this.$emit("enter",this.$refs.input.value)},onClickOutside(e){"click"===e.type&&this.$emit("blur",this.$refs.input.value)},onEscape(){this.$emit("esc")}}}),sc=tc,nc=Object(v["a"])(sc,Kl,Yl,!1,null,null,null),ac=nc.exports,oc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ExpandableInputBase",{attrs:{value:e.value,staticSize:!0}},[[s("input",{class:{"el-input__inner":!0,clickable:!0},attrs:{disabled:!0,size:"4"},domProps:{value:e.value}})]],2)},ic=[],rc=n["default"].extend({components:{ExpandableInputBase:ec},name:"ExpandableInputPreview",props:["value"]}),lc=rc,cc=(s("60f6"),Object(v["a"])(lc,oc,ic,!1,null,"1089bad1",null)),dc=cc.exports,uc=n["default"].extend({name:"InlineTextEdit",components:{ExpandableInputEdit:ac,ExpandableInputPreview:dc},props:["isEditEnabled","value","placeholder","maxLength","previewValue"],data(){return{newValue:"",escPressed:!1,disabled:!1,inputBus:new n["default"]}},methods:{onInput(e){this.disabled||(this.newValue=e)},onClick(){this.disabled||(this.$data.newValue=this.$props.value,this.$emit("toggle"))},onBlur(){this.disabled||(this.$data.escPressed||this.submit(),this.$data.escPressed=!1)},submit(){if(this.disabled)return;const e=e=>{this.$data.disabled=!1,e||this.$data.inputBus.$emit("focus")};this.$data.disabled=!0,this.$emit("submit",this.newValue,e)},onEscape(){this.disabled||(this.$data.escPressed=!0,this.$emit("toggle"))}}}),pc=uc,hc=(s("9a07"),Object(v["a"])(pc,Hl,Gl,!1,null,"7aaf555c",null)),mc=hc.exports,gc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._t("default",null,{bp:e.bp,value:e.value})],2)},fc=[],wc=s("73b3"),yc=Object(K["a"])(cn["a"],wc["a"]).extend({name:"BreakpointsObserver",props:["valueXS","valueXL","valueLG","valueMD","valueSM","valueDefault"],data(){return{width:window.innerWidth}},created(){window.addEventListener("resize",this.onResize)},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.callDebounced("onResizeEnd",{debounceTime:50})},onResizeEnd(){this.$data.width=window.innerWidth}},computed:{bp(){return this.$data.width<N["i"]?"XS":this.$data.width>=N["j"]?"XL":this.$data.width>=N["g"]?"LG":this.$data.width>=N["h"]?"MD":"SM"},value(){return void 0!==this.$props.valueXS&&this.$data.width<N["i"]?this.$props.valueXS:void 0!==this.$props.valueXL&&this.$data.width>=N["j"]?this.$props.valueXL:void 0!==this.$props.valueLG&&this.$data.width>=N["g"]?this.$props.valueLG:void 0!==this.$props.valueMD&&this.$data.width>=N["h"]?this.$props.valueMD:void 0!==this.$props.valueSM?this.$props.valueSM:this.$props.valueDefault}}}),bc=yc,vc=Object(v["a"])(bc,gc,fc,!1,null,null,null),xc=vc.exports;const kc=(e,t)=>{if(e.length!==t.length)return!0;const s=new Set(e);return t.reduce((e,t)=>e||!s.has(t),!1)};var Tc=Object(K["a"])(we["a"]).extend({name:"WorkflowDetails",components:{TagsContainer:Oi,PushConnectionTracker:zl,ShortenName:Wl,WorkflowActivator:Bi,SaveButton:Ms,TagsDropdown:Yn,InlineTextEdit:mc,BreakpointsObserver:xc},data(){return{isTagsEditEnabled:!1,isNameEditEnabled:!1,appliedTagIds:[],tagsEditBus:new n["default"],MAX_WORKFLOW_NAME_LENGTH:N["Zb"],tagsSaving:!1}},computed:{...Object(D["b"])({isWorkflowActive:"isActive",workflowName:"workflowName",isDirty:"getStateIsDirty",currentWorkflowTagIds:"workflowTags"}),...Object(D["b"])("settings",["areTagsEnabled"]),isNewWorkflow(){return!this.$route.params.name},isWorkflowSaving(){return this.$store.getters.isActionActive("workflowSaving")},currentWorkflowId(){return this.$route.params.name}},methods:{async onSaveButtonClick(){const e=await this.saveCurrentWorkflow();e&&this.$store.dispatch("settings/fetchPromptsData")},onTagsEditEnable(){this.$data.appliedTagIds=this.currentWorkflowTagIds,this.$data.isTagsEditEnabled=!0,setTimeout(()=>{this.$data.isNameEditEnabled=!1,this.$data.tagsEditBus.$emit("focus")},0)},async onTagsUpdate(e){this.$data.appliedTagIds=e},async onTagsBlur(){const e=this.currentWorkflowTagIds,t=this.$data.appliedTagIds;if(!kc(e,t))return void(this.$data.isTagsEditEnabled=!1);if(this.$data.tagsSaving)return;this.$data.tagsSaving=!0;const s=await this.saveCurrentWorkflow({tags:t});this.$telemetry.track("User edited workflow tags",{workflow_id:this.currentWorkflowId,new_tag_count:t.length}),this.$data.tagsSaving=!1,s&&(this.$data.isTagsEditEnabled=!1)},onTagsEditEsc(){this.$data.isTagsEditEnabled=!1},onNameToggle(){this.$data.isNameEditEnabled=!this.$data.isNameEditEnabled,this.$data.isNameEditEnabled&&(this.$data.isTagsEditEnabled&&this.onTagsBlur(),this.$data.isTagsEditEnabled=!1)},async onNameSubmit(e,t){const s=e.trim();if(!s)return this.$showMessage({title:this.$locale.baseText("workflowDetails.showMessage.title"),message:this.$locale.baseText("workflowDetails.showMessage.message"),type:"error"}),void t(!1);if(s===this.workflowName)return this.$data.isNameEditEnabled=!1,void t(!0);const n=await this.saveCurrentWorkflow({name:e});n&&(this.$data.isNameEditEnabled=!1),t(n)}},watch:{currentWorkflowId(){this.$data.isTagsEditEnabled=!1,this.$data.isNameEditEnabled=!1}}}),$c=Tc,_c=(s("c3c1"),Object(v["a"])($c,Sl,Dl,!1,null,"7aca59e1",null)),Cc=_c.exports,Nc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("span",{staticClass:"title"},[e._v(" "+e._s(e.$locale.baseText("executionDetails.executionId")+":")+" "),s("span",[s("strong",[e._v(e._s(e.executionId))]),e._v(" "),e.executionFinished?s("font-awesome-icon",{staticClass:"execution-icon success",attrs:{icon:"check",title:e.$locale.baseText("executionDetails.executionWasSuccessful")}}):e.executionWaiting?s("font-awesome-icon",{staticClass:"execution-icon warning",attrs:{icon:"clock",title:e.$locale.baseText("executionDetails.executionWaiting")}}):s("font-awesome-icon",{staticClass:"execution-icon error",attrs:{icon:"times",title:e.$locale.baseText("executionDetails.executionFailed")}})],1),e._v(" "+e._s(e.$locale.baseText("executionDetails.of"))+" "),s("span",{staticClass:"primary-color clickable",attrs:{title:e.$locale.baseText("executionDetails.openWorkflow")}},[s("ShortenName",{attrs:{name:e.workflowName},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.shortenedName;return[s("span",{on:{click:function(t){return e.openWorkflow(e.workflowExecution.workflowId)}}},[e._v(' "'+e._s(n)+'" ')])]}}])})],1),e._v(" "+e._s(e.$locale.baseText("executionDetails.workflow"))+" ")]),s("ReadOnly",{staticClass:"read-only"})],1)},Ec=[],Sc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-tooltip",{staticClass:"primary-color",attrs:{placement:"bottom-end"}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("span",{domProps:{innerHTML:e._s(e.$locale.baseText("executionDetails.readOnly.youreViewingTheLogOf"))}})]),s("div",[s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),s("span",{domProps:{textContent:e._s(e.$locale.baseText("executionDetails.readOnly.readOnly"))}})],1)])},Dc=[],Ic=n["default"].extend({name:"ReadOnly"}),Oc=Ic,Pc=(s("0d28"),Object(v["a"])(Oc,Sc,Dc,!1,null,"30f05b7a",null)),Ac=Pc.exports,Mc=Object(K["a"])(Nl).extend({name:"ExecutionDetails",components:{ShortenName:Wl,ReadOnly:Ac},computed:{executionId(){return this.$route.params.id},executionFinished(){const e=this.$store.getters.getWorkflowExecution;return!!e&&e.finished},executionWaiting(){const e=this.$store.getters.getWorkflowExecution;return!!e&&!!e.waitTill},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowName(){return this.$store.getters.workflowName}},methods:{async openWorkflow(e){this.$titleSet(this.workflowName,"IDLE"),this.$router.push({name:"NodeViewExisting",params:{name:e}})}}}),Lc=Mc,Rc=(s("ad44"),Object(v["a"])(Lc,Nc,Ec,!1,null,"c44717ac",null)),Wc=Rc.exports,Bc=Object(K["a"])(El).extend({name:"MainHeader",components:{WorkflowDetails:Cc,ExecutionDetails:Wc},computed:{...Object(D["b"])("ui",["sidebarMenuCollapsed"]),isExecutionPage(){return this.$route.name===N["ud"].EXECUTION},activeNode(){return this.$store.getters.activeNode},hideMenuBar(){return Boolean(this.activeNode&&this.activeNode.type!==N["bd"])}},async mounted(){this.pushConnect()},beforeDestroy(){this.pushDisconnect()}}),Vc=Bc,Uc=(s("6be7"),Object(v["a"])(Vc,_l,Cl,!1,null,null,null)),jc=Uc.exports,Fc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"side-menu"}},[s("input",{ref:"importFile",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.handleFileImport()}}}),s("div",{staticClass:"side-menu-wrapper",class:{expanded:!e.isCollapsed}},[s("div",{staticClass:"clickable",attrs:{id:"collapse-change-button"},on:{click:e.toggleCollapse}},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"angle-right"}})],1),s("n8n-menu",{attrs:{"default-active":"workflow",collapse:e.isCollapsed},on:{select:e.handleSelect}},[s("n8n-menu-item",{staticClass:"logo-item",attrs:{index:"logo"}},[s("a",{attrs:{href:"https://n8n.io",target:"_blank"}},[s("img",{staticClass:"icon",attrs:{src:e.basePath+"n8n-icon-small.png",alt:"n8n.io"}}),s("span",{staticClass:"logo-text",attrs:{slot:"title"},slot:"title"},[e._v("n8n.io")])])]),s("MenuItemsIterator",{attrs:{items:e.sidebarMenuTopItems,root:!0}}),s("el-submenu",{attrs:{index:"workflow",title:"Workflow",popperClass:"sidebar-popper"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"network-wired"}}),e._v(" "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.workflows")))])],1),s("n8n-menu-item",{attrs:{index:"workflow-new"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"file"}}),e._v(" "),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.new")))])],1)],2),e.isTemplatesEnabled?s("n8n-menu-item",{attrs:{index:"template-new"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"box-open"}}),e._v(" "),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.newTemplate")))])],1)],2):e._e(),s("n8n-menu-item",{attrs:{index:"workflow-open"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"folder-open"}}),e._v(" "),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.open")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-save",disabled:!e.onWorkflowPage}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"save"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.save")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-duplicate",disabled:!e.onWorkflowPage||!e.currentWorkflow}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"copy"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.duplicate")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-delete",disabled:!e.onWorkflowPage||!e.currentWorkflow}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"trash"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.delete")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-download",disabled:!e.onWorkflowPage}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"file-download"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.download")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-import-url",disabled:!e.onWorkflowPage}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"cloud"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.importFromUrl")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-import-file",disabled:!e.onWorkflowPage}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"hdd"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.importFromFile")))])],1)],2),s("n8n-menu-item",{attrs:{index:"workflow-settings",disabled:!e.onWorkflowPage||!e.currentWorkflow}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"cog"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.settings")))])],1)],2)],2),e.isTemplatesEnabled?s("n8n-menu-item",{attrs:{index:"templates"}},[s("font-awesome-icon",{attrs:{icon:"box-open"}}),e._v(" "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.templates")))])],1):e._e(),s("n8n-menu-item",{attrs:{index:"credentials"}},[s("font-awesome-icon",{attrs:{icon:"key"}}),e._v(" "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.credentials")))])],1),s("n8n-menu-item",{attrs:{index:"executions"}},[s("font-awesome-icon",{attrs:{icon:"tasks"}}),e._v(" "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.executions")))])],1),e.canUserAccessSettings&&e.currentUser?s("n8n-menu-item",{attrs:{index:"settings"}},[s("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("settings")))])],1):e._e(),s("el-submenu",{staticClass:"help-menu",attrs:{index:"help",title:"Help",popperClass:"sidebar-popper"}},[s("template",{slot:"title"},[s("font-awesome-icon",{attrs:{icon:"question"}}),e._v(" "),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.help")))])],1),s("MenuItemsIterator",{attrs:{items:e.helpMenuItems,afterItemClick:e.trackHelpItemClick}}),s("n8n-menu-item",{attrs:{index:"help-about"}},[s("template",{slot:"title"},[s("font-awesome-icon",{staticClass:"about-icon",attrs:{icon:"info"}}),s("span",{staticClass:"item-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("mainSidebar.aboutN8n")))])],1)],2)],2),s("MenuItemsIterator",{attrs:{items:e.sidebarMenuBottomItems,root:!0}}),s("div",{class:"footer-menu-items "+(e.currentUser?"logged-in":"")},[e.hasVersionUpdates?s("n8n-menu-item",{staticClass:"updates",attrs:{index:"updates"},on:{click:e.openUpdatesPanel}},[s("div",{staticClass:"gift-container"},[s("GiftNotificationIcon")],1),s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.nextVersions.length>99?"99+":e.nextVersions.length)+" update"+e._s(e.nextVersions.length>1?"s":"")+" available")])]):e._e(),e.canUserAccessSidebarUserInfo&&e.currentUser?s("el-dropdown",{attrs:{placement:"right-end",trigger:"click"},on:{command:e.onUserActionToggle}},[s("div",{staticClass:"ph-no-capture"},[s("n8n-menu-item",{staticClass:"user"},[s("div",{staticClass:"avatar"},[s("n8n-avatar",{attrs:{firstName:e.currentUser.firstName,lastName:e.currentUser.lastName,size:"small"}})],1),e.isCollapsed?e._e():s("span",{staticClass:"item-title-root",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.currentUser.fullName)+" ")])])],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"settings"}},[e._v(" "+e._s(e.$locale.baseText("settings"))+" ")]),s("el-dropdown-item",{attrs:{command:"logout"}},[e._v(" "+e._s(e.$locale.baseText("auth.signout"))+" ")])],1)],1):e._e()],1)],1)],1)])},zc=[],Hc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style["gift-icon"]},[s("font-awesome-icon",{attrs:{icon:"gift"}}),s("div",{class:e.$style["notification"]},[s("div")])],1)},Gc=[],Kc=s("dc0b"),Yc={};function qc(e){this["$style"]=Kc["default"].locals||Kc["default"]}var Jc=Object(v["a"])(Yc,Hc,Gc,!1,qc,null,null),Xc=Jc.exports;const Qc=Object(K["a"])(ln["a"],Dt["a"],we["a"],Y["a"],Nl).extend({methods:{async runWorkflowApi(e){if(!1===this.$store.getters.pushConnectionActive)throw new Error(this.$locale.baseText("workflowRun.noActiveConnectionToTheServer"));let t;this.$store.commit("addActiveAction","workflowRunning");try{t=await this.restApi().runWorkflow(e)}catch(s){throw this.$store.commit("removeActiveAction","workflowRunning"),s}return void 0!==t.executionId&&this.$store.commit("setActiveExecutionId",t.executionId),!0===t.waitingForWebhook&&this.$store.commit("setExecutionWaitingForWebhook",!0),t},async runWorkflow(e,t){const s=this.getCurrentWorkflow();if(!0!==this.$store.getters.isActionActive("workflowRunning")){this.$titleSet(s.name,"EXECUTING"),this.clearAllStickyNotifications();try{const n=this.$store.getters.nodesIssuesExist;if(!0===n){const t=this.checkReadyForExecution(s,e);if(null!==t){const n=[];let a;const o=[],i=[];for(const e of Object.keys(t)){a=Ce["NodeHelpers"].nodeIssuesToString(t[e]);let s="UNKNOWN";const r=this.$store.getters.getNodeByName(e);r&&(s=r.type),i.push(s);const l={node_type:s,error:"",caused_by_credential:!!t[e].credentials};for(const t of a)n.push(`<strong>${e}</strong>: ${t}`),l.error=l.error.concat(", ",t);o.push(l)}return this.$showMessage({title:this.$locale.baseText("workflowRun.showMessage.title"),message:n.join("<br />"),type:"error",duration:0}),this.$titleSet(s.name,"ERROR"),this.$externalHooks().run("workflowRun.runError",{errorMessages:n,nodeName:e}),void this.getWorkflowDataToSave().then(t=>{this.$telemetry.track("Workflow execution preflight failed",{workflow_id:s.id,workflow_name:s.name,execution_type:e?"node":"workflow",node_graph_string:JSON.stringify(Ce["TelemetryHelpers"].generateNodesGraph(t,this.getNodeTypes()).nodeGraph),error_node_types:JSON.stringify(i),errors:JSON.stringify(o)})})}}let a=[];void 0!==e&&(a=s.getParentNodes(e,"main",1));const o=this.$store.getters.getWorkflowRunData;let i;const r=[];if(null!==o&&0!==Object.keys(o).length){i={};for(const e of a){const t=s.getParentNodes(e,"main");if(!s.nodes[e].disabled){t.push(e);for(const e of t){if(void 0===o[e]||0===o[e].length){r.push(e);break}i[e]=o[e].slice(0,1)}}}0===Object.keys(i).length&&(i=void 0)}0===r.length&&void 0!==e&&r.push(e);const l=this.$store.getters.isNewWorkflow,c=this.$store.getters.currentWorkflowHasWebhookNode;l&&c&&await this.saveCurrentWorkflow();const d=await this.getWorkflowDataToSave(),u={workflowData:d,runData:i,pinData:d.pinData,startNodes:r};e&&(u.destinationNode=e);const p={id:"__IN_PROGRESS__",finished:!1,mode:"manual",startedAt:new Date,stoppedAt:void 0,workflowId:s.id,executedNode:e,data:{resultData:{runData:i||{},pinData:d.pinData,startNodes:r,workflowData:d}},workflowData:{id:this.$store.getters.workflowId,name:d.name,active:d.active,createdAt:0,updatedAt:0,...d}};this.$store.commit("setWorkflowExecutionData",p),this.updateNodesExecutionIssues();const h=await this.runWorkflowApi(u);return this.$externalHooks().run("workflowRun.runWorkflow",{nodeName:e,source:t}),h}catch(n){return this.$titleSet(s.name,"ERROR"),void this.$showError(n,this.$locale.baseText("workflowRun.showError.title"))}}}}});var Zc=s("7ada"),ed=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.items,(function(t){return s("n8n-menu-item",{key:t.id,attrs:{index:t.id},on:{click:function(s){return e.onClick(t)}}},[s("font-awesome-icon",{attrs:{icon:t.properties.icon}}),s("span",{class:{"item-title-root":e.root,"item-title":!e.root},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.properties.title))])],1)})),1)},td=[],sd=n["default"].extend({name:"MenuItemsIterator",props:["items","root","afterItemClick"],methods:{onClick(e){if(e&&"link"===e.type&&e.properties){const t=e.properties.href;if(!t)return;e.properties.newWindow?window.open(t):window.location.assign(e.properties.href),this.afterItemClick&&this.afterItemClick(e.id)}}}}),nd=sd,ad=Object(v["a"])(nd,ed,td,!1,null,null,null),od=ad.exports,id=Object(K["a"])(cn["a"],Dt["a"],Y["a"],Nl,we["a"],Qc,Mr).extend({name:"MainSidebar",components:{ExecutionsList:cr,GiftNotificationIcon:Xc,WorkflowSettings:ci,MenuItemsIterator:od},data(){return{basePath:this.$store.getters.getBaseUrl,stopExecutionInProgress:!1}},computed:{...Object(D["b"])("ui",{isCollapsed:"sidebarMenuCollapsed"}),...Object(D["b"])("versions",["hasVersionUpdates","nextVersions"]),...Object(D["b"])("users",["canUserAccessSidebarUserInfo","currentUser"]),...Object(D["b"])("settings",["isTemplatesEnabled"]),canUserAccessSettings(){const e=this.findFirstAccessibleSettingsRoute();return null!==e},helpMenuItems(){return[{id:"quickstart",type:"link",properties:{href:"https://www.youtube.com/watch?v=RpjQTGKm-ok",title:this.$locale.baseText("mainSidebar.helpMenuItems.quickstart"),icon:"video",newWindow:!0}},{id:"docs",type:"link",properties:{href:"https://docs.n8n.io",title:this.$locale.baseText("mainSidebar.helpMenuItems.documentation"),icon:"book",newWindow:!0}},{id:"forum",type:"link",properties:{href:"https://community.n8n.io",title:this.$locale.baseText("mainSidebar.helpMenuItems.forum"),icon:"users",newWindow:!0}},{id:"examples",type:"link",properties:{href:"https://docs.n8n.io/courses",title:this.$locale.baseText("mainSidebar.helpMenuItems.course"),icon:"graduation-cap",newWindow:!0}}]},exeuctionId(){return this.$route.params.id},executionFinished(){if(!this.isExecutionPage)return!1;const e=this.$store.getters.getWorkflowExecution;return null!==e&&!0===e.finished},executionWaitingForWebhook(){return this.$store.getters.executionWaitingForWebhook},isExecutionPage(){return this.$route.name===N["ud"].EXECUTION},isWorkflowActive(){return this.$store.getters.isActive},currentWorkflow(){return this.$route.params.name},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowName(){return this.$store.getters.workflowName},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},sidebarMenuTopItems(){return this.$store.getters.sidebarMenuItems.filter(e=>"top"===e.position)},sidebarMenuBottomItems(){return this.$store.getters.sidebarMenuItems.filter(e=>"bottom"===e.position)},onWorkflowPage(){return this.$route.meta&&this.$route.meta.nodeView}},methods:{trackHelpItemClick(e){this.$telemetry.track("User clicked help resource",{type:e,workflow_id:this.$store.getters.workflowId})},async onUserActionToggle(e){"logout"===e?this.onLogout():this.$router.push({name:N["ud"].PERSONAL_SETTINGS})},async onLogout(){try{await this.$store.dispatch("users/logout");const e=this.$router.resolve({name:N["ud"].SIGNIN});window.open(e.href,"_self")}catch(e){this.$showError(e,this.$locale.baseText("auth.signout.error"))}},toggleCollapse(){this.$store.commit("ui/toggleSidebarMenuCollapse")},clearExecutionData(){this.$store.commit("setWorkflowExecutionData",null),this.updateNodesExecutionIssues()},openTagManager(){this.$store.dispatch("ui/openModal",N["fd"])},openUpdatesPanel(){this.$store.dispatch("ui/openModal",N["td"])},async stopExecution(){const e=this.$store.getters.activeExecutionId;if(null!==e){try{this.stopExecutionInProgress=!0,await this.restApi().stopCurrentExecution(e),this.$showMessage({title:this.$locale.baseText("mainSidebar.showMessage.stopExecution.title"),type:"success"})}catch(t){this.$showError(t,this.$locale.baseText("mainSidebar.showError.stopExecution.title"))}this.stopExecutionInProgress=!1}},async openWorkflow(e){this.$router.push({name:N["ud"].WORKFLOW,params:{name:e}}),this.$store.commit("ui/closeAllModals")},async handleFileImport(){const e=new FileReader;e.onload=e=>{const t=e.target.result;let s;try{s=JSON.parse(t)}catch(n){return void this.$showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleFileImport.title"),message:this.$locale.baseText("mainSidebar.showMessage.handleFileImport.message"),type:"error"})}this.$root.$emit("importWorkflowData",{data:s})};const t=this.$refs.importFile;null!==t&&null!==t.files&&0!==t.files.length&&e.readAsText(t.files[0])},async handleSelect(e,t){if("workflow-open"===e)this.$store.dispatch("ui/openModal",N["Ad"]);else if("workflow-import-file"===e)this.$refs.importFile.click();else if("workflow-import-url"===e)try{const e=await this.$prompt(this.$locale.baseText("mainSidebar.prompt.workflowUrl")+":",this.$locale.baseText("mainSidebar.prompt.importWorkflowFromUrl")+":",{confirmButtonText:this.$locale.baseText("mainSidebar.prompt.import"),cancelButtonText:this.$locale.baseText("mainSidebar.prompt.cancel"),inputErrorMessage:this.$locale.baseText("mainSidebar.prompt.invalidUrl"),inputPattern:/^http[s]?:\/\/.*\.json$/i});this.$root.$emit("importWorkflowUrl",{url:e.value})}catch(s){}else if("workflow-delete"===e){const e=await this.confirmMessage(this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.message",{interpolate:{workflowName:this.workflowName}}),this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.headline"),"warning",this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.confirmButtonText"),this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.cancelButtonText"));if(!1===e)return;try{await this.restApi().deleteWorkflow(this.currentWorkflow)}catch(n){return void this.$showError(n,this.$locale.baseText("mainSidebar.showError.stopExecution.title"))}this.$store.commit("setStateDirty",!1),this.$titleReset(),this.$showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleSelect1.title"),type:"success"}),this.$router.push({name:N["ud"].NEW_WORKFLOW})}else if("workflow-download"===e){const e=await this.getWorkflowDataToSave(),{tags:t,...s}=e;s.id&&"string"===typeof s.id&&(s.id=parseInt(s.id,10));const n={...s,meta:{instanceId:this.$store.getters.instanceId},tags:(t||[]).map(e=>{const{usageCount:t,...s}=this.$store.getters["tags/getTagById"](e);return s})},a=new Blob([JSON.stringify(n,null,2)],{type:"application/json;charset=utf-8"});let o=this.$store.getters.workflowName||"unsaved_workflow";o=o.replace(/[^a-z0-9]/gi,"_"),this.$telemetry.track("User exported workflow",{workflow_id:e.id}),Object(Zc["saveAs"])(a,o+".json")}else if("workflow-save"===e){const e=await this.saveCurrentWorkflow();e&&this.$store.dispatch("settings/fetchPromptsData")}else if("workflow-duplicate"===e)this.$store.dispatch("ui/openModal",N["W"]);else if("help-about"===e)this.trackHelpItemClick("about"),this.$store.dispatch("ui/openModal",N["a"]);else if("workflow-settings"===e)this.$store.dispatch("ui/openModal",N["Bd"]);else if("user"===e)this.$router.push({name:N["ud"].PERSONAL_SETTINGS});else if("workflow-new"===e){const e=this.$store.getters.getStateIsDirty;if(e){const e=await this.confirmModal(this.$locale.baseText("mainSidebar.confirmMessage.workflowNew.message"),this.$locale.baseText("mainSidebar.confirmMessage.workflowNew.headline"),"warning",this.$locale.baseText("mainSidebar.confirmMessage.workflowNew.confirmButtonText"),this.$locale.baseText("mainSidebar.confirmMessage.workflowNew.cancelButtonText"),!0);if(e===N["gc"]){const e=await this.saveCurrentWorkflow({},!1);e&&this.$store.dispatch("settings/fetchPromptsData"),this.$router.currentRoute.name===N["ud"].NEW_WORKFLOW?this.$root.$emit("newWorkflow"):this.$router.push({name:N["ud"].NEW_WORKFLOW}),this.$showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleSelect2.title"),type:"success"})}else if(e===N["ec"])this.$store.commit("setStateDirty",!1),this.$router.currentRoute.name===N["ud"].NEW_WORKFLOW?this.$root.$emit("newWorkflow"):this.$router.push({name:N["ud"].NEW_WORKFLOW}),this.$showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleSelect2.title"),type:"success"});else if(e===N["fc"])return}else this.$router.currentRoute.name!==N["ud"].NEW_WORKFLOW&&this.$router.push({name:N["ud"].NEW_WORKFLOW}),this.$showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleSelect3.title"),type:"success"});this.$titleReset()}else if("templates"===e||"template-new"===e)this.$router.currentRoute.name!==N["ud"].TEMPLATES&&this.$router.push({name:N["ud"].TEMPLATES});else if("credentials"===e)this.$router.currentRoute.name!==N["ud"].CREDENTIALS&&this.$router.push({name:N["ud"].CREDENTIALS});else if("execution-open-workflow"===e)null!==this.workflowExecution&&this.openWorkflow(this.workflowExecution.workflowId);else if("executions"===e)this.$store.dispatch("ui/openModal",N["fb"]);else if("settings"===e){const e=this.findFirstAccessibleSettingsRoute();if(e){const t=this.$router.resolve({name:e});this.$router.push(t.route.path)}}},findFirstAccessibleSettingsRoute(){const e=this.$router.getRoutes().filter(e=>e.meta.telemetry&&"settings"===e.meta.telemetry.pageCategory).map(e=>e.name||"");let t=null;for(const s of e)if(this.canUserAccessRouteByName(s)){t=s;break}return t}}}),rd=id,ld=(s("f895"),Object(v["a"])(rd,Fc,zc,!1,null,null,null)),cd=ld.exports,dd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"node-view-root",on:{dragover:e.onDragOver,drop:e.onDrop}},[s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.touchTap,expression:"touchTap",arg:"tap"}],staticClass:"node-view-wrapper",class:e.workflowClasses,on:{touchstart:e.mouseDown,touchend:e.mouseUp,touchmove:e.mouseMoveNodeWorkflow,mousedown:e.mouseDown,mouseup:e.mouseUp,wheel:e.wheelScroll}},[s("div",{staticClass:"node-view-background",style:e.backgroundStyle,attrs:{id:"node-view-background"}}),s("div",{staticClass:"node-view",style:e.workflowStyle,attrs:{id:"node-view"}},e._l(e.nodes,(function(t){return s("div",{key:t.id},[t.type!==e.STICKY_NODE_TYPE?s("node",{key:t.id,attrs:{name:t.name,isReadOnly:e.isReadOnly,instance:e.instance,isActive:!!e.activeNode&&e.activeNode.name===t.name,hideActions:e.pullConnActive},on:{duplicateNode:e.duplicateNode,deselectAllNodes:e.deselectAllNodes,deselectNode:e.nodeDeselectedByName,nodeSelected:e.nodeSelectedByName,removeNode:e.removeNode,runWorkflow:e.onRunNode,moved:e.onNodeMoved,run:e.onNodeRun}}):s("Sticky",{key:t.id,attrs:{name:t.name,isReadOnly:e.isReadOnly,instance:e.instance,isActive:!!e.activeNode&&e.activeNode.name===t.name,nodeViewScale:e.nodeViewScale,gridSize:e.GRID_SIZE,hideActions:e.pullConnActive},on:{deselectAllNodes:e.deselectAllNodes,deselectNode:e.nodeDeselectedByName,nodeSelected:e.nodeSelectedByName,removeNode:e.removeNode}})],1)})),0)]),s("NodeDetailsView",{attrs:{readOnly:e.isReadOnly,renaming:e.renamingActive},on:{valueChanged:e.valueChanged}}),e.createNodeActive||e.isReadOnly?e._e():s("div",{class:["node-buttons-wrapper",e.showStickyButton?"no-events":""],on:{mouseenter:e.onCreateMenuHoverIn}},[s("div",{staticClass:"node-creator-button"},[s("n8n-icon-button",{attrs:{size:"xlarge",icon:"plus",title:e.$locale.baseText("nodeView.addNode")},on:{click:function(){return e.openNodeCreator("add_node_button")}}}),s("div",{class:["add-sticky-button",e.showStickyButton?"visible-button":""],on:{click:e.addStickyNote}},[s("n8n-icon-button",{attrs:{size:"medium",type:"secondary",icon:["far","note-sticky"],title:e.$locale.baseText("nodeView.addSticky")}})],1)],1)]),s("node-creator",{attrs:{active:e.createNodeActive},on:{nodeTypeSelected:e.nodeTypeSelected,closeNodeCreator:e.closeNodeCreator}}),s("div",{class:{"zoom-menu":!0,"regular-zoom-menu":!e.isDemo,"demo-zoom-menu":e.isDemo,expanded:!e.sidebarMenuCollapsed}},[s("n8n-icon-button",{attrs:{type:"tertiary",size:"large",title:e.$locale.baseText("nodeView.zoomToFit"),icon:"expand"},on:{click:e.zoomToFit}}),s("n8n-icon-button",{attrs:{type:"tertiary",size:"large",title:e.$locale.baseText("nodeView.zoomIn"),icon:"search-plus"},on:{click:e.zoomIn}}),s("n8n-icon-button",{attrs:{type:"tertiary",size:"large",title:e.$locale.baseText("nodeView.zoomOut"),icon:"search-minus"},on:{click:e.zoomOut}}),1===e.nodeViewScale||e.isDemo?e._e():s("n8n-icon-button",{attrs:{type:"tertiary",size:"large",title:e.$locale.baseText("nodeView.resetZoom"),icon:"undo"},on:{click:e.resetZoom}})],1),e.isReadOnly?e._e():s("div",{staticClass:"workflow-execute-wrapper"},[s("n8n-button",{attrs:{loading:e.workflowRunning,label:e.runButtonText,title:e.$locale.baseText("nodeView.executesTheWorkflowFromTheStartOrWebhookNode"),size:"large",icon:"play-circle",type:"primary"},on:{click:function(t){return t.stopPropagation(),e.onRunWorkflow.apply(null,arguments)}}}),!0!==e.workflowRunning||e.executionWaitingForWebhook?e._e():s("n8n-icon-button",{staticClass:"stop-execution",attrs:{icon:"stop",size:"large",type:"secondary",title:e.stopExecutionInProgress?e.$locale.baseText("nodeView.stoppingCurrentExecution"):e.$locale.baseText("nodeView.stopCurrentExecution"),loading:e.stopExecutionInProgress},on:{click:function(t){return t.stopPropagation(),e.stopExecution()}}}),!0===e.workflowRunning&&!0===e.executionWaitingForWebhook?s("n8n-icon-button",{staticClass:"stop-execution",attrs:{icon:"stop",size:"large",title:e.$locale.baseText("nodeView.stopWaitingForWebhookCall"),type:"secondary"},on:{click:function(t){return t.stopPropagation(),e.stopWaitingForWebhook()}}}):e._e(),e.isReadOnly||!e.workflowExecution||e.workflowRunning?e._e():s("n8n-icon-button",{attrs:{title:e.$locale.baseText("nodeView.deletesTheCurrentExecutionData"),icon:"trash",size:"large"},on:{click:function(t){return t.stopPropagation(),e.clearExecutionData()}}})],1)],1)},ud=[],pd=s("0369");const hd=n["default"].extend({data(){return{isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isMacOs:/(ipad|iphone|ipod|mac)/i.test(navigator.platform)}},computed:{controlKeyCode(){return this.isMacOs?"Meta":"Control"}},methods:{isCtrlKeyPressed(e){return!0===this.isTouchDevice||(this.isMacOs?e.metaKey:e.ctrlKey)}}});var md=s("2159");const gd="drop-add-node",fd="midpoint-arrow",wd="endpoint-arrow",yd="run-items-label",bd="connection-actions",vd=26,xd="input-name-label",kd=[-3,.5],Td=[-4.5,.5],$d="output-name-label",_d=20,Cd=90,Nd=100,Ed=100,Sd=240,Dd=300,Id=65,Od=65,Pd=300,Ad=2*Ed+_d,Md=140,Ld="-input",Rd="-output",Wd={name:"Start",type:N["ad"],typeVersion:1,position:[Sd,Dd],parameters:{}},Bd={name:N["Kc"],type:N["bd"],typeVersion:1,position:[-260,200],parameters:{height:300,width:380}},Vd=["N8nCustom",{cornerRadius:12,stub:vd+10,targetGap:4,alwaysRespectStubs:!1,loopbackVerticalLength:Ed+_d,loopbackMinimum:Md,getEndpointOffset(e){const t=10,s=e&&e.__meta?e.__meta.index:0,n=e&&e.__meta?e.__meta.totalEndpoints:0,a=su(e,$d),o=a&&a.label&&a.label.length>1?10:0,i=n>3?24:0;return s*t+o+i}}],Ud={stroke:Object(We["h"])("--color-foreground-dark"),strokeWidth:2,outlineWidth:12,outlineStroke:"transparent"},jd={...Ud,stroke:Object(We["h"])("--color-foreground-xdark")},Fd={...Ud,stroke:Object(We["h"])("--color-primary")},zd={...Ud,stroke:Object(We["h"])("--color-success-light")},Hd=[["Arrow",{id:wd,location:1,width:12,foldback:1,length:10,visible:!0}],["Arrow",{id:fd,location:.5,width:12,foldback:1,length:10,visible:!1}]],Gd={input:{1:[[.01,.5,-1,0]],2:[[.01,.3,-1,0],[.01,.7,-1,0]],3:[[.01,.25,-1,0],[.01,.5,-1,0],[.01,.75,-1,0]],4:[[.01,.2,-1,0],[.01,.4,-1,0],[.01,.6,-1,0],[.01,.8,-1,0]]},output:{1:[[.99,.5,1,0]],2:[[.99,.3,1,0],[.99,.7,1,0]],3:[[.99,.25,1,0],[.99,.5,1,0],[.99,.75,1,0]],4:[[.99,.2,1,0],[.99,.4,1,0],[.99,.6,1,0],[.99,.8,1,0]]}},Kd=(e,t)=>({width:8,height:e&&e.outputs.length>2?18:20,fill:Object(We["h"])(t),stroke:Object(We["h"])(t),lineWidth:0}),Yd=e=>["Label",{id:xd,location:kd,label:e,cssClass:"node-input-endpoint-label",visible:!0}],qd=(e,t)=>({radius:e&&e.outputs.length>2?7:9,fill:Object(We["h"])(t),outlineStroke:"none"}),Jd=e=>["Label",{id:$d,location:[1.9,.5],label:e,cssClass:"node-output-endpoint-label",visible:!0}],Xd=e=>e.reduce((e,t)=>t.position[0]>e.position[0]||t.position[1]>e.position[1]?e:t),Qd=e=>e.reduce((e,t)=>{const s=t.type===N["bd"]&&Object(We["l"])(t.parameters.width)?t.parameters.width:Ed,n=t.type===N["bd"]&&Object(We["l"])(t.parameters.height)?t.parameters.height:Ed,a=t.position[0],o=t.position[1];return a<e.minX&&(e.minX=a),o<e.minY&&(e.minY=o),a+s>e.maxX&&(e.maxX=a+s),o+n>e.maxY&&(e.maxY=o+n),e},{minX:e[0].position[0],minY:e[0].position[1],maxX:e[0].position[0],maxY:e[0].position[1]}),Zd=({scale:e,offset:[t,s]})=>(e/=1.25,t/=1.25,s/=1.25,t+=window.innerWidth/10,s+=window.innerHeight/10,{scale:e,offset:[t,s]}),eu=({scale:e,offset:[t,s]})=>(e*=1.25,t-=window.innerWidth/10,s-=window.innerHeight/10,t*=1.25,s*=1.25,{scale:e,offset:[t,s]}),tu=e=>{if(e.scale>1)while(e.scale>1)e=Zd(e);else while(e.scale<1)e=eu(e);return e.scale=1,e},su=(e,t)=>{try{return e.getOverlay(t)}catch(s){return null}},nu=(e,t)=>{const s=su(e,t);s&&s.setVisible(!0)},au=(e,t)=>{const s=su(e,t);s&&s.setVisible(!1)},ou=e=>{if(!e||!e.endpoints||2!==e.endpoints.length)return;const t=!!su(e,yd),s=e.endpoints[0],n=e.endpoints[1],a=s.anchor.lastReturnValue[0],o=n.anchor.lastReturnValue?n.anchor.lastReturnValue[0]:a+1,i=t?150:0,r=a>=o,l=Math.abs(a-o)>=i,c=su(e,fd);c&&(c.setVisible(r&&l),c.setLocation(t?.6:.5))},iu=e=>{if(!e.connector)return[0,0];const t=e.connector.bounds,s=Math.abs(t.maxX-t.minX),n=Math.abs(t.maxY-t.minY);return[s,n]},ru=e=>{const t=e.endpoints[0],s=e.endpoints[1],n=t.anchor.lastReturnValue[0],a=s.anchor.lastReturnValue[0];return a-n<-1*Md},lu=e=>{if(!e||!e.connector)return;const t=su(e,yd);if(!t)return;const s=su(e,bd);if(s&&s.visible)return void t.setVisible(!1);const[n,a]=iu(e);n<Cd&&a<Nd?t.setVisible(!1):t.setVisible(!0);const o=t.canvas&&t.canvas.querySelector("span");o&&(0===a||ru(e)?o.classList.add("floating"):o.classList.remove("floating"))},cu=e=>"trash"===e?'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 Icon__medium_ctPPJ"><path data-v-66d5c7e2="" fill="currentColor" d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>':"plus"===e?'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-plus fa-w-14 Icon__medium_ctPPJ"><path data-v-301ed208="" fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z" class=""></path></svg>':"",du=(e,t)=>!(Math.abs(e[0]-t[0])<=100&&Math.abs(e[1]-t[1])<=50),uu=(e,t,s)=>{const n=[...t];n[0]=n[0]-n[0]%_d,n[1]=n[1]-n[1]%_d,s||(s=[40,40]);let a,o,i=!1;do{for(i=!1,a=0;a<e.length;a++)if(o=e[a],!du(o.position,n)){i=!0;break}!0===i&&(n[0]+=s[0],n[1]+=s[1])}while(!0===i);return n},pu=e=>{const t=void 0!==e.pageX?e.pageX:e.touches&&e.touches[0]&&e.touches[0].pageX?e.touches[0].pageX:0,s=void 0!==e.pageY?e.pageY:e.touches&&e.touches[0]&&e.touches[0].pageY?e.touches[0].pageY:0;return[t,s]},hu=(e,t,s,n)=>[(e-n[0])/s,(t-n[1])/s],mu=(e,t)=>hu((window.innerWidth-Od)/2,(window.innerHeight-Id)/2,e,t),gu=(e,t)=>{const s=_d*e,n=1*e,a=_d/2*e,o={"background-size":`${s}px ${s}px`,"background-position":`left ${t[0]}px top ${t[1]}px`};if(s>10.5){const e=Object(We["h"])("--color-canvas-dot");return{...o,"background-image":`radial-gradient(circle at ${a}px ${a}px, ${e} ${n}px, transparent 0)`}}return o},fu=e=>{e&&e.connector&&(au(e,bd),lu(e),ou(e))},wu=e=>{e&&e.connector&&(nu(e,bd),au(e,yd),su(e,yd)||au(e,fd))},yu=(e,t)=>{const s={};return e.forEach(e=>{e.data&&e.data.main&&e.data.main.forEach((e,n)=>{const a=n;s[a]||(s[a]={}),s[a][N["kc"]]||(s[a][N["kc"]]={},s[a][N["kc"]][0]={total:0,iterations:0});const o=s[a][N["kc"]][0];o.total+=e?e.length:0,o.iterations+=e?1:0,t[a]&&t[a].map(t=>{const n=t.node,o=t.index;s[a][n]||(s[a][n]={}),s[a][n][o]||(s[a][n][o]={total:0,iterations:0}),s[a][n][o].total+=e?e.length:0,s[a][n][o].iterations+=e?1:0})})}),s},bu=e=>{e.removeOverlay(yd),e.setPaintStyle(Ud),ou(e),e.canvas&&e.canvas.classList.remove("success")},vu=e=>{let t=""+e.total;return t=e.total>1?t+" items":t+" item",t=e.iterations>1?t+" total":t,t},xu=(e,t)=>{e.setPaintStyle(zd),e.canvas&&e.canvas.classList.add("success"),su(e,yd)&&e.removeOverlay(yd),e.addOverlay(["Label",{id:yd,label:`<span>${vu(t)}</span>`,cssClass:"connection-run-items-label",location:.5}]),lu(e),ou(e)},ku=(e,t=!0)=>{const{minX:s,minY:n,maxX:a,maxY:o}=Qd(e),i=t?Od:0,r=t?Id:0,l=t?200:100,c=4*Ed,d=window.innerWidth,u=a-s+i+c,p=d/u,h=window.innerHeight,m=o-n+r+c,g=h/m,f=Math.min(p,g,1);let w=-1*s*f+i;w+=(d-i-(a-s)*f)/2;let y=-1*n*f+r;return y+=(h-r-(o-n+l)*f)/2,{zoomLevel:f,offset:[w,y]}},Tu=(e,t)=>{e&&e.connector&&(t&&e.connector.setTargetEndpoint(t),e.setPaintStyle(Fd),au(e,gd))},$u=e=>{e&&e.connector&&(e.connector.resetTargetEndpoint(),e.setPaintStyle(jd),nu(e,gd))},_u=e=>{e&&e.connector&&(e.connector.resetTargetEndpoint(),e.setPaintStyle(Ud))},Cu=e=>{const t=su(e,xd);t&&t.setLocation(kd)},Nu=e=>{const t=su(e,xd);t&&t.setLocation(Td)},Eu=(e,t,s)=>{su(e,bd)||e.addOverlay(["Label",{id:bd,label:`<div class="add">${cu("plus")}</div> <div class="delete">${cu("trash")}</div>`,cssClass:bd,visible:!1,events:{mousedown:(e,n)=>{const a=n.target;a.classList.contains("delete")||a.parentElement&&a.parentElement.classList.contains("delete")?t():(a.classList.contains("add")||a.parentElement&&a.parentElement.classList.contains("add"))&&s()}}}])},Su=(e,t)=>`${e}${Rd}${t}`,Du=(e,t)=>`${e}${Ld}${t}`,Iu=e=>{const t=[...e],s=!!t.find(e=>e.type===N["ad"]),n=Xd(t),a=Sd-n.position[0],o=Dd-n.position[1];return t.map(e=>{e.position[0]+=a+(s?0:2*Ed),e.position[1]+=o}),s||t.push({...Wd,id:Object(md["a"])()}),t},Ou=Object(K["a"])(hd).extend({data(){return{selectActive:!1,selectBox:document.createElement("span")}},mounted(){this.createSelectBox()},methods:{createSelectBox(){this.selectBox.id="select-box",this.selectBox.style.margin="0px auto",this.selectBox.style.border="2px dotted #FF0000",this.selectBox.style.position="absolute",this.selectBox.style.zIndex="100",this.selectBox.style.visibility="hidden",this.selectBox.addEventListener("mouseup",this.mouseUpMouseSelect);const e=this.$el.querySelector("#node-view");e.appendChild(this.selectBox)},isCtrlKeyPressed(e){return!0===this.isTouchDevice||(this.isMacOs?e.metaKey:e.ctrlKey)},getMousePositionWithinNodeView(e){const[t,s]=pu(e);return hu(t,s,this.nodeViewScale,this.$store.getters.getNodeViewOffsetPosition)},showSelectBox(e){const[t,s]=this.getMousePositionWithinNodeView(e);this.selectBox=Object.assign(this.selectBox,{x:t,y:s}),this.selectBox.style.left=this.selectBox.x+"px",this.selectBox.style.top=this.selectBox.y+"px",this.selectBox.style.visibility="visible",this.selectActive=!0},updateSelectBox(e){const t=this.getSelectionBox(e);this.selectBox.style.left=t.x+"px",this.selectBox.style.top=t.y+"px",this.selectBox.style.width=t.width+"px",this.selectBox.style.height=t.height+"px"},hideSelectBox(){this.selectBox.style.visibility="hidden",this.selectBox.x=0,this.selectBox.y=0,this.selectBox.style.left="0px",this.selectBox.style.top="0px",this.selectBox.style.width="0px",this.selectBox.style.height="0px",this.selectActive=!1},getSelectionBox(e){const[t,s]=this.getMousePositionWithinNodeView(e);return{x:Math.min(t,this.selectBox.x),y:Math.min(s,this.selectBox.y),width:Math.abs(t-this.selectBox.x),height:Math.abs(s-this.selectBox.y)}},getNodesInSelection(e){const t=[],s=this.getSelectionBox(e);return this.$store.getters.allNodes.forEach(e=>{e.position[0]<s.x||e.position[0]>s.x+s.width||e.position[1]<s.y||e.position[1]>s.y+s.height||t.push(e)}),t},mouseDownMouseSelect(e){!0!==this.isCtrlKeyPressed(e)&&(this.$store.getters.isActionActive("dragActive")||(this.showSelectBox(e),this.$el.addEventListener("mousemove",this.mouseMoveSelect)))},mouseUpMouseSelect(e){if(!1===this.selectActive)return void(!0===this.isTouchDevice&&e.target&&e.target.id.includes("node-view")&&this.deselectAllNodes());this.$el.removeEventListener("mousemove",this.mouseMoveSelect),this.deselectAllNodes();const t=this.getNodesInSelection(e);t.forEach(e=>{this.nodeSelected(e)}),1===t.length&&this.$store.commit("setLastSelectedNode",t[0].name),this.hideSelectBox()},mouseMoveSelect(e){0!==e.buttons?this.updateSelectBox(e):this.mouseUpMouseSelect(e)},nodeDeselected(e){this.$store.commit("removeNodeFromSelection",e),this.instance.removeFromDragSelection(e.id)},nodeSelected(e){this.$store.commit("addSelectedNode",e),this.instance.addToDragSelection(e.id)},deselectAllNodes(){this.instance.clearDragSelection(),this.$store.commit("resetSelectedNodes"),this.$store.commit("setLastSelectedNode",null),this.$store.commit("setLastSelectedNodeOutputIndex",null),this.lastSelectedConnection=null,this.newNodeInsertPosition=null}}});var Pu=s("ff11"),Au=s.n(Pu);const Mu=Object(K["a"])(hd).extend({data(){return{moveLastPosition:[0,0]}},methods:{moveWorkflow(e){const t=this.$store.getters.getNodeViewOffsetPosition,[s,n]=pu(e),a=t[0]+(s-this.moveLastPosition[0]),o=t[1]+(n-this.moveLastPosition[1]);this.$store.commit("setNodeViewOffsetPosition",{newOffset:[a,o]}),this.moveLastPosition[0]=s,this.moveLastPosition[1]=n},mouseDownMoveWorkflow(e){if(!1===this.isCtrlKeyPressed(e))return;if(this.$store.getters.isActionActive("dragActive"))return;this.$store.commit("setNodeViewMoveInProgress",!0);const[t,s]=pu(e);this.moveLastPosition[0]=t,this.moveLastPosition[1]=s,this.$el.addEventListener("mousemove",this.mouseMoveNodeWorkflow)},mouseUpMoveWorkflow(e){!1!==this.$store.getters.isNodeViewMoveInProgress&&(this.$el.removeEventListener("mousemove",this.mouseMoveNodeWorkflow),this.$store.commit("setNodeViewMoveInProgress",!1))},mouseMoveNodeWorkflow(e){e.target&&!e.target.id.includes("node-view")||this.$store.getters.isActionActive("dragActive")||(0!==e.buttons?this.moveWorkflow(e):this.mouseUp(e))},wheelMoveWorkflow(e){const t=Au()(e),s=this.$store.getters.getNodeViewOffsetPosition,n=s[0]-(e.shiftKey?t.pixelY:t.pixelX),a=s[1]-(e.shiftKey?t.pixelX:t.pixelY);this.$store.commit("setNodeViewOffsetPosition",{newOffset:[n,a]})}}}),Lu=Object(K["a"])(Y["a"]).extend({methods:{async checkForNewVersions(){const e=this.$store.getters["versions/areNotificationsEnabled"];if(!e)return;await this.$store.dispatch("versions/fetchVersions");const t=this.$store.getters["versions/currentVersion"],s=this.$store.getters["versions/nextVersions"];if(t&&t.hasSecurityIssue&&s.length){const e=t.securityIssueFixVersion;let s="Please update to latest version.";e&&(s=`Please update to version ${e} or higher.`),s+=' <a class="primary-color">More info</a>',this.$showToast({title:"Critical update available",message:s,onClick:()=>{this.$store.dispatch("ui/openModal",N["td"])},closeOnClick:!0,customClass:"clickable",type:"warning",duration:0})}}}});var Ru=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"ndv-wrapper",attrs:{visible:(!!e.activeNode||e.renaming)&&!e.isActiveStickyNode,"before-close":e.close,"show-close":!1,"custom-class":"data-display-wrapper",width:"auto","append-to-body":""}},[s("n8n-tooltip",{attrs:{placement:"bottom-start",value:e.showTriggerWaitingWarning,disabled:!e.showTriggerWaitingWarning,manual:""}},[s("div",{class:e.$style.triggerWarning,attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$locale.baseText("ndv.backToCanvas.waitingForTriggerWarning"))+" ")]),s("div",{class:e.$style.backToCanvas,on:{click:e.close}},[s("n8n-icon",{attrs:{icon:"arrow-left",color:"text-xlight",size:"medium"}}),s("n8n-text",{attrs:{color:"text-xlight",size:"medium",bold:!0}},[e._v(" "+e._s(e.$locale.baseText("ndv.backToCanvas"))+" ")])],1)]),e.activeNode?s("div",{staticClass:"data-display"},[s("div",{class:e.$style.modalBackground,on:{click:e.close}}),s("NDVDraggablePanels",{attrs:{isTriggerNode:e.isTriggerNode,hideInputAndOutput:null===e.activeNodeType,position:e.isTriggerNode&&!e.showTriggerPanel?0:void 0,isDraggable:!e.isTriggerNode,nodeType:e.activeNodeType},on:{close:e.close,init:e.onPanelsInit,dragstart:e.onDragStart,dragend:e.onDragEnd},scopedSlots:e._u([{key:"input",fn:function(){return[e.showTriggerPanel?s("TriggerPanel",{attrs:{nodeName:e.activeNode.name,sessionId:e.sessionId},on:{execute:e.onNodeExecute,activate:e.onWorkflowActivate}}):e.isTriggerNode?e._e():s("InputPanel",{attrs:{workflow:e.workflow,canLinkRuns:e.canLinkRuns,runIndex:e.inputRun,linkedRuns:e.linked,currentNodeName:e.inputNodeName,sessionId:e.sessionId,readOnly:e.readOnly},on:{linkRun:e.onLinkRunToInput,unlinkRun:function(){return e.onUnlinkRun("input")},runChange:e.onRunInputIndexChange,openSettings:e.openSettings,select:e.onInputSelect,execute:e.onNodeExecute,tableMounted:e.onInputTableMounted}})]},proxy:!0},{key:"output",fn:function(){return[s("OutputPanel",{attrs:{canLinkRuns:e.canLinkRuns,runIndex:e.outputRun,linkedRuns:e.linked,sessionId:e.sessionId,isReadOnly:e.readOnly},on:{linkRun:e.onLinkRunToOutput,unlinkRun:function(){return e.onUnlinkRun("output")},runChange:e.onRunOutputIndexChange,openSettings:e.openSettings,tableMounted:e.onOutputTableMounted}})]},proxy:!0},{key:"main",fn:function(){return[s("NodeSettings",{attrs:{eventBus:e.settingsEventBus,dragging:e.isDragging,sessionId:e.sessionId,nodeType:e.activeNodeType},on:{valueChanged:e.valueChanged,execute:e.onNodeExecute,activate:e.onWorkflowActivate}}),e.featureRequestUrl?s("a",{class:e.$style.featureRequest,attrs:{target:"_blank"},on:{click:e.onFeatureRequestClick}},[s("font-awesome-icon",{attrs:{icon:"lightbulb"}}),e._v(" "+e._s(e.$locale.baseText("ndv.featureRequest"))+" ")],1):e._e()]},proxy:!0}],null,!1,3157217307)})],1):e._e()],1)},Wu=[],Bu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"node-settings":!0,dragging:e.dragging},on:{keydown:function(e){e.stopPropagation()}}},[s("div",{class:e.$style.header},[s("div",{staticClass:"header-side-menu"},[s("NodeTitle",{staticClass:"node-name",attrs:{value:e.node&&e.node.name,nodeType:e.nodeType,readOnly:e.isReadOnly},on:{input:e.nameChanged}}),e.isReadOnly?e._e():s("div",[s("NodeExecuteButton",{attrs:{nodeName:e.node.name,disabled:e.outputPanelEditMode.enabled,size:"small",telemetrySource:"parameters"},on:{execute:e.onNodeExecute}})],1)],1),e.node&&e.nodeValid?s("NodeSettingsTabs",{attrs:{nodeType:e.nodeType,sessionId:e.sessionId},model:{value:e.openPanel,callback:function(t){e.openPanel=t},expression:"openPanel"}}):e._e()],1),e.node&&!e.nodeValid?s("div",{staticClass:"node-is-not-valid"},[s("p",{class:e.$style.warningIcon},[s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1),s("div",{staticClass:"missingNodeTitleContainer mt-s mb-xs"},[s("n8n-text",{attrs:{size:"large",color:"text-dark",bold:""}},[e._v(" "+e._s(e.$locale.baseText("nodeSettings.communityNodeUnknown.title"))+" ")])],1),e.isCommunityNode?s("div",{class:e.$style.descriptionContainer},[s("div",{staticClass:"mb-l"},[s("i18n",{attrs:{path:"nodeSettings.communityNodeUnknown.description",tag:"span"},on:{click:e.onMissingNodeTextClick},scopedSlots:e._u([{key:"action",fn:function(){return[s("a",{attrs:{href:"https://www.npmjs.com/package/"+e.node.type.split(".")[0],target:"_blank"}},[e._v(e._s(e.node.type.split(".")[0]))])]},proxy:!0}],null,!1,2018941802)})],1),s("n8n-link",{attrs:{to:e.COMMUNITY_NODES_INSTALLATION_DOCS_URL},on:{click:e.onMissingNodeLearnMoreLinkClick}},[e._v(" "+e._s(e.$locale.baseText("nodeSettings.communityNodeUnknown.installLink.text"))+" ")])],1):s("i18n",{attrs:{path:"nodeSettings.nodeTypeUnknown.description",tag:"span"},scopedSlots:e._u([{key:"action",fn:function(){return[s("a",{attrs:{href:e.CUSTOM_NODES_DOCS_URL,target:"_blank"},domProps:{textContent:e._s(e.$locale.baseText("nodeSettings.nodeTypeUnknown.description.customNode"))}})]},proxy:!0}],null,!1,895425313)})],1):e._e(),e.node&&e.nodeValid?s("div",{staticClass:"node-parameters-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"params"===e.openPanel,expression:"openPanel === 'params'"}]},[s("node-webhooks",{attrs:{node:e.node,nodeType:e.nodeType}}),s("parameter-input-list",{attrs:{parameters:e.parametersNoneSetting,hideDelete:!0,nodeValues:e.nodeValues,path:"parameters"},on:{valueChanged:e.valueChanged,activate:e.onWorkflowActivate}},[s("node-credentials",{attrs:{node:e.node},on:{credentialSelected:e.credentialSelected}})],1),0===e.parametersNoneSetting.length?s("div",{staticClass:"no-parameters"},[s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("nodeSettings.thisNodeDoesNotHaveAnyParameters"))+" ")])],1):e._e(),e.isCustomApiCallSelected(e.nodeValues)?s("div",{staticClass:"parameter-item parameter-notice"},[s("n8n-notice",{attrs:{content:e.$locale.baseText("nodeSettings.useTheHttpRequestNode",{interpolate:{nodeTypeDisplayName:e.nodeType.displayName}})}})],1):e._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"settings"===e.openPanel,expression:"openPanel === 'settings'"}]},[s("parameter-input-list",{attrs:{parameters:e.parametersSetting,nodeValues:e.nodeValues,path:"parameters"},on:{valueChanged:e.valueChanged}}),s("parameter-input-list",{attrs:{parameters:e.nodeSettings,hideDelete:!0,nodeValues:e.nodeValues,path:""},on:{valueChanged:e.valueChanged}})],1)]):e._e()])},Vu=[],Uu=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("span",{class:t.$style.container,on:{click:t.onEdit}},[n("span",{class:t.$style.iconWrapper},[n("NodeIcon",{attrs:{nodeType:t.nodeType,size:18}})],1),n("n8n-popover",{attrs:{placement:"right",width:"200",value:t.editName,disabled:t.readOnly}},[n("div",{class:t.$style.editContainer,on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onRename.apply(null,arguments)},function(e){e.stopPropagation()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.editName=!1}]}},[n("n8n-text",{attrs:{bold:!0,color:"text-base",tag:"div"}},[t._v(t._s(t.$locale.baseText("ndv.title.renameNode")))]),n("n8n-input",{ref:"input",attrs:{size:"small"},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),n("div",{class:t.$style.editButtons},[n("n8n-button",{attrs:{type:"secondary",size:"small",label:t.$locale.baseText("ndv.title.cancel")},on:{click:function(e){t.editName=!1}}}),n("n8n-button",{attrs:{type:"primary",size:"small",label:t.$locale.baseText("ndv.title.rename")},on:{click:t.onRename}})],1)],1),n("div",{staticClass:"ph-no-capture",class:(e={},e[t.$style.title]=!0,e[t.$style.hoverable]=!t.readOnly,e),attrs:{slot:"reference"},slot:"reference"},[t._v(" "+t._s(t.value)+" "),n("div",{class:t.$style.editIconContainer},[t.readOnly?t._e():n("font-awesome-icon",{class:t.$style.editIcon,attrs:{icon:"pencil-alt"}})],1)])])],1)},ju=[],Fu=n["default"].extend({name:"NodeTitle",props:{value:{type:String},nodeType:{},readOnly:{type:Boolean,default:!1}},data(){return{editName:!1,newName:""}},methods:{onEdit(){this.newName=this.value,this.editName=!0,this.$nextTick(()=>{const e=this.$refs.input;e&&e.focus()})},onRename(){""!==this.newName.trim()&&this.$emit("input",this.newName.trim()),this.editName=!1}}}),zu=Fu,Hu=s("07e6");function Gu(e){this["$style"]=Hu["default"].locals||Hu["default"]}var Ku=Object(v["a"])(zu,Uu,ju,!1,Gu,null,null),Yu=Ku.exports,qu=s("4a0c"),Ju=s("3c38"),Xu=s("e0e2"),Qu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-tabs",{attrs:{options:e.options,value:e.value},on:{input:e.onTabSelect,tooltipClick:e.onTooltipClick}})},Zu=[],ep=Object(K["a"])(ln["a"]).extend({name:"NodeSettingsTabs",props:{value:{type:String},nodeType:{},sessionId:{type:String}},computed:{activeNode(){return this.$store.getters.activeNode},documentationUrl(){const e=this.nodeType;return e?e.documentationUrl&&e.documentationUrl.startsWith("http")?e.documentationUrl:e.documentationUrl||e.name&&e.name.startsWith("n8n-nodes-base")?"https://docs.n8n.io/nodes/"+(e.documentationUrl||e.name)+"?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign="+e.name:this.isCommunityNode?`${N["qc"]}${e.name.split(".")[0]}`:"":""},isCommunityNode(){const e=this.nodeType;return!!e&&Object(We["k"])(e.name)},packageName(){const e=this.nodeType;return e.name.split(".")[0]},options(){const e=[{label:this.$locale.baseText("nodeSettings.parameters"),value:"params"}];this.documentationUrl&&e.push({label:this.$locale.baseText("nodeSettings.docs"),value:"docs",href:this.documentationUrl}),this.isCommunityNode&&e.push({icon:"cube",value:"communityNode",align:"right",tooltip:this.$locale.baseText("generic.communityNode.tooltip",{interpolate:{docUrl:N["o"],packageName:this.packageName}})});const t=!this.isCommunityNode;return e.push({icon:"cog",value:"settings",align:t?"right":void 0}),e}},methods:{onTabSelect(e){"docs"===e&&this.nodeType&&(this.$externalHooks().run("dataDisplay.onDocumentationUrlClick",{nodeType:this.nodeType,documentationUrl:this.documentationUrl}),this.$telemetry.track("User clicked ndv link",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:"main",type:"docs"})),"settings"===e&&this.nodeType&&this.$telemetry.track("User viewed node settings",{node_type:this.nodeType.name,workflow_id:this.$store.getters.workflowId}),"settings"!==e&&"params"!==e||this.$emit("input",e)},onTooltipClick(e,t){"communityNode"===e&&"a"===t.target.localName&&this.$telemetry.track("user clicked cnr docs link",{source:"node details view"})}}}),tp=ep,sp=(s("61e9"),Object(v["a"])(tp,Qu,Zu,!1,null,null,null)),np=sp.exports,ap=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.webhooksNode.length?s("div",{staticClass:"webhooks"},[s("div",{staticClass:"clickable headline",class:{expanded:!e.isMinimized},attrs:{title:e.isMinimized?e.$locale.baseText("nodeWebhooks.clickToDisplayWebhookUrls"):e.$locale.baseText("nodeWebhooks.clickToHideWebhookUrls")},on:{click:function(t){e.isMinimized=!e.isMinimized}}},[s("font-awesome-icon",{staticClass:"minimize-button minimize-icon",attrs:{icon:"angle-down"}}),e._v(" "+e._s(e.$locale.baseText("nodeWebhooks.webhookUrls"))+" ")],1),s("el-collapse-transition",[e.isMinimized?e._e():s("div",{staticClass:"node-webhooks"},[s("div",{staticClass:"url-selection"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("n8n-radio-buttons",{attrs:{options:[{label:this.$locale.baseText("nodeWebhooks.testUrl"),value:"test"},{label:this.$locale.baseText("nodeWebhooks.productionUrl"),value:"production"}]},model:{value:e.showUrlFor,callback:function(t){e.showUrlFor=t},expression:"showUrlFor"}})],1)],1)],1),e._l(e.webhooksNode,(function(t,n){return s("n8n-tooltip",{key:n,staticClass:"item",attrs:{content:e.$locale.baseText("nodeWebhooks.clickToCopyWebhookUrls"),placement:"left"}},[s("div",{staticClass:"webhook-wrapper"},[s("div",{staticClass:"http-field"},[s("div",{staticClass:"http-method"},[e._v(" "+e._s(e.getWebhookExpressionValue(t,"httpMethod"))),s("br")])]),s("div",{staticClass:"url-field"},[s("div",{staticClass:"webhook-url left-ellipsis clickable",on:{click:function(s){return e.copyWebhookUrl(t)}}},[e._v(" "+e._s(e.getWebhookUrlDisplay(t))),s("br")])])])])}))],2)])],1):e._e()},op=[],ip=Object(K["a"])(Je,Y["a"],we["a"]).extend({name:"NodeWebhooks",props:["node","nodeType"],data(){return{isMinimized:this.nodeType&&this.nodeType.name!==N["wd"],showUrlFor:"test"}},computed:{webhooksNode(){return null===this.nodeType||void 0===this.nodeType.webhooks?[]:this.nodeType.webhooks.filter(e=>!0!==e.restartWebhook)}},methods:{copyWebhookUrl(e){const t=this.getWebhookUrlDisplay(e);this.copyToClipboard(t),this.$showMessage({title:this.$locale.baseText("nodeWebhooks.showMessage.title"),type:"success"}),this.$telemetry.track("User copied webhook URL",{pane:"parameters",type:this.showUrlFor+" url"})},getWebhookUrlDisplay(e){return this.node?this.getWebhookUrl(e,this.node,this.showUrlFor):""}},watch:{node(){this.isMinimized=this.nodeType.name!==N["wd"]}}}),rp=ip,lp=(s("9aab"),Object(v["a"])(rp,ap,op,!1,null,"d6e3622c",null)),cp=lp.exports,dp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-tooltip",{attrs:{placement:"bottom",disabled:!e.disabledHint}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.disabledHint))]),s("div",[s("n8n-button",{attrs:{loading:e.nodeRunning&&!e.isListeningForEvents,disabled:e.disabled||!!e.disabledHint,label:e.buttonLabel,type:e.type,size:e.size,transparentBackground:e.transparent},on:{click:e.onClick}})],1)])},up=[];const pp=n["default"].extend({computed:{pinData(){return this.node?this.$store.getters["pinDataByNodeName"](this.node.name):void 0},hasPinData(){return!!this.node&&"undefined"!==typeof this.pinData},isPinDataNodeType(){return!!this.node&&!N["Ec"].includes(this.node.type)}},methods:{isValidPinDataJSON(e){try{return JSON.parse(e),!0}catch(t){const s=this.$locale.baseText("runData.editOutputInvalid"),n=new RegExp(/JSON\.parse:|of the JSON data/,"g"),a=t.message.replace(n,"").trim(),o=/at position (\d+)/,i=t.message.match(o);if(t.message=a.charAt(0).toUpperCase()+a.slice(1),t.message=t.message.replace("Unexpected token ' in JSON",this.$locale.baseText("runData.editOutputInvalid.singleQuote")),i){const s=parseInt(i[1],10),n=(e.slice(0,s).match(/\n/g)||[]).length;t.message=t.message.replace(o,this.$locale.baseText("runData.editOutputInvalid.atPosition",{interpolate:{position:""+s}})),t.message=`${this.$locale.baseText("runData.editOutputInvalid.onLine",{interpolate:{line:""+(n+1)}})} ${t.message}`}return this.$showError(t,s),!1}},isValidPinDataSize(e){return"object"===typeof e&&(e=JSON.stringify(e)),!(this.$store.getters["pinDataSize"]+Object(We["q"])(e)>N["ac"])||(this.$showError(new Error(this.$locale.baseText("ndv.pinData.error.tooLarge.description")),this.$locale.baseText("ndv.pinData.error.tooLarge.title")),!1)}}}),hp=new n["default"];var mp=Object(K["a"])(Qc,pp).extend({props:{nodeName:{type:String},disabled:{type:Boolean,default:!1},label:{type:String},type:{type:String},size:{type:String},transparent:{type:Boolean,default:!1},telemetrySource:{type:String}},computed:{node(){return this.$store.getters.getNodeByName(this.nodeName)},nodeType(){return this.node?this.$store.getters["nodeTypes/getNodeType"](this.node.type,this.node.typeVersion):null},nodeRunning(){const e=this.$store.getters.executedNode,t=this.$store.getters.executingNode;return this.workflowRunning&&(t===this.node.name||e===this.node.name)},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},isTriggerNode(){return!(!this.nodeType||!this.nodeType.group.includes("trigger"))},isPollingTypeNode(){return!(!this.nodeType||!this.nodeType.polling)},isScheduleTrigger(){return!(!this.nodeType||!this.nodeType.group.includes("schedule"))},isWebhookNode(){return Boolean(this.nodeType&&this.nodeType.name===N["wd"])},isListeningForEvents(){const e=this.$store.getters.executionWaitingForWebhook,t=this.$store.getters.executedNode;return this.node&&!this.node.disabled&&this.isTriggerNode&&e&&(!t||t===this.nodeName)},hasIssues(){return Boolean(this.node&&this.node.issues&&(this.node.issues.parameters||this.node.issues.credentials))},disabledHint(){return this.isListeningForEvents?"":this.isTriggerNode&&this.node.disabled?this.$locale.baseText("ndv.execute.nodeIsDisabled"):this.isTriggerNode&&this.hasIssues?this.$store.getters.activeNode&&this.$store.getters.activeNode.name!==this.nodeName?this.$locale.baseText("ndv.execute.fixPrevious"):this.$locale.baseText("ndv.execute.requiredFieldsMissing"):this.workflowRunning&&!this.nodeRunning?this.$locale.baseText("ndv.execute.workflowAlreadyRunning"):""},buttonLabel(){return this.isListeningForEvents?this.$locale.baseText("ndv.execute.stopListening"):this.label?this.label:this.isWebhookNode?this.$locale.baseText("ndv.execute.listenForTestEvent"):this.isPollingTypeNode||this.nodeType&&this.nodeType.mockManualExecution?this.$locale.baseText("ndv.execute.fetchEvent"):this.isTriggerNode&&!this.isScheduleTrigger?this.$locale.baseText("ndv.execute.listenForEvent"):this.$locale.baseText("ndv.execute.executeNode")}},methods:{async stopWaitingForWebhook(){try{await this.restApi().removeTestWebhook(this.$store.getters.workflowId)}catch(e){return void this.$showError(e,this.$locale.baseText("ndv.execute.stopWaitingForWebhook.error"))}},async onClick(){if(this.isListeningForEvents)this.stopWaitingForWebhook();else{let e=!1;if(this.hasPinData&&(e=await this.confirmMessage(this.$locale.baseText("ndv.pinData.unpinAndExecute.description"),this.$locale.baseText("ndv.pinData.unpinAndExecute.title"),null,this.$locale.baseText("ndv.pinData.unpinAndExecute.confirm"),this.$locale.baseText("ndv.pinData.unpinAndExecute.cancel")),e&&(hp.$emit("data-unpinning",{source:"unpin-and-execute-modal"}),this.$store.commit("unpinData",{node:this.node}))),!this.hasPinData||e){const e={node_type:this.nodeType?this.nodeType.name:null,workflow_id:this.$store.getters.workflowId,source:this.telemetrySource};this.$telemetry.track("User clicked execute node button",e),this.$externalHooks().run("nodeExecuteButton.onClick",e),this.runWorkflow(this.nodeName,"RunData.ExecuteNodeButton"),this.$emit("execute")}}}}}),gp=mp,fp=Object(v["a"])(gp,dp,up,!1,null,null,null),wp=fp.exports,yp=Object(K["a"])(ln["a"],cn["a"],Me["a"]).extend({name:"NodeSettings",components:{NodeTitle:Yu,NodeCredentials:Xu["a"],ParameterInputFull:qu["a"],ParameterInputList:Ju["default"],NodeSettingsTabs:np,NodeWebhooks:cp,NodeExecuteButton:wp},computed:{nodeTypeName(){if(this.nodeType){const e=this.$locale.shortNodeType(this.nodeType.name);return this.$locale.headerText({key:`headers.${e}.displayName`,fallback:this.nodeType.name})}return""},nodeTypeDescription(){if(this.nodeType&&this.nodeType.description){const e=this.$locale.shortNodeType(this.nodeType.name);return this.$locale.headerText({key:`headers.${e}.description`,fallback:this.nodeType.description})}return this.$locale.baseText("nodeSettings.noDescriptionFound")},headerStyle(){return this.node?{"background-color":this.node.color}:{}},node(){return this.$store.getters.activeNode},parametersSetting(){return this.parameters.filter(e=>e.isNodeSetting)},parametersNoneSetting(){return this.parameters.filter(e=>!e.isNodeSetting)},parameters(){return null===this.nodeType?[]:this.nodeType.properties},outputPanelEditMode(){return this.$store.getters["ui/outputPanelEditMode"]},isCommunityNode(){return Object(We["k"])(this.node.type)}},props:{eventBus:{},dragging:{type:Boolean},sessionId:{type:String},nodeType:{type:Object}},data(){return{nodeValid:!0,nodeColor:null,openPanel:"params",nodeValues:{color:"#ff0000",alwaysOutputData:!1,executeOnce:!1,notesInFlow:!1,continueOnFail:!1,retryOnFail:!1,maxTries:3,waitBetweenTries:1e3,notes:"",parameters:{}},nodeSettings:[{displayName:this.$locale.baseText("nodeSettings.alwaysOutputData.displayName"),name:"alwaysOutputData",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.alwaysOutputData.description")},{displayName:this.$locale.baseText("nodeSettings.executeOnce.displayName"),name:"executeOnce",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.executeOnce.description")},{displayName:this.$locale.baseText("nodeSettings.retryOnFail.displayName"),name:"retryOnFail",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.retryOnFail.description")},{displayName:this.$locale.baseText("nodeSettings.maxTries.displayName"),name:"maxTries",type:"number",typeOptions:{minValue:2,maxValue:5},default:3,displayOptions:{show:{retryOnFail:[!0]}},noDataExpression:!0,description:this.$locale.baseText("nodeSettings.maxTries.description")},{displayName:this.$locale.baseText("nodeSettings.waitBetweenTries.displayName"),name:"waitBetweenTries",type:"number",typeOptions:{minValue:0,maxValue:5e3},default:1e3,displayOptions:{show:{retryOnFail:[!0]}},noDataExpression:!0,description:this.$locale.baseText("nodeSettings.waitBetweenTries.description")},{displayName:this.$locale.baseText("nodeSettings.continueOnFail.displayName"),name:"continueOnFail",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.continueOnFail.description")},{displayName:this.$locale.baseText("nodeSettings.notes.displayName"),name:"notes",type:"string",typeOptions:{rows:5},default:"",noDataExpression:!0,description:this.$locale.baseText("nodeSettings.notes.description")},{displayName:this.$locale.baseText("nodeSettings.notesInFlow.displayName"),name:"notesInFlow",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.notesInFlow.description")}],COMMUNITY_NODES_INSTALLATION_DOCS_URL:N["o"],CUSTOM_NODES_DOCS_URL:N["N"],MAIN_NODE_PANEL_WIDTH:N["Kb"]}},watch:{node(e,t){this.setNodeValues()}},methods:{onWorkflowActivate(){this.$emit("activate")},onNodeExecute(){this.$emit("execute")},setValue(e,t){const s=e.split(".");let a=s.pop(),o=!1;if(void 0!==a&&a.includes("[")){const e=a.match(/(.*)\[(\d+)\]$/);e&&(s.push(e[1]),a=e[2],o=!0)}if(0===s.length)null===t?n["default"].delete(this.nodeValues,a):n["default"].set(this.nodeValues,a,t);else if(null===t){let e=Object(qe["get"])(this.nodeValues,s.join("."));n["default"].delete(e,a),!0===o&&0===e.length&&(a=s.pop(),e=Object(qe["get"])(this.nodeValues,s.join(".")),n["default"].delete(e,a))}else"object"===typeof t?n["default"].set(Object(qe["get"])(this.nodeValues,s.join(".")),a,JSON.parse(JSON.stringify(t))):n["default"].set(Object(qe["get"])(this.nodeValues,s.join(".")),a,t)},credentialSelected(e){this.$store.commit("updateNodeProperties",e);const t=this.$store.getters.getNodeByName(e.name);this.updateNodeCredentialIssues(t),this.$externalHooks().run("nodeSettings.credentialSelected",{updateInformation:e})},nameChanged(e){this.valueChanged({value:e,name:"name"})},valueChanged(e){let t;t=e.hasOwnProperty("value")?e.value:Object(qe["get"])(this.nodeValues,e.name);const s=e.node||this.node.name,a=this.$store.getters.getNodeByName(s);if("name"===e.name){const n={value:t,oldValue:s,name:e.name};this.$emit("valueChanged",n)}else if(e.name.startsWith("parameters.")){const s=this.$store.getters["nodeTypes/getNodeType"](a.type,a.typeVersion);if(!s)return;let o=Ce["NodeHelpers"].getNodeParameters(s.properties,a.parameters,!1,!1,a);const i=Object.assign({},o);o=JSON.parse(JSON.stringify(o));const r=e.name.split(".").slice(1).join("."),l=r.match(/(.*)\[(\d+)\]$/);if(void 0===e.value&&null!==l){const e=l[1],t=l[2],s=Object(qe["get"])(o,e);Array.isArray(s)&&(s.splice(parseInt(t,10),1),n["default"].set(o,e,s))}else void 0===t?Object(qe["unset"])(o,r):Object(qe["set"])(o,r,t);o=Ce["NodeHelpers"].getNodeParameters(s.properties,o,!0,!1,a);for(const e of Object.keys(o))o&&null!==o[e]&&void 0!==o[e]&&this.setValue("parameters."+e,o[e]);const c={name:a.name,value:o};this.$store.commit("setNodeParameters",c),this.$externalHooks().run("nodeSettings.valueChanged",{parameterPath:r,newValue:t,parameters:this.parameters,oldNodeParameters:i}),this.updateNodeParameterIssues(a,s),this.updateNodeCredentialIssues(a)}else{n["default"].set(this.nodeValues,e.name,t);const s={name:a.name,key:e.name,value:t};this.$store.commit("setNodeValue",s)}},setNodeValues(){if(this.node)if(null!==this.nodeType){this.nodeValid=!0;const e=[];this.node.color&&(e.push("color"),n["default"].set(this.nodeValues,"color",this.node.color)),this.node.notes&&(e.push("notes"),n["default"].set(this.nodeValues,"notes",this.node.notes)),this.node.alwaysOutputData&&(e.push("alwaysOutputData"),n["default"].set(this.nodeValues,"alwaysOutputData",this.node.alwaysOutputData)),this.node.executeOnce&&(e.push("executeOnce"),n["default"].set(this.nodeValues,"executeOnce",this.node.executeOnce)),this.node.continueOnFail&&(e.push("continueOnFail"),n["default"].set(this.nodeValues,"continueOnFail",this.node.continueOnFail)),this.node.notesInFlow&&(e.push("notesInFlow"),n["default"].set(this.nodeValues,"notesInFlow",this.node.notesInFlow)),this.node.retryOnFail&&(e.push("retryOnFail"),n["default"].set(this.nodeValues,"retryOnFail",this.node.retryOnFail)),this.node.maxTries&&(e.push("maxTries"),n["default"].set(this.nodeValues,"maxTries",this.node.maxTries)),this.node.waitBetweenTries&&(e.push("waitBetweenTries"),n["default"].set(this.nodeValues,"waitBetweenTries",this.node.waitBetweenTries));for(const t of this.nodeSettings)e.includes(t.name)||n["default"].set(this.nodeValues,t.name,t.default);n["default"].set(this.nodeValues,"parameters",JSON.parse(JSON.stringify(this.node.parameters)))}else this.nodeValid=!1},onMissingNodeTextClick(e){"a"===e.target.localName&&this.$telemetry.track("user clicked cnr browse button",{source:"cnr missing node modal"})},onMissingNodeLearnMoreLinkClick(){this.$telemetry.track("user clicked cnr docs link",{source:"missing node modal source",package_name:this.node.type.split(".")[0],node_type:this.node.type})}},mounted(){this.setNodeValues(),this.eventBus&&this.eventBus.$on("openSettings",()=>{this.openPanel="settings"})}}),bp=yp,vp=s("a584");s("cfd5");function xp(e){this["$style"]=vp["default"].locals||vp["default"]}var kp=Object(v["a"])(bp,Bu,Vu,!1,xp,null,null),Tp=kp.exports,$p=function(){var e,t,s=this,n=s.$createElement,a=s._self._c||n;return a("div",[s.hideInputAndOutput?s._e():a("div",{class:s.$style.inputPanel,style:s.inputPanelStyles},[s._t("input")],2),s.hideInputAndOutput?s._e():a("div",{class:s.$style.outputPanel,style:s.outputPanelStyles},[s._t("output")],2),a("div",{class:s.$style.mainPanel,style:s.mainPanelStyles},[a("n8n-resize-wrapper",{attrs:{isResizingEnabled:"unknown"!==s.currentNodePaneType,width:s.relativeWidthToPx(s.mainPanelDimensions.relativeWidth),minWidth:s.MIN_PANEL_WIDTH,gridSize:20,supportedDirections:s.supportedResizeDirections},on:{resize:s.onResize,resizestart:s.onResizeStart,resizeend:s.onResizeEnd}},[a("div",{class:s.$style.dragButtonContainer},[!s.hideInputAndOutput&&s.isDraggable?a("PanelDragButton",{class:(e={},e[s.$style.draggable]=!0,e[s.$style.visible]=s.isDragging,e),attrs:{canMoveLeft:s.canMoveLeft,canMoveRight:s.canMoveRight},on:{dragstart:s.onDragStart,drag:s.onDrag,dragend:s.onDragEnd}}):s._e()],1),a("div",{class:(t={},t[s.$style.mainPanelInner]=!0,t[s.$style.dragging]=s.isDragging,t)},[s._t("main")],2)])],1)])},_p=[],Cp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Draggable",{class:e.$style.dragContainer,attrs:{type:"panel-resize"},on:{drag:e.onDrag,dragstart:e.onDragStart,dragend:e.onDragEnd},scopedSlots:e._u([{key:"default",fn:function(t){var n,a,o,i=t.isDragging;return[s("div",{class:(n={},n[e.$style.dragButton]=!0,n)},[e.canMoveLeft?s("span",{class:(a={},a[e.$style.leftArrow]=!0,a[e.$style.visible]=i,a)},[s("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1):e._e(),e.canMoveRight?s("span",{class:(o={},o[e.$style.rightArrow]=!0,o[e.$style.visible]=i,o)},[s("font-awesome-icon",{attrs:{icon:"arrow-right"}})],1):e._e(),s("div",{class:e.$style.grid},[s("div",[s("div"),s("div"),s("div"),s("div"),s("div")]),s("div",[s("div"),s("div"),s("div"),s("div"),s("div")])])])]}}])})},Np=[],Ep=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n(t.tag,{ref:"wrapper",tag:"component",class:(e={},e[t.$style.dragging]=t.isDragging,e),on:{mousedown:t.onDragStart}},[t._t("default",null,{isDragging:t.isDragging}),n("Teleport",{attrs:{to:"body"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isDragging,expression:"isDragging"}],ref:"draggable",class:t.$style.draggable,style:t.draggableStyle},[t._t("preview",null,{canDrop:t.canDrop,el:t.draggingEl})],2)])],2)},Sp=[],Dp=s("b3ec"),Ip=n["default"].extend({components:{Teleport:Dp["a"]},props:{disabled:{type:Boolean},type:{type:String},data:{type:String},tag:{type:String,default:"div"},targetDataKey:{type:String}},data(){return{isDragging:!1,draggablePosition:{x:-100,y:-100},draggingEl:null}},computed:{draggableStyle(){return{top:this.draggablePosition.y+"px",left:this.draggablePosition.x+"px"}},canDrop(){return this.$store.getters["ui/canDraggableDrop"]},stickyPosition(){return this.$store.getters["ui/draggableStickyPos"]}},methods:{onDragStart(e){if(this.disabled)return;const t=e.target;if(this.targetDataKey&&t&&t.dataset.target!==this.targetDataKey)return;this.draggingEl=t,e.preventDefault(),e.stopPropagation(),this.isDragging=!0;const s=this.targetDataKey?t.dataset.value:this.data||"";this.$store.commit("ui/draggableStartDragging",{type:this.type,data:s}),this.$emit("dragstart",this.draggingEl),document.body.style.cursor="grabbing",window.addEventListener("mousemove",this.onDrag),window.addEventListener("mouseup",this.onDragEnd),this.draggablePosition={x:e.pageX,y:e.pageY}},onDrag(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this.canDrop&&this.stickyPosition?this.draggablePosition={x:this.stickyPosition[0],y:this.stickyPosition[1]}:this.draggablePosition={x:e.pageX,y:e.pageY},this.$emit("drag",this.draggablePosition))},onDragEnd(e){this.disabled||(e.preventDefault(),e.stopPropagation(),document.body.style.cursor="unset",window.removeEventListener("mousemove",this.onDrag),window.removeEventListener("mouseup",this.onDragEnd),setTimeout(()=>{this.$emit("dragend",this.draggingEl),this.isDragging=!1,this.draggingEl=null,this.$store.commit("ui/draggableStopDragging")},0))}}}),Op=Ip,Pp=s("39b9");function Ap(e){this["$style"]=Pp["default"].locals||Pp["default"]}var Mp=Object(v["a"])(Op,Ep,Sp,!1,Ap,null,null),Lp=Mp.exports,Rp=Object(K["a"])(Lp).extend({components:{Draggable:Lp},props:{canMoveRight:{type:Boolean},canMoveLeft:{type:Boolean}},methods:{onDrag(e){this.$emit("drag",e)},onDragStart(){this.$emit("dragstart")},onDragEnd(){this.$emit("dragend")}}}),Wp=Rp,Bp=s("1c18");function Vp(e){this["$style"]=Bp["default"].locals||Bp["default"]}var Up=Object(v["a"])(Wp,Cp,Np,!1,Vp,null,null),jp=Up.exports;const Fp=24,zp=80,Hp=280,Gp=320,Kp=420,Yp={regular:N["Kb"],dragless:N["Kb"],unknown:N["Kb"],inputless:N["Kb"],wide:2*N["Kb"]};var qp=n["default"].extend({name:"NDVDraggablePanels",components:{PanelDragButton:jp},props:{isDraggable:{type:Boolean},hideInputAndOutput:{type:Boolean},position:{type:Number},nodeType:{type:Object,default:()=>({})}},data(){return{windowWidth:1,isDragging:!1,MIN_PANEL_WIDTH:Hp}},mounted(){this.setTotalWidth(),1===this.mainPanelDimensions.relativeLeft&&1===this.mainPanelDimensions.relativeRight&&(this.setMainPanelWidth(),this.setPositions(this.getInitialLeftPosition(this.mainPanelDimensions.relativeWidth)),this.restorePositionData()),window.addEventListener("resize",this.setTotalWidth),this.$emit("init",{position:this.mainPanelDimensions.relativeLeft})},destroyed(){window.removeEventListener("resize",this.setTotalWidth)},computed:{mainPanelDimensions(){return this.$store.getters["ui/mainPanelDimensions"](this.currentNodePaneType)},supportedResizeDirections(){const e=["right"];return this.isDraggable&&e.push("left"),e},currentNodePaneType(){return this.hasInputSlot?this.isDraggable?null===this.nodeType?"unknown":Object(qe["get"])(this,"nodeType.parameterPane")||"regular":"dragless":"inputless"},hasInputSlot(){return void 0!==this.$slots.input},inputPanelMargin(){return this.pxToRelativeWidth(zp)},minWindowWidth(){return 2*(Fp+zp)+Hp},minimumLeftPosition(){return this.windowWidth<this.minWindowWidth?this.pxToRelativeWidth(1):this.hasInputSlot?this.pxToRelativeWidth(Fp+20)+this.inputPanelMargin:this.pxToRelativeWidth(Fp)},maximumRightPosition(){return this.windowWidth<this.minWindowWidth?this.pxToRelativeWidth(1):this.pxToRelativeWidth(Fp+20)+this.inputPanelMargin},canMoveLeft(){return this.mainPanelDimensions.relativeLeft>this.minimumLeftPosition},canMoveRight(){return this.mainPanelDimensions.relativeRight>this.maximumRightPosition},mainPanelStyles(){return{left:this.relativeWidthToPx(this.mainPanelDimensions.relativeLeft)+"px",right:this.relativeWidthToPx(this.mainPanelDimensions.relativeRight)+"px"}},inputPanelStyles(){return{right:this.relativeWidthToPx(this.calculatedPositions.inputPanelRelativeRight)+"px"}},outputPanelStyles(){return{left:this.relativeWidthToPx(this.calculatedPositions.outputPanelRelativeLeft)+"px",transform:`translateX(-${this.relativeWidthToPx(this.outputPanelRelativeTranslate)}px)`}},calculatedPositions(){const e=void 0!==this.$slots.input,t=this.mainPanelDimensions.relativeLeft+this.mainPanelDimensions.relativeWidth,s=e?1-t+this.mainPanelDimensions.relativeWidth:1-this.pxToRelativeWidth(Fp);return{inputPanelRelativeRight:s,outputPanelRelativeLeft:t}},outputPanelRelativeTranslate(){const e=1-this.pxToRelativeWidth(Hp+Fp),t=this.calculatedPositions.outputPanelRelativeLeft-e;return t>0?t:0},hasDoubleWidth(){return"wide"===Object(qe["get"])(this,"nodeType.parameterPane")},fixedPanelWidth(){const e=this.hasDoubleWidth?2:1;return this.windowWidth>1700?Kp*e:Gp*e},isBelowMinWidthMainPanel(){const e=this.pxToRelativeWidth(Hp);return this.mainPanelDimensions.relativeWidth<e}},watch:{windowWidth(e){const t=this.pxToRelativeWidth(Hp);this.isBelowMinWidthMainPanel&&this.setMainPanelWidth(t);const s=this.minimumLeftPosition>this.mainPanelDimensions.relativeLeft,n=this.maximumRightPosition>this.mainPanelDimensions.relativeRight;e>this.minWindowWidth&&s&&n&&(this.setMainPanelWidth(t),this.setPositions(this.getInitialLeftPosition(this.mainPanelDimensions.relativeWidth))),this.setPositions(this.mainPanelDimensions.relativeLeft)}},methods:{getInitialLeftPosition(e){return"dragless"===this.currentNodePaneType?this.pxToRelativeWidth(Fp+1+this.fixedPanelWidth):this.hasInputSlot?.5-e/2:this.minimumLeftPosition},setMainPanelWidth(e){const t=e||this.pxToRelativeWidth(Yp[this.currentNodePaneType]);this.$store.commit("ui/setMainPanelDimensions",{panelType:this.currentNodePaneType,dimensions:{relativeWidth:t}})},setPositions(e){const t=e||1-this.calculatedPositions.inputPanelRelativeRight,s=1-t-this.mainPanelDimensions.relativeWidth,n=this.maximumRightPosition>s,a=this.minimumLeftPosition>t,o="inputless"===this.currentNodePaneType;a?this.$store.commit("ui/setMainPanelDimensions",{panelType:this.currentNodePaneType,dimensions:{relativeLeft:this.minimumLeftPosition,relativeRight:1-this.mainPanelDimensions.relativeWidth-this.minimumLeftPosition}}):n?this.$store.commit("ui/setMainPanelDimensions",{panelType:this.currentNodePaneType,dimensions:{relativeLeft:1-this.mainPanelDimensions.relativeWidth-this.maximumRightPosition,relativeRight:this.maximumRightPosition}}):this.$store.commit("ui/setMainPanelDimensions",{panelType:this.currentNodePaneType,dimensions:{relativeLeft:o?this.minimumLeftPosition:t,relativeRight:s}})},pxToRelativeWidth(e){return e/this.windowWidth},relativeWidthToPx(e){return e*this.windowWidth},onResizeStart(){this.setTotalWidth()},onResizeEnd(){this.storePositionData()},onResize({direction:e,x:t,width:s}){const n=this.pxToRelativeWidth(t),a=this.pxToRelativeWidth(s);"left"===e&&n<=this.minimumLeftPosition||"right"===e&&1-n<=this.maximumRightPosition||s<=Hp||(this.setMainPanelWidth(a),this.setPositions("left"===e?n:this.mainPanelDimensions.relativeLeft))},restorePositionData(){const e=window.localStorage.getItem(`${N["Gb"]}_${this.currentNodePaneType}`);if(e){const t=parseFloat(e);this.setMainPanelWidth(t);const s=this.getInitialLeftPosition(t);return this.setPositions(s),!0}return!1},storePositionData(){window.localStorage.setItem(`${N["Gb"]}_${this.currentNodePaneType}`,this.mainPanelDimensions.relativeWidth.toString())},onDragStart(){this.isDragging=!0,this.$emit("dragstart",{position:this.mainPanelDimensions.relativeLeft})},onDrag(e){const t=this.pxToRelativeWidth(e.x)-this.mainPanelDimensions.relativeWidth/2;this.setPositions(t)},onDragEnd(){setTimeout(()=>{this.isDragging=!1,this.$emit("dragend",{windowWidth:this.windowWidth,position:this.mainPanelDimensions.relativeLeft})},0),this.storePositionData()},setTotalWidth(){this.windowWidth=window.innerWidth},close(){this.$emit("close")}}}),Jp=qp,Xp=s("e854");function Qp(e){this["$style"]=Xp["default"].locals||Xp["default"]}var Zp=Object(v["a"])(Jp,$p,_p,!1,Qp,null,null),eh=Zp.exports,th=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("RunData",{ref:"runData",attrs:{nodeUi:e.node,runIndex:e.runIndex,linkedRuns:e.linkedRuns,canLinkRuns:e.canLinkRuns,tooMuchDataTitle:e.$locale.baseText("ndv.output.tooMuchData.title"),noDataInBranchMessage:e.$locale.baseText("ndv.output.noOutputDataInBranch"),isExecuting:e.isNodeRunning,executingMessage:e.$locale.baseText("ndv.output.executing"),sessionId:e.sessionId,isReadOnly:e.isReadOnly,paneType:"output"},on:{runChange:e.onRunIndexChange,linkRun:e.onLinkRun,unlinkRun:e.onUnlinkRun,tableMounted:function(t){return e.$emit("tableMounted",t)}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{class:e.$style.titleSection},[s("span",{class:e.$style.title},[e._v(" "+e._s(e.$locale.baseText(e.outputPanelEditMode.enabled?"ndv.output.edit":"ndv.output"))+" ")]),e.hasPinData||1!==e.runsCount?e._e():s("RunInfo",{directives:[{name:"show",rawName:"v-show",value:!e.outputPanelEditMode.enabled,expression:"!outputPanelEditMode.enabled"}],attrs:{taskData:e.runTaskData}}),e.hasNodeRun&&e.staleData?s("n8n-info-tip",{attrs:{theme:"warning",type:"tooltip",tooltipPlacement:"right"}},[[s("span",{domProps:{innerHTML:e._s(e.$locale.baseText(e.hasPinData?"ndv.output.staleDataWarning.pinData":"ndv.output.staleDataWarning.regular"))}})]],2):e._e()],1)]},proxy:!0},{key:"node-not-run",fn:function(){return[e.workflowRunning&&!e.isTriggerNode?s("n8n-text",[e._v(e._s(e.$locale.baseText("ndv.output.waitingToRun")))]):e._e(),e.workflowRunning?e._e():s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("ndv.output.runNodeHint"))+" "),e.canPinData?s("span",{on:{click:e.insertTestData}},[s("br"),e._v(" "+e._s(e.$locale.baseText("generic.or"))+" "),s("n8n-text",{attrs:{tag:"a",size:"medium",color:"primary"}},[e._v(" "+e._s(e.$locale.baseText("ndv.output.insertTestData"))+" ")])],1):e._e()])]},proxy:!0},{key:"no-output-data",fn:function(){return[s("n8n-text",{attrs:{bold:!0,color:"text-dark",size:"large"}},[e._v(e._s(e.$locale.baseText("ndv.output.noOutputData.title")))]),s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("ndv.output.noOutputData.message"))+" "),s("a",{on:{click:e.openSettings}},[e._v(e._s(e.$locale.baseText("ndv.output.noOutputData.message.settings")))]),e._v(" "+e._s(e.$locale.baseText("ndv.output.noOutputData.message.settingsOption"))+" ")])]},proxy:!0},!e.hasPinData&&e.runsCount>1?{key:"run-info",fn:function(){return[s("RunInfo",{attrs:{taskData:e.runTaskData}})]},proxy:!0}:null],null,!0)})},sh=[],nh=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("div",{class:t.$style.container},[t.canPinData&&t.hasPinData&&!t.editMode.enabled?n("n8n-callout",{class:t.$style["pinned-data-callout"],attrs:{theme:"secondary",icon:"thumbtack"},scopedSlots:t._u([{key:"trailingContent",fn:function(){return[n("n8n-link",{attrs:{to:t.dataPinningDocsUrl,size:"small",theme:"secondary",bold:"",underline:""},on:{click:t.onClickDataPinningDocsLink}},[t._v(" "+t._s(t.$locale.baseText("runData.pindata.learnMore"))+" ")])]},proxy:!0}],null,!1,1222290153)},[t._v(" "+t._s(t.$locale.baseText("runData.pindata.thisDataIsPinned"))+" "),t.isReadOnly?t._e():n("span",{staticClass:"ml-4xs"},[n("n8n-link",{attrs:{theme:"secondary",size:"small",underline:"",bold:""},on:{click:function(e){return t.onTogglePinData({source:"banner-link"})}}},[t._v(" "+t._s(t.$locale.baseText("runData.pindata.unpin"))+" ")])],1)]):t._e(),n("BinaryDataDisplay",{attrs:{windowVisible:t.binaryDataDisplayVisible,displayData:t.binaryDataDisplayData},on:{close:t.closeBinaryDataDisplay}}),n("div",{class:t.$style.header},[t._t("header"),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasRunError,expression:"!hasRunError"}],class:t.$style.displayModes,on:{click:function(e){e.stopPropagation()}}},[n("n8n-radio-buttons",{directives:[{name:"show",rawName:"v-show",value:t.hasNodeRun&&(t.jsonData&&t.jsonData.length>0||t.binaryData&&t.binaryData.length>0)&&!t.editMode.enabled,expression:"hasNodeRun && ((jsonData && jsonData.length > 0) || (binaryData && binaryData.length > 0)) && !editMode.enabled"}],attrs:{value:t.displayMode,options:t.buttons},on:{input:t.onDisplayModeChange}}),t.canPinData&&!t.isReadOnly?n("n8n-icon-button",{directives:[{name:"show",rawName:"v-show",value:!t.editMode.enabled,expression:"!editMode.enabled"}],staticClass:"ml-2xs",attrs:{title:t.$locale.baseText("runData.editOutput"),circle:!1,disabled:t.node.disabled,icon:"pencil-alt",type:"tertiary"},on:{click:function(e){return t.enterEditMode({origin:"editIconButton"})}}}):t._e(),t.canPinData&&t.jsonData&&t.jsonData.length>0?n("n8n-tooltip",{directives:[{name:"show",rawName:"v-show",value:!t.editMode.enabled,expression:"!editMode.enabled"}],attrs:{placement:"bottom-end",value:t.pinDataDiscoveryTooltipVisible,manual:t.isControlledPinDataTooltip},scopedSlots:t._u([t.isControlledPinDataTooltip?{key:"content",fn:function(){return[n("div",{class:t.$style["tooltip-container"]},[t._v(" "+t._s(t.$locale.baseText("node.discovery.pinData.ndv"))+" ")])]},proxy:!0}:{key:"content",fn:function(){return[n("div",{class:t.$style["tooltip-container"]},[n("strong",[t._v(t._s(t.$locale.baseText("ndv.pinData.pin.title")))]),n("n8n-text",{attrs:{size:"small",tag:"p"}},[t._v(" "+t._s(t.$locale.baseText("ndv.pinData.pin.description"))+" "),n("n8n-link",{attrs:{to:t.dataPinningDocsUrl,size:"small"}},[t._v(" "+t._s(t.$locale.baseText("ndv.pinData.pin.link"))+" ")])],1)],1)]},proxy:!0}],null,!0)},[n("n8n-icon-button",{class:["ml-2xs",t.$style["pin-data-button"]],attrs:{type:"tertiary",active:t.hasPinData,icon:"thumbtack",disabled:t.editMode.enabled||0===t.inputData.length&&!t.hasPinData||t.isReadOnly},on:{click:function(e){return t.onTogglePinData({source:"pin-icon-click"})}}})],1):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.editMode.enabled,expression:"editMode.enabled"}],class:t.$style["edit-mode-actions"]},[n("n8n-button",{attrs:{type:"tertiary",label:t.$locale.baseText("runData.editor.cancel")},on:{click:t.onClickCancelEdit}}),n("n8n-button",{staticClass:"ml-2xs",attrs:{type:"primary",label:t.$locale.baseText("runData.editor.save")},on:{click:t.onClickSaveEdit}})],1)],1)],2),t.maxRunIndex>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode.enabled,expression:"!editMode.enabled"}],class:t.$style.runSelector},[n("n8n-select",{attrs:{size:"small",value:t.runIndex},on:{input:t.onRunIndexChange,click:function(e){e.stopPropagation()}}},[n("template",{slot:"prepend"},[t._v(t._s(t.$locale.baseText("ndv.output.run")))]),t._l(t.maxRunIndex+1,(function(e){return n("n8n-option",{key:e,attrs:{label:t.getRunLabel(e),value:e-1}})}))],2),t.canLinkRuns?n("n8n-tooltip",{attrs:{placement:"right",content:t.$locale.baseText(t.linkedRuns?"runData.unlinking.hint":"runData.linking.hint")}},[t.linkedRuns?n("n8n-icon-button",{attrs:{icon:"unlink",text:"",type:"tertiary",size:"small"},on:{click:t.unlinkRun}}):n("n8n-icon-button",{attrs:{icon:"link",text:"",type:"tertiary",size:"small"},on:{click:t.linkRun}})],1):t._e(),t._t("run-info")],2):t._e(),t.maxOutputIndex>0&&t.branches.length>1?n("div",{class:(e={},e[t.$style.tabs]="table"===t.displayMode,e)},[n("n8n-tabs",{attrs:{value:t.currentOutputIndex,options:t.branches},on:{input:t.onBranchChange}})],1):t.hasNodeRun&&t.dataCount>0&&0===t.maxRunIndex?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode.enabled,expression:"!editMode.enabled"}],class:t.$style.itemsCount},[n("n8n-text",[t._v(" "+t._s(t.dataCount)+" "+t._s(t.$locale.baseText("ndv.output.items",{adjustToNumber:t.dataCount}))+" ")])],1):t._e(),n("div",{ref:"dataContainer",class:[t.$style["data-container"],t.copyDropdownOpen?t.$style["copy-dropdown-open"]:""]},[t.hasNodeRun&&!t.hasRunError&&"json"===t.displayMode?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode.enabled,expression:"!editMode.enabled"}],class:t.$style["actions-group"]},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCopyClick,"visible-change":function(e){t.copyDropdownOpen=e}}},[n("span",{staticClass:"el-dropdown-link"},[n("n8n-icon-button",{attrs:{title:t.$locale.baseText("runData.copyToClipboard"),icon:"copy",type:"tertiary",circle:!1}})],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:{command:"value"}}},[t._v(" "+t._s(t.$locale.baseText("runData.copyValue"))+" ")]),n("el-dropdown-item",{attrs:{command:{command:"itemPath"},divided:""}},[t._v(" "+t._s(t.$locale.baseText("runData.copyItemPath"))+" ")]),n("el-dropdown-item",{attrs:{command:{command:"parameterPath"}}},[t._v(" "+t._s(t.$locale.baseText("runData.copyParameterPath"))+" ")])],1)],1)],1):t._e(),t.isExecuting?n("div",{class:t.$style.center},[n("div",{class:t.$style.spinner},[n("n8n-spinner",{attrs:{type:"ring"}})],1),n("n8n-text",[t._v(t._s(t.executingMessage))])],1):t.editMode.enabled?n("div",{class:t.$style["edit-mode"]},[n("div",{class:t.$style["edit-mode-body"]},[n("code-editor",{attrs:{value:t.editMode.value,options:{scrollBeyondLastLine:!1},type:"json"},on:{input:function(e){return t.$store.commit("ui/setOutputPanelEditModeValue",e)}}})],1),n("div",{class:t.$style["edit-mode-footer"]},[n("n8n-info-tip",{class:t.$style["edit-mode-footer-infotip"],attrs:{bold:!1}},[t._v(" "+t._s(t.$locale.baseText("runData.editor.copyDataInfo"))+" "),n("n8n-link",{attrs:{to:t.dataEditingDocsUrl,size:"small"}},[t._v(" "+t._s(t.$locale.baseText("generic.learnMore"))+" ")])],1)],1)]):t.hasNodeRun?"input"===t.paneType&&t.node.disabled?n("div",{class:t.$style.center},[n("n8n-text",[t._v(" "+t._s(t.$locale.baseText("ndv.input.disabled",{interpolate:{nodeName:t.node.name}}))+" "),n("n8n-link",{on:{click:t.enableNode}},[t._v(" "+t._s(t.$locale.baseText("ndv.input.disabled.cta"))+" ")])],1)],1):t.hasNodeRun&&t.hasRunError?n("div",{class:t.$style.stretchVertically},[t.isPaneTypeInput?n("n8n-text",{class:t.$style.center,attrs:{size:"large",tag:"p",bold:""}},[t._v(" "+t._s(t.$locale.baseText("nodeErrorView.inputPanel.previousNodeError.title",{interpolate:{nodeName:t.node.name}}))+" "),n("n8n-link",{on:{click:t.goToErroredNode}},[t._v(" "+t._s(t.$locale.baseText("nodeErrorView.inputPanel.previousNodeError.text"))+" ")])],1):n("NodeErrorView",{class:t.$style.errorDisplay,attrs:{error:t.workflowRunData[t.node.name][t.runIndex].error}})],1):t.hasNodeRun&&t.jsonData&&0===t.jsonData.length&&t.branches.length>1?n("div",{class:t.$style.center},[n("n8n-text",[t._v(" "+t._s(t.noDataInBranchMessage)+" ")])],1):t.hasNodeRun&&t.jsonData&&0===t.jsonData.length?n("div",{class:t.$style.center},[t._t("no-output-data")],2):t.hasNodeRun&&!t.showData?n("div",{class:t.$style.center},[n("n8n-text",{attrs:{bold:!0,color:"text-dark",size:"large"}},[t._v(t._s(t.tooMuchDataTitle))]),n("n8n-text",{attrs:{align:"center",tag:"div"}},[n("span",{domProps:{innerHTML:t._s(t.$locale.baseText("ndv.output.tooMuchData.message",{interpolate:{size:t.dataSizeInMB}}))}})]),n("n8n-button",{attrs:{outline:"",label:t.$locale.baseText("ndv.output.tooMuchData.showDataAnyway")},on:{click:t.showTooMuchData}})],1):t.hasNodeRun&&"table"===t.displayMode&&t.binaryData.length>0&&1===t.jsonData.length&&0===Object.keys(t.jsonData[0]||{}).length?n("div",{class:t.$style.center},[n("n8n-text",[t._v(" "+t._s(t.$locale.baseText("runData.switchToBinary.info"))+" "),n("a",{on:{click:t.switchToBinary}},[t._v(" "+t._s(t.$locale.baseText("runData.switchToBinary.binary"))+" ")])])],1):t.hasNodeRun&&"table"===t.displayMode?n("div",{staticClass:"ph-no-capture",class:t.$style.dataDisplay},[n("RunDataTable",{attrs:{node:t.node,inputData:t.inputData,mappingEnabled:t.mappingEnabled,distanceFromActive:t.distanceFromActive,showMappingHint:t.showMappingHint,runIndex:t.runIndex,totalRuns:t.maxRunIndex},on:{mounted:function(e){return t.$emit("tableMounted",e)}}})],1):t.hasNodeRun&&"json"===t.displayMode?n("div",{staticClass:"ph-no-capture",class:t.$style.jsonDisplay},[n("vue-json-pretty",{staticClass:"json-data",attrs:{data:t.jsonData,deep:10,showLine:!0,showLength:!0,selectableType:"single",path:"",highlightSelectedNode:!0,selectOnClickNode:!0},on:{click:t.dataItemClicked},model:{value:t.selectedOutput.path,callback:function(e){t.$set(t.selectedOutput,"path",e)},expression:"selectedOutput.path"}})],1):"binary"===t.displayMode&&0===t.binaryData.length?n("div",{class:t.$style.center},[n("n8n-text",{attrs:{align:"center",tag:"div"}},[t._v(t._s(t.$locale.baseText("runData.noBinaryDataFound")))])],1):"binary"===t.displayMode?n("div",{class:t.$style.dataDisplay},t._l(t.binaryData,(function(e,s){return n("div",{key:s},[t.binaryData.length>1?n("div",{class:t.$style.binaryIndex},[n("div",[t._v(" "+t._s(s+1)+" ")])]):t._e(),n("div",{class:t.$style.binaryRow},t._l(e,(function(e,a){return n("div",{key:s+"_"+a,class:t.$style.binaryCell},[n("div",[n("div",{class:t.$style.binaryHeader},[t._v(" "+t._s(a)+" ")]),e.fileName?n("div",[n("div",[n("n8n-text",{attrs:{size:"small",bold:!0}},[t._v(t._s(t.$locale.baseText("runData.fileName"))+": ")])],1),n("div",{class:t.$style.binaryValue},[t._v(t._s(e.fileName))])]):t._e(),e.directory?n("div",[n("div",[n("n8n-text",{attrs:{size:"small",bold:!0}},[t._v(t._s(t.$locale.baseText("runData.directory"))+": ")])],1),n("div",{class:t.$style.binaryValue},[t._v(t._s(e.directory))])]):t._e(),e.fileExtension?n("div",[n("div",[n("n8n-text",{attrs:{size:"small",bold:!0}},[t._v(t._s(t.$locale.baseText("runData.fileExtension"))+":")])],1),n("div",{class:t.$style.binaryValue},[t._v(t._s(e.fileExtension))])]):t._e(),e.mimeType?n("div",[n("div",[n("n8n-text",{attrs:{size:"small",bold:!0}},[t._v(t._s(t.$locale.baseText("runData.mimeType"))+": ")])],1),n("div",{class:t.$style.binaryValue},[t._v(t._s(e.mimeType))])]):t._e(),n("div",{class:t.$style.binaryButtonContainer},[n("n8n-button",{staticClass:"binary-data-show-data-button",attrs:{size:"small",label:t.$locale.baseText("runData.showBinaryData")},on:{click:function(e){return t.displayBinaryData(s,a)}}}),t.isDownloadable(s,a)?n("n8n-button",{staticClass:"binary-data-show-data-button",attrs:{size:"small",type:"secondary",label:t.$locale.baseText("runData.downloadBinaryData")},on:{click:function(e){return t.downloadBinaryData(s,a)}}}):t._e()],1)])])})),0)])})),0):t._e():n("div",{class:t.$style.center},[t._t("node-not-run")],2)]),t.hasNodeRun&&!t.hasRunError&&t.dataCount>t.pageSize?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode.enabled,expression:"!editMode.enabled"}],class:t.$style.pagination},[n("el-pagination",{attrs:{background:"","hide-on-single-page":!0,"current-page":t.currentPage,"pager-count":5,"page-size":t.pageSize,layout:"prev, pager, next",total:t.dataCount},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.onCurrentPageChange}}),n("div",{class:t.$style.pageSizeSelector},[n("n8n-select",{attrs:{size:"mini",value:t.pageSize},on:{input:t.onPageSizeChange}},[n("template",{slot:"prepend"},[t._v(t._s(t.$locale.baseText("ndv.output.pageSize")))]),t._l(t.pageSizes,(function(e){return n("n8n-option",{key:e,attrs:{label:e,value:e}})})),n("n8n-option",{attrs:{label:t.$locale.baseText("ndv.output.all"),value:t.dataCount}})],2)],1)],1):t._e()],1)},ah=[],oh=s("1346"),ih=s.n(oh),rh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.windowVisible?s("div",{staticClass:"binary-data-window"},[s("n8n-button",{staticClass:"binary-data-window-back",attrs:{size:"small",title:e.$locale.baseText("binaryDataDisplay.backToOverviewPage"),icon:"arrow-left",label:e.$locale.baseText("binaryDataDisplay.backToList")},on:{click:function(t){return t.stopPropagation(),e.closeWindow.apply(null,arguments)}}}),s("div",{staticClass:"binary-data-window-wrapper"},[e.binaryData?s("BinaryDataDisplayEmbed",{attrs:{binaryData:e.binaryData}}):s("div",[e._v(" "+e._s(e.$locale.baseText("binaryDataDisplay.noDataFoundToDisplay"))+" ")])],1)],1):e._e()},lh=[],ch=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.isLoading?s("div",[e._v(" Loading binary data... ")]):e.error?s("div",[e._v(" Error loading binary data ")]):s("span",[e.binaryData.mimeType&&e.binaryData.mimeType.startsWith("video/")?s("video",{attrs:{controls:"",autoplay:""}},[s("source",{attrs:{src:e.embedSource,type:e.binaryData.mimeType}}),e._v(" "+e._s(e.$locale.baseText("binaryDataDisplay.yourBrowserDoesNotSupport"))+" ")]):s("embed",{staticClass:"binary-data",class:e.embedClass(),attrs:{src:e.embedSource}})])])},dh=[],uh=Object(K["a"])(Dt["a"]).extend({name:"BinaryDataDisplayEmbed",props:["binaryData"],data(){return{isLoading:!0,embedSource:"",error:!1}},async mounted(){if(!this.binaryData.id)return this.embedSource="data:"+this.binaryData.mimeType+";base64,"+this.binaryData.data,void(this.isLoading=!1);try{const e=await this.restApi().getBinaryBufferString(this.binaryData.id);this.embedSource="data:"+this.binaryData.mimeType+";base64,"+e,this.isLoading=!1}catch(e){this.isLoading=!1,this.error=!0}},methods:{embedClass(){return null!==this.binaryData&&void 0!==this.binaryData.mimeType&&this.binaryData.mimeType.startsWith("image")?["image"]:["other"]}}}),ph=uh,hh=(s("b523"),Object(v["a"])(ph,ch,dh,!1,null,null,null)),mh=hh.exports,gh=Object(K["a"])(Me["a"],Dt["a"]).extend({name:"BinaryDataDisplay",components:{BinaryDataDisplayEmbed:mh},props:["displayData","windowVisible"],computed:{binaryData(){const e=this.getBinaryData(this.workflowRunData,this.displayData.node,this.displayData.runIndex,this.displayData.outputIndex);if(0===e.length)return null;if(this.displayData.index>=e.length||void 0===e[this.displayData.index][this.displayData.key])return null;const t=e[this.displayData.index][this.displayData.key];return t},embedClass(){return null!==this.binaryData&&void 0!==this.binaryData.mimeType&&this.binaryData.mimeType.startsWith("image")?["image"]:["other"]},workflowRunData(){const e=this.$store.getters.getWorkflowExecution;if(null===e)return null;const t=e.data;return t.resultData.runData}},methods:{closeWindow(){return this.$emit("close"),!1}}}),fh=gh,wh=(s("d03a"),Object(v["a"])(fh,rh,lh,!1,null,null,null)),yh=wh.exports,bh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"error-header"},[s("div",{staticClass:"error-message"},[e._v(e._s(e.$locale.baseText("nodeErrorView.error")+": "+e.getErrorMessage()))]),e.error.description?s("div",{staticClass:"error-description"},[e._v(e._s(e.getErrorDescription()))]):e._e()]),s("details",[s("summary",{staticClass:"error-details__summary"},[s("font-awesome-icon",{staticClass:"error-details__icon",attrs:{icon:"angle-right"}}),e._v(" "+e._s(e.$locale.baseText("nodeErrorView.details"))+" ")],1),s("div",{staticClass:"error-details__content"},[e.error.context&&e.error.context.causeDetailed?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",[e._v(" "+e._s(e.error.context.causeDetailed)+" ")])])],1):e._e(),e.error.timestamp?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s(e.$locale.baseText("nodeErrorView.time")))])]),s("div",[e._v(" "+e._s(new Date(e.error.timestamp).toLocaleString())+" ")])])],1):e._e(),e.error.context&&void 0!==e.error.context.itemIndex?s("div",{staticClass:"el-card box-card is-never-shadow el-card__body"},[s("span",{staticClass:"error-details__summary"},[e._v(e._s(e.$locale.baseText("nodeErrorView.itemIndex"))+":")]),e._v(" "+e._s(e.error.context.itemIndex)+" "),e.error.context.runIndex?s("span",[e._v(" | "),s("span",{staticClass:"error-details__summary"},[e._v(e._s(e.$locale.baseText("nodeErrorView.itemIndex"))+":")]),e._v(" "+e._s(e.error.context.runIndex)+" ")]):e._e(),e.error.context.parameter?s("span",[e._v(" | "),s("span",{staticClass:"error-details__summary"},[e._v(e._s(e.$locale.baseText("nodeErrorView.inParameter"))+":")]),e._v(" "+e._s(e.parameterDisplayName(e.error.context.parameter))+" ")]):e._e()]):e._e(),e.error.httpCode?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s(e.$locale.baseText("nodeErrorView.httpCode")))])]),s("div",[e._v(" "+e._s(e.error.httpCode)+" ")])])],1):e._e(),e.error.cause?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s(e.$locale.baseText("nodeErrorView.cause")))]),s("br"),s("span",{staticClass:"box-card__subtitle"},[e._v(e._s(e.$locale.baseText("nodeErrorView.dataBelowMayContain")))])]),s("div",[e.displayCause?s("div",{staticClass:"copy-button"},[s("n8n-icon-button",{attrs:{title:e.$locale.baseText("nodeErrorView.copyToClipboard"),icon:"copy"},on:{click:e.copyCause}})],1):e._e(),e.displayCause?s("vue-json-pretty",{staticClass:"json-data",attrs:{data:e.error.cause,deep:3,showLength:!0,selectableType:"single",path:"error"}}):s("span",[s("font-awesome-icon",{attrs:{icon:"info-circle"}}),e._v(e._s(e.$locale.baseText("nodeErrorView.theErrorCauseIsTooLargeToBeDisplayed"))+" ")],1)],1)])],1):e._e(),e.error.stack?s("div",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix box-card__title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s(e.$locale.baseText("nodeErrorView.stack")))])]),s("div",[s("pre",[s("code",[e._v(e._s(e.error.stack))])])])])],1):e._e()])])])},vh=[],xh=Object(K["a"])(Je,Y["a"]).extend({name:"NodeErrorView",props:["error"],components:{VueJsonPretty:ih.a},computed:{displayCause(){return JSON.stringify(this.error.cause).length<N["Wb"]},parameters(){const e=this.$store.getters.activeNode;if(!e)return[];const t=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion);return null===t?[]:t.properties}},methods:{getErrorDescription(){if(!this.error.context||!this.error.context.descriptionTemplate)return this.error.description;const e=this.parameterDisplayName(this.error.context.parameter);return this.error.context.descriptionTemplate.replace(/%%PARAMETER%%/g,e)},getErrorMessage(){if(!this.error.context||!this.error.context.messageTemplate)return this.error.message;const e=this.parameterDisplayName(this.error.context.parameter);return this.error.context.messageTemplate.replace(/%%PARAMETER%%/g,e)},parameterDisplayName(e){try{const t=this.parameterName(this.parameters,e.split("."));if(!t.length)throw new Error;return t.map(e=>e.displayName).join(" > ")}catch(t){return`Could not find parameter "${e}"`}},parameterName(e,t){let s=t.shift();if(void 0===s)return[];const n=s.match(/(.*)\[([\d])\]$/);null!==n&&n.length>0&&(s=n[1]);const a=e.find(e=>e.name===s);if(void 0===a)throw new Error(`Could not find parameter "${s}"`);return 0===t.length?[a]:a.hasOwnProperty("options")?[a,...this.parameterName(a.options,t)]:a.hasOwnProperty("values")?[a,...this.parameterName(a.values,t)]:[a]},copyCause(){this.copyToClipboard(JSON.stringify(this.error.cause)),this.copySuccess()},copySuccess(){this.$showMessage({title:this.$locale.baseText("nodeErrorView.showMessage.title"),type:"info"})}}}),kh=xh,Th=(s("e8d2"),Object(v["a"])(kh,bh,vh,!1,null,null,null)),$h=Th.exports,_h=s("7459"),Ch=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.tableData.columns&&0===e.tableData.columns.length?s("table",{class:e.$style.table},[s("tr",[s("th",{class:e.$style.emptyCell}),s("th",{class:e.$style.tableRightMargin})]),e._l(e.tableData.data,(function(t,n){return s("tr",{key:n},[s("td",[s("n8n-text",[e._v(e._s(e.$locale.baseText("runData.emptyItemHint")))])],1),s("td",{class:e.$style.tableRightMargin})])}))],2):s("table",{class:e.$style.table},[s("thead",[s("tr",[e._l(e.tableData.columns||[],(function(t,n){return s("th",{key:t},[s("n8n-tooltip",{attrs:{placement:"bottom-start",disabled:!e.mappingEnabled||e.showHintWithDelay,"open-delay":1e3}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("img",{attrs:{src:"/static/data-mapping-gif.gif"}}),e._v(" "+e._s(e.$locale.baseText("dataMapping.dragColumnToFieldHint"))+" ")]),s("Draggable",{attrs:{type:"mapping",data:e.getExpression(t),disabled:!e.mappingEnabled},on:{dragstart:e.onDragStart,dragend:function(t){return e.onDragEnd(t,"column")}},scopedSlots:e._u([{key:"preview",fn:function(n){var a=n.canDrop;return[s("div",{class:[e.$style.dragPill,a?e.$style.droppablePill:e.$style.defaultPill]},[e._v(" "+e._s(e.$locale.baseText("dataMapping.mapSpecificColumnToField",{interpolate:{name:e.shorten(t,16,2)}}))+" ")])]}},{key:"default",fn:function(a){var o,i=a.isDragging;return[s("div",{class:(o={},o[e.$style.header]=!0,o[e.$style.draggableHeader]=e.mappingEnabled,o[e.$style.activeHeader]=(n===e.activeColumn||e.forceShowGrip)&&e.mappingEnabled,o[e.$style.draggingHeader]=i,o)},[s("span",[e._v(e._s(t||""))]),e.mappingEnabled?s("n8n-tooltip",{attrs:{placement:"bottom-start",manual:!0,value:0===n&&e.showHintWithDelay}},[e.focusedMappableInput?s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$locale.baseText("dataMapping.tableHint",{interpolate:{name:e.focusedMappableInput}}))},slot:"content"}):s("div",{attrs:{slot:"content"},slot:"content"},[s("img",{attrs:{src:"/static/data-mapping-gif.gif"}}),e._v(" "+e._s(e.$locale.baseText("dataMapping.dragColumnToFieldHint"))+" ")]),s("div",{class:e.$style.dragButton},[s("font-awesome-icon",{attrs:{icon:"grip-vertical"}})],1)]):e._e()],1)]}}],null,!0)})],1)],1)})),s("th",{class:e.$style.tableRightMargin})],2)]),s("Draggable",{ref:"draggable",attrs:{tag:"tbody",type:"mapping",targetDataKey:"mappable",disabled:!e.mappingEnabled},on:{dragstart:e.onCellDragStart,dragend:e.onCellDragEnd},scopedSlots:e._u([{key:"preview",fn:function(t){var n=t.canDrop,a=t.el;return[s("div",{class:[e.$style.dragPill,n?e.$style.droppablePill:e.$style.defaultPill]},[e._v(" "+e._s(e.$locale.baseText(e.tableData.data.length>1?"dataMapping.mapAllKeysToField":"dataMapping.mapSpecificColumnToField",{interpolate:{name:e.shorten(e.getPathNameFromTarget(a)||"",16,2)}}))+" ")])]}}])},[e._l(e.tableData.data,(function(t,n){return s("tr",{key:n},[e._l(t,(function(t,n){return s("td",{key:n,class:e.hasJsonInColumn(n)?e.$style.minColWidth:e.$style.limitColWidth,attrs:{"data-col":n},on:{mouseenter:e.onMouseEnterCell,mouseleave:e.onMouseLeaveCell}},[e.isSimple(t)?s("span",{class:e.$style.value},[e._v(e._s([null,void 0].includes(t)?"":t))]):s("n8n-tree",{attrs:{nodeClass:e.$style.nodeClass,value:t},scopedSlots:e._u([{key:"label",fn:function(t){var a,o=t.label,i=t.path;return[s("span",{class:(a={},a[e.$style.hoveringKey]=e.mappingEnabled&&e.isHovering(i,n),a[e.$style.draggingKey]=e.isDraggingKey(i,n),a[e.$style.dataKey]=!0,a[e.$style.mappable]=e.mappingEnabled,a),attrs:{"data-target":"mappable","data-name":e.getCellPathName(i,n),"data-value":e.getCellExpression(i,n),"data-depth":i.length},on:{mouseenter:function(){return e.onMouseEnterKey(i,n)},mouseleave:e.onMouseLeaveKey}},[e._v(e._s(o||e.$locale.baseText("runData.unnamedField")))])]}},{key:"value",fn:function(t){var n,a=t.value;return[s("span",{class:(n={},n[e.$style.nestedValue]=!0,n[e.$style.empty]=e.isEmpty(a),n)},[e._v(e._s(e.getValueToRender(a)))])]}}],null,!0)})],1)})),s("td",{class:e.$style.tableRightMargin})],2)}))],2)],1)])},Nh=[],Eh=Object(K["a"])(ln["a"]).extend({name:"RunDataTable",components:{Draggable:Lp},props:{node:{type:Object},inputData:{type:Array},mappingEnabled:{type:Boolean},distanceFromActive:{type:Number},showMappingHint:{type:Boolean},runIndex:{type:Number},totalRuns:{type:Number}},data(){return{activeColumn:-1,showHintWithDelay:!1,forceShowGrip:!1,draggedColumn:!1,draggingPath:null,hoveringPath:null,mappingHintVisible:!1}},mounted(){if(this.showMappingHint&&(this.mappingHintVisible=!0,setTimeout(()=>{this.mappingHintVisible=!1},6e3)),this.showMappingHint&&this.showHint&&setTimeout(()=>{this.showHintWithDelay=this.showHint,this.$telemetry.track("User viewed data mapping tooltip",{type:"param focus"})},500),this.tableData&&this.tableData.columns&&this.$refs.draggable){const e=this.$refs.draggable.$refs.wrapper;e&&this.$emit("mounted",{avgRowHeight:e.offsetHeight/this.tableData.data.length})}},computed:{tableData(){return this.convertToTable(this.inputData)},focusedMappableInput(){return this.$store.getters["ui/focusedMappableInput"]},showHint(){return!this.draggedColumn&&(this.showMappingHint&&this.mappingHintVisible||!!this.focusedMappableInput&&"true"!==window.localStorage.getItem(N["Hb"]))}},methods:{shorten:We["p"],onMouseEnterCell(e){const t=e.target;if(t&&this.mappingEnabled){const e=t.dataset.col;e&&!isNaN(parseInt(e,10))&&(this.activeColumn=parseInt(e,10))}},onMouseLeaveCell(){this.activeColumn=-1},onMouseEnterKey(e,t){this.hoveringPath=this.getCellExpression(e,t)},onMouseLeaveKey(){this.hoveringPath=null},isHovering(e,t){const s=this.getCellExpression(e,t);return this.hoveringPath===s},getExpression(e){return this.node?1===this.distanceFromActive?`{{ $json["${e}"] }}`:`{{ $node["${this.node.name}"].json["${e}"] }}`:""},getPathNameFromTarget(e){return e?e.dataset.name:""},getCellPathName(e,t){const s=e[e.length-1];if("string"===typeof s)return s;if(e.length>1){const t=e[e.length-2];return`${t}[${s}]`}const n=this.tableData.columns[t];return`${n}[${s}]`},getCellExpression(e,t){if(!this.node)return"";const s=e.reduce((e,t)=>"number"===typeof t?`${e}[${t}]`:`${e}["${t}"]`,""),n=this.tableData.columns[t];return 1===this.distanceFromActive?`{{ $json["${n}"]${s} }}`:`{{ $node["${this.node.name}"].json["${n}"]${s} }}`},isEmpty(e){return""===e||Array.isArray(e)&&0===e.length||"object"===typeof e&&null!==e&&0===Object.keys(e).length},getValueToRender(e){return""===e?this.$locale.baseText("runData.emptyString"):"string"===typeof e?e.replaceAll("\n","\\n"):Array.isArray(e)&&0===e.length?this.$locale.baseText("runData.emptyArray"):"object"===typeof e&&null!==e&&0===Object.keys(e).length?this.$locale.baseText("runData.emptyObject"):e},onDragStart(){this.draggedColumn=!0,this.$store.commit("ui/resetMappingTelemetry")},onCellDragStart(e){e&&e.dataset.value&&(this.draggingPath=e.dataset.value),this.onDragStart()},onCellDragEnd(e){this.draggingPath=null,this.onDragEnd(e.dataset.name||"","tree",e.dataset.depth||"0")},isDraggingKey(e,t){if(this.draggingPath)return this.draggingPath===this.getCellExpression(e,t)},onDragEnd(e,t,s="0"){setTimeout(()=>{const n=this.$store.getters["ui/mappingTelemetry"],a={src_node_type:this.node.type,src_field_name:e,src_nodes_back:this.distanceFromActive,src_run_index:this.runIndex,src_runs_total:this.totalRuns,src_field_nest_level:parseInt(s,10),src_view:"table",src_element:t,success:!1,...n};this.$externalHooks().run("runDataTable.onDragEnd",a),this.$telemetry.track("User dragged data for mapping",a)},1e3)},isSimple(e){return"object"!==typeof e},hasJsonInColumn(e){return this.tableData.hasJson[this.tableData.columns[e]]},convertToTable(e){const t=[],s=[];let n,a,o;const i={};return e.forEach(e=>{e.hasOwnProperty("json")&&(o=e.json,a=[],n=Object.keys(o||{}),s.forEach(e=>{o.hasOwnProperty(e)?(a.push(o[e]),n.splice(n.indexOf(e),1),i[e]=i[e]||"object"===typeof o[e]&&Object.keys(o[e]||{}).length>0||!1):a.push(null)}),n.forEach(e=>{s.push(e),a.push(o[e]),i[e]=i[e]||"object"===typeof o[e]&&Object.keys(o[e]||{}).length>0||!1}),t.push(a))}),t.forEach(e=>{s.length>e.length&&e.push.apply(e,new Array(s.length-e.length))}),{hasJson:i,columns:s,data:t}}},watch:{focusedMappableInput(e){setTimeout(()=>{this.forceShowGrip=!!this.focusedMappableInput},e?300:150)},showHint(e,t){e?setTimeout(()=>{this.showHintWithDelay=this.showHint,this.showHintWithDelay&&this.$telemetry.track("User viewed data mapping tooltip",{type:"param focus"})},1e3):this.showHintWithDelay=!1}}}),Sh=Eh,Dh=s("2185");function Ih(e){this["$style"]=Dh["default"].locals||Dh["default"]}var Oh=Object(v["a"])(Sh,Ch,Nh,!1,Ih,null,null),Ph=Oh.exports,Ah=s("7dda");const Mh="_!^&*";var Lh=Object(K["a"])(Je,ln["a"],cn["a"],Me["a"],pp).extend({name:"RunData",components:{BinaryDataDisplay:yh,NodeErrorView:$h,VueJsonPretty:ih.a,WarningTooltip:Ao,CodeEditor:_h["a"],RunDataTable:Ph},props:{nodeUi:{},runIndex:{type:Number},linkedRuns:{type:Boolean},canLinkRuns:{type:Boolean},tooMuchDataTitle:{type:String},noDataInBranchMessage:{type:String},isExecuting:{type:Boolean},executingMessage:{type:String},sessionId:{type:String},paneType:{type:String},overrideOutputs:{type:Array},mappingEnabled:{type:Boolean},distanceFromActive:{type:Number},showMappingHint:{type:Boolean}},data(){return{binaryDataPreviewActive:!1,dataSize:0,deselectedPlaceholder:Mh,selectedOutput:{value:"",path:Mh},showData:!1,outputIndex:0,binaryDataDisplayVisible:!1,binaryDataDisplayData:null,MAX_DISPLAY_DATA_SIZE:N["Wb"],MAX_DISPLAY_ITEMS_AUTO_ALL:N["Xb"],currentPage:1,pageSize:10,pageSizes:[10,25,50,100],copyDropdownOpen:!1,eventBus:hp,pinDataDiscoveryTooltipVisible:!1,isControlledPinDataTooltip:!1}},mounted(){if(this.init(),!this.isPaneTypeInput){this.eventBus.$on("data-pinning-error",this.onDataPinningError),this.eventBus.$on("data-unpinning",this.onDataUnpinning);const e=localStorage.getItem(N["Jb"]);e||this.showPinDataDiscoveryTooltip(this.jsonData)}},destroyed(){this.hidePinDataDiscoveryTooltip(),this.eventBus.$off("data-pinning-error",this.onDataPinningError),this.eventBus.$off("data-unpinning",this.onDataUnpinning)},computed:{activeNode(){return this.$store.getters.activeNode},dataPinningDocsUrl(){return N["P"]},dataEditingDocsUrl(){return N["O"]},displayMode(){return this.$store.getters["ui/getPanelDisplayMode"](this.paneType)},node(){return this.nodeUi||null},nodeType(){return this.node?this.$store.getters["nodeTypes/getNodeType"](this.node.type,this.node.typeVersion):null},isTriggerNode(){return!(!this.nodeType||!this.nodeType.group.includes("trigger"))},canPinData(){return!this.isPaneTypeInput&&this.isPinDataNodeType&&!(this.binaryData&&this.binaryData.length>0)},buttons(){const e=[{label:this.$locale.baseText("runData.table"),value:"table"},{label:this.$locale.baseText("runData.json"),value:"json"}];return this.binaryData.length?[...e,{label:this.$locale.baseText("runData.binary"),value:"binary"}]:e},hasNodeRun(){return Boolean(!this.isExecuting&&this.node&&(this.workflowRunData&&this.workflowRunData.hasOwnProperty(this.node.name)||this.hasPinData))},hasRunError(){return Boolean(this.node&&this.workflowRunData&&this.workflowRunData[this.node.name]&&this.workflowRunData[this.node.name][this.runIndex]&&this.workflowRunData[this.node.name][this.runIndex].error)},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowRunData(){if(null===this.workflowExecution)return null;const e=this.workflowExecution.data;return e&&e.resultData?e.resultData.runData:null},dataCount(){return this.getDataCount(this.runIndex,this.currentOutputIndex)},dataSizeInMB(){return(this.dataSize/1024/1e3).toLocaleString()},maxOutputIndex(){if(null===this.node)return 0;const e=this.workflowRunData;if(null===e||!e.hasOwnProperty(this.node.name))return 0;if(e[this.node.name].length<this.runIndex)return 0;if(e[this.node.name][this.runIndex]){const t=e[this.node.name][this.runIndex].data;if(t&&t.main)return t.main.length-1}return 0},maxRunIndex(){if(null===this.node)return 0;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.node.name)&&e[this.node.name].length?e[this.node.name].length-1:0},rawInputData(){let e=[];return this.node&&(e=this.getNodeInputData(this.node,this.runIndex,this.currentOutputIndex)),0!==e.length&&Array.isArray(e)?e:[]},inputData(){let e=this.rawInputData;this.node&&this.pinData&&(e=Array.isArray(this.pinData)?this.pinData.map(e=>({json:e})):[{json:this.pinData}]);const t=this.pageSize*(this.currentPage-1);return e=e.slice(t,t+this.pageSize),e},jsonData(){return this.convertToJson(this.inputData)},binaryData(){if(!this.node)return[];const e=this.getBinaryData(this.workflowRunData,this.node.name,this.runIndex,this.currentOutputIndex);return e.filter(e=>Boolean(e&&Object.keys(e).length))},currentOutputIndex(){return this.overrideOutputs&&this.overrideOutputs.length&&!this.overrideOutputs.includes(this.outputIndex)?this.overrideOutputs[0]:this.outputIndex},branches(){function e(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1)}const t=[];for(let s=0;s<=this.maxOutputIndex;s++){if(this.overrideOutputs&&!this.overrideOutputs.includes(s))continue;const n=this.getDataCount(this.runIndex,s),a=this.$locale.baseText("ndv.output.items",{adjustToNumber:n});let o=this.getOutputName(s);o=""+o===""+s?`${this.$locale.baseText("ndv.output")} ${o}`:e(`${this.getOutputName(s)} ${this.$locale.baseText("ndv.output.branch")}`),t.push({label:n?`${o} (${n} ${a})`:o,value:s})}return t},editMode(){return this.isPaneTypeInput?{enabled:!1,value:""}:this.$store.getters["ui/outputPanelEditMode"]},isPaneTypeInput(){return"input"===this.paneType}},methods:{onClickDataPinningDocsLink(){this.$telemetry.track("User clicked ndv link",{workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,node_type:this.activeNode.type,pane:"output",type:"data-pinning-docs"})},showPinDataDiscoveryTooltip(e){this.isTriggerNode&&e&&e.length>0&&(this.pinDataDiscoveryComplete(),setTimeout(()=>{this.isControlledPinDataTooltip=!0,this.pinDataDiscoveryTooltipVisible=!0,this.eventBus.$emit("data-pinning-discovery",{isTooltipVisible:!0})},500))},hidePinDataDiscoveryTooltip(){this.pinDataDiscoveryTooltipVisible&&(this.isControlledPinDataTooltip=!1,this.pinDataDiscoveryTooltipVisible=!1,this.eventBus.$emit("data-pinning-discovery",{isTooltipVisible:!1}))},pinDataDiscoveryComplete(){localStorage.setItem(N["Jb"],"true"),localStorage.setItem(N["Ib"],"true")},enterEditMode({origin:e}){const t=this.pinData?this.clearJsonKey(this.pinData):this.convertToJson(this.rawInputData),s=t.length>0?t:N["id"];this.$store.commit("ui/setOutputPanelEditModeEnabled",!0),this.$store.commit("ui/setOutputPanelEditModeValue",JSON.stringify(s,null,2)),this.$telemetry.track("User opened ndv edit state",{node_type:this.activeNode.type,click_type:"editIconButton"===e?"button":"link",session_id:this.sessionId,run_index:this.runIndex,is_output_present:this.hasNodeRun||this.hasPinData,view:this.hasNodeRun||this.hasPinData?this.displayMode:"undefined",is_data_pinned:this.hasPinData})},onClickCancelEdit(){this.$store.commit("ui/setOutputPanelEditModeEnabled",!1),this.$store.commit("ui/setOutputPanelEditModeValue",""),this.onExitEditMode({type:"cancel"})},onClickSaveEdit(){const{value:e}=this.editMode;this.clearAllStickyNotifications(),this.isValidPinDataSize(e)?this.isValidPinDataJSON(e)?(this.$store.commit("ui/setOutputPanelEditModeEnabled",!1),this.$store.commit("pinData",{node:this.node,data:this.clearJsonKey(e)}),this.onDataPinningSuccess({source:"save-edit"}),this.onExitEditMode({type:"save"})):this.onDataPinningError({errorType:"invalid-json",source:"save-edit"}):this.onDataPinningError({errorType:"data-too-large",source:"save-edit"})},clearJsonKey(e){const t="string"===typeof e?JSON.parse(e):e;return Array.isArray(t)?t.map(e=>Object(Ah["a"])(e)?e.json:e):t},onExitEditMode({type:e}){this.$telemetry.track("User closed ndv edit state",{node_type:this.activeNode.type,session_id:this.sessionId,run_index:this.runIndex,view:this.displayMode,type:e})},onDataUnpinning({source:e}){this.$telemetry.track("User unpinned ndv data",{node_type:this.activeNode.type,session_id:this.sessionId,run_index:this.runIndex,source:e,data_size:Object(We["q"])(this.pinData)})},onDataPinningSuccess({source:e}){const t={pinning_source:e,node_type:this.activeNode.type,session_id:this.sessionId,data_size:Object(We["q"])(this.pinData),view:this.displayMode,run_index:this.runIndex};this.$externalHooks().run("runData.onDataPinningSuccess",t),this.$telemetry.track("Ndv data pinning success",t)},onDataPinningError({errorType:e,source:t}){this.$telemetry.track("Ndv data pinning failure",{pinning_source:t,node_type:this.activeNode.type,session_id:this.sessionId,data_size:Object(We["q"])(this.pinData),view:this.displayMode,run_index:this.runIndex,error_type:e})},async onTogglePinData({source:e}){if("pin-icon-click"===e){const e={node_type:this.activeNode.type,session_id:this.sessionId,run_index:this.runIndex,view:this.hasNodeRun||this.hasPinData?this.displayMode:"none"};this.$externalHooks().run("runData.onTogglePinData",e),this.$telemetry.track("User clicked pin data icon",e)}if(this.updateNodeParameterIssues(this.node),this.hasPinData)return this.onDataUnpinning({source:e}),void this.$store.commit("unpinData",{node:this.node});const t=this.convertToJson(this.rawInputData);this.isValidPinDataSize(t)?(this.onDataPinningSuccess({source:"save-edit"}),this.$store.commit("pinData",{node:this.node,data:t}),this.maxRunIndex>0&&this.$showToast({title:this.$locale.baseText("ndv.pinData.pin.multipleRuns.title",{interpolate:{index:""+this.runIndex}}),message:this.$locale.baseText("ndv.pinData.pin.multipleRuns.description"),type:"success",duration:2e3}),this.hidePinDataDiscoveryTooltip(),this.pinDataDiscoveryComplete()):this.onDataPinningError({errorType:"data-too-large",source:"pin-icon-click"})},switchToBinary(){this.onDisplayModeChange("binary")},onBranchChange(e){this.outputIndex=e,this.$telemetry.track("User changed ndv branch",{session_id:this.sessionId,branch_index:e,node_type:this.activeNode.type,node_type_input_selection:this.nodeType?this.nodeType.name:"",pane:this.paneType})},showTooMuchData(){this.showData=!0,this.$telemetry.track("User clicked ndv button",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:this.paneType,type:"showTooMuchData"})},linkRun(){this.$emit("linkRun")},unlinkRun(){this.$emit("unlinkRun")},onCurrentPageChange(){this.$telemetry.track("User changed ndv page",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:this.paneType,page_selected:this.currentPage,page_size:this.pageSize,items_total:this.dataCount})},onPageSizeChange(e){this.pageSize=e;const t=Math.ceil(this.dataCount/this.pageSize);t<this.currentPage&&(this.currentPage=t),this.$telemetry.track("User changed ndv page size",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:this.paneType,page_selected:this.currentPage,page_size:this.pageSize,items_total:this.dataCount})},onDisplayModeChange(e){const t=this.displayMode;this.$store.commit("ui/setPanelDisplayMode",{pane:this.paneType,mode:e});const s=this.$refs.dataContainer;if(s){const e=s.children[0];e&&e.scrollTo(0,0)}this.closeBinaryDataDisplay(),this.$externalHooks().run("runData.displayModeChanged",{newValue:e,oldValue:t}),this.activeNode&&this.$telemetry.track("User changed ndv item view",{previous_view:t,new_view:e,node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:this.paneType})},getRunLabel(e){let t=0;for(let a=0;a<=this.maxOutputIndex;a++)t+=this.getDataCount(e-1,a);const s=this.$locale.baseText("ndv.output.items",{adjustToNumber:t}),n=t>0?` (${t} ${s})`:"";return e+this.$locale.baseText("ndv.output.of")+(this.maxRunIndex+1)+n},getDataCount(e,t){if(null===this.node)return 0;const s=this.workflowRunData;if(null===s||!s.hasOwnProperty(this.node.name))return 0;if(s[this.node.name].length<=e)return 0;if(s[this.node.name][e].hasOwnProperty("error"))return 1;if(!s[this.node.name][e].hasOwnProperty("data")||void 0===s[this.node.name][e].data)return 0;const n=this.getMainInputData(s[this.node.name][e].data,t);return n.length},init(){this.outputIndex=0,this.refreshDataSize(),this.closeBinaryDataDisplay(),this.binaryData.length>0?this.$store.commit("ui/setPanelDisplayMode",{pane:this.paneType,mode:"binary"}):"binary"===this.displayMode&&this.$store.commit("ui/setPanelDisplayMode",{pane:this.paneType,mode:"table"})},closeBinaryDataDisplay(){this.binaryDataDisplayVisible=!1,this.binaryDataDisplayData=null},convertToJson(e){const t=[];return e.forEach(e=>{e.hasOwnProperty("json")&&t.push(e.json)}),t},clearExecutionData(){this.$store.commit("setWorkflowExecutionData",null),this.updateNodesExecutionIssues()},dataItemClicked(e,t){this.selectedOutput.value=t},isDownloadable(e,t){const s=this.binaryData[e][t];return!(!s.mimeType||!s.fileName)},async downloadBinaryData(e,t){const s=this.binaryData[e][t];let n="data:"+s.mimeType+";base64,";s.id?n+=await this.restApi().getBinaryBufferString(s.id):n+=s.data;const a=await fetch(n),o=await a.blob();Object(Zc["saveAs"])(o,s.fileName)},displayBinaryData(e,t){this.binaryDataDisplayVisible=!0,this.binaryDataDisplayData={node:this.node.name,runIndex:this.runIndex,outputIndex:this.currentOutputIndex,index:e,key:t}},getOutputName(e){if(null===this.node)return e+1;const t=this.nodeType;return!t||!t.outputNames||t.outputNames.length<=e?e+1:t.outputNames[e]},convertPath(e){const t="*___~#^#~___*";let s=e.match(/\[(.*?)\]/g);s=null===s?[]:s.map(e=>e.slice(1,-1)).map(e=>e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e);const n=e.replace(/\[(.*?)\]/g,t),a=n.split("."),o=[];return a.forEach(e=>{let n=e.indexOf(t);while(-1!==n)0===n?(o.push(s.shift()),e=e.substr(t.length)):(o.push(e.substr(0,n)),e=e.substr(n)),n=e.indexOf(t);""!==e&&o.push(e)}),'["'+o.join('"]["')+'"]'},handleCopyClick(e){const t=this.selectedOutput.path===Mh,s=t?'[""]':this.selectedOutput.path;let n=this.selectedOutput.value;t&&(n=this.hasPinData?this.clearJsonKey(this.pinData):this.convertToJson(this.getNodeInputData(this.node,this.runIndex,this.currentOutputIndex)));const a=this.convertPath(s);let o;if("value"===e.command)o="object"===typeof n?JSON.stringify(n,null,2):n.toString(),this.$showToast({title:this.$locale.baseText("runData.copyValue.toast"),message:"",type:"success",duration:2e3});else{let t="",s="";if("itemPath"===e.command){const e=a.split("]"),n=e[0].slice(1);s=e.slice(1).join("]"),t=`$item(${n}).$node["${this.node.name}"].json`,this.$showToast({title:this.$locale.baseText("runData.copyItemPath.toast"),message:"",type:"success",duration:2e3})}else"parameterPath"===e.command&&(s=a.split("]").slice(1).join("]"),t=`$node["${this.node.name}"].json`,this.$showToast({title:this.$locale.baseText("runData.copyParameterPath.toast"),message:"",type:"success",duration:2e3}));s.startsWith("[")||s.startsWith(".")||!s||(s+="."),o=`{{ ${t+s} }}`}const i={value:"selection",itemPath:"item_path",parameterPath:"parameter_path"}[e.command];this.$telemetry.track("User copied ndv data",{node_type:this.activeNode.type,session_id:this.sessionId,run_index:this.runIndex,view:this.displayMode,copy_type:i,workflow_id:this.$store.getters.workflowId,pane:"output",in_execution_log:this.isReadOnly}),this.copyToClipboard(o)},refreshDataSize(){this.showData=!1;const e=this.getNodeInputData(this.node,this.runIndex,this.currentOutputIndex),t=this.pageSize*(this.currentPage-1),s=e.slice(t,t+this.pageSize).map(e=>e.json);this.dataSize=JSON.stringify(s).length,this.dataSize<this.MAX_DISPLAY_DATA_SIZE&&(this.showData=!0)},onRunIndexChange(e){this.$emit("runChange",e)},enableNode(){if(this.node){const e={name:this.node.name,properties:{disabled:!this.node.disabled}};this.$store.commit("updateNodeProperties",e)}},goToErroredNode(){this.node&&this.$store.commit("setActiveNode",this.node.name)}},watch:{node(){this.init()},jsonData(e){this.refreshDataSize();const t=localStorage.getItem(N["Jb"]);t||this.showPinDataDiscoveryTooltip(e)},binaryData(e,t){e.length&&!t.length&&"binary"!==this.displayMode?this.switchToBinary():e.length||"binary"!==this.displayMode||this.onDisplayModeChange("table")}}}),Rh=Lh,Wh=s("f9bd");s("9a71");function Bh(e){this["$style"]=Wh["default"].locals||Wh["default"]}var Vh=Object(v["a"])(Rh,nh,ah,!1,Bh,null,null),Uh=Vh.exports,jh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.runMetadata?s("n8n-info-tip",{attrs:{type:"tooltip",theme:"info-light",tooltipPlacement:"right"}},[s("div",[s("n8n-text",{attrs:{bold:!0,size:"small"}},[e._v(e._s(e.$locale.baseText("runData.startTime")+":"))]),e._v(" "+e._s(e.runMetadata.startTime)),s("br"),s("n8n-text",{attrs:{bold:!0,size:"small"}},[e._v(e._s(e.$locale.baseText("runData.executionTime")+":"))]),e._v(" "+e._s(e.runMetadata.executionTime)+" "+e._s(e.$locale.baseText("runData.ms"))+" ")],1)]):e._e()},Fh=[],zh=n["default"].extend({props:{taskData:{}},computed:{runTaskData(){return this.taskData},runMetadata(){return this.runTaskData?{executionTime:this.runTaskData.executionTime,startTime:new Date(this.runTaskData.startTime).toLocaleString()}:null}}}),Hh=zh,Gh=Object(v["a"])(Hh,jh,Fh,!1,null,null,null),Kh=Gh.exports,Yh=Object(K["a"])(pp).extend({name:"OutputPanel",components:{RunData:Uh,RunInfo:Kh},props:{runIndex:{type:Number},isReadOnly:{type:Boolean},linkedRuns:{type:Boolean},canLinkRuns:{type:Boolean},sessionId:{type:String}},computed:{node(){return this.$store.getters.activeNode},nodeType(){return this.node?this.$store.getters["nodeTypes/getNodeType"](this.node.type,this.node.typeVersion):null},isTriggerNode(){return!(!this.nodeType||!this.nodeType.group.includes("trigger"))},isPollingTypeNode(){return!(!this.nodeType||!this.nodeType.polling)},isScheduleTrigger(){return!(!this.nodeType||!this.nodeType.group.includes("schedule"))},isNodeRunning(){const e=this.$store.getters.executingNode;return this.node&&e===this.node.name},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowRunData(){if(null===this.workflowExecution)return null;const e=this.workflowExecution.data;return e&&e.resultData&&e.resultData.runData?e.resultData.runData:null},hasNodeRun(){return Boolean(this.node&&this.workflowRunData&&this.workflowRunData.hasOwnProperty(this.node.name))},runTaskData(){if(!this.node||null===this.workflowExecution)return null;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.node.name)?e[this.node.name].length<=this.runIndex?null:e[this.node.name][this.runIndex]:null},runsCount(){if(null===this.node)return 0;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.node.name)&&e[this.node.name].length?e[this.node.name].length:0},staleData(){if(!this.node)return!1;const e=this.$store.getters.getParametersLastUpdated(this.node.name);if(!e||!this.runTaskData)return!1;const t=this.runTaskData.startTime;return e>t},outputPanelEditMode(){return this.$store.getters["ui/outputPanelEditMode"]},canPinData(){return this.isPinDataNodeType&&!this.isReadOnly}},methods:{insertTestData(){this.$refs.runData&&(this.$refs.runData.enterEditMode({origin:"insertTestDataLink"}),this.$telemetry.track("User clicked ndv link",{workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,node_type:this.node.type,pane:"output",type:"insert-test-data"}))},onLinkRun(){this.$emit("linkRun")},onUnlinkRun(){this.$emit("unlinkRun")},openSettings(){this.$emit("openSettings"),this.$telemetry.track("User clicked ndv link",{node_type:this.node.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:"output",type:"settings"})},onRunIndexChange(e){this.$emit("runChange",e)}}}),qh=Yh,Jh=s("f8e4");function Xh(e){this["$style"]=Jh["default"].locals||Jh["default"]}var Qh=Object(v["a"])(qh,th,sh,!1,Xh,null,null),Zh=Qh.exports,em=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("RunData",{attrs:{nodeUi:e.currentNode,runIndex:e.runIndex,linkedRuns:e.linkedRuns,canLinkRuns:e.canLinkRuns,tooMuchDataTitle:e.$locale.baseText("ndv.input.tooMuchData.title"),noDataInBranchMessage:e.$locale.baseText("ndv.input.noOutputDataInBranch"),isExecuting:e.isExecutingPrevious,executingMessage:e.$locale.baseText("ndv.input.executingPrevious"),sessionId:e.sessionId,overrideOutputs:e.connectedCurrentNodeOutputs,mappingEnabled:!e.readOnly,showMappingHint:e.draggableHintShown,distanceFromActive:e.currentNodeDepth,paneType:"input"},on:{linkRun:e.onLinkRun,unlinkRun:e.onUnlinkRun,runChange:e.onRunIndexChange,tableMounted:function(t){return e.$emit("tableMounted",t)}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{class:e.$style.titleSection},[e.parentNodes.length?s("n8n-select",{attrs:{"popper-append-to-body":!0,size:"small",value:e.currentNodeName,"no-data-text":e.$locale.baseText("ndv.input.noNodesFound"),placeholder:e.$locale.baseText("ndv.input.parentNodes"),filterable:""},on:{input:e.onSelect}},[s("template",{slot:"prepend"},[s("span",{class:e.$style.title},[e._v(e._s(e.$locale.baseText("ndv.input")))])]),e._l(e.parentNodes,(function(t){return s("n8n-option",{key:t.name,staticClass:"node-option",attrs:{value:t.name,label:e.truncate(t.name)+" "+e.getMultipleNodesText(t.name)}},[e._v(" "+e._s(e.truncate(t.name))+" "),e.getMultipleNodesText(t.name)?s("span",[e._v(e._s(e.getMultipleNodesText(t.name)))]):s("span",[e._v(e._s(e.$locale.baseText("ndv.input.nodeDistance",{adjustToNumber:t.depth})))])])}))],2):s("span",{class:e.$style.title},[e._v(e._s(e.$locale.baseText("ndv.input")))])],1)]},proxy:!0},{key:"node-not-run",fn:function(){return[e.parentNodes.length?s("div",{class:e.$style.noOutputData},[s("n8n-text",{attrs:{tag:"div",bold:!0,color:"text-dark",size:"large"}},[e._v(e._s(e.$locale.baseText("ndv.input.noOutputData.title")))]),e.readOnly?e._e():s("n8n-tooltip",{attrs:{manual:!0,value:e.showDraggableHint&&e.showDraggableHintWithDelay}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$locale.baseText("dataMapping.dragFromPreviousHint",{interpolate:{name:e.focusedMappableInput}}))},slot:"content"}),s("NodeExecuteButton",{attrs:{type:"secondary",transparent:!0,nodeName:e.currentNodeName,label:e.$locale.baseText("ndv.input.noOutputData.executePrevious"),telemetrySource:"inputs"},on:{execute:e.onNodeExecute}})],1),e.readOnly?e._e():s("n8n-text",{attrs:{tag:"div",size:"small"}},[e._v(" "+e._s(e.$locale.baseText("ndv.input.noOutputData.hint"))+" ")])],1):s("div",{class:e.$style.notConnected},[s("div",[s("WireMeUp")],1),s("n8n-text",{attrs:{tag:"div",bold:!0,color:"text-dark",size:"large"}},[e._v(e._s(e.$locale.baseText("ndv.input.notConnected.title")))]),s("n8n-text",{attrs:{tag:"div"}},[e._v(" "+e._s(e.$locale.baseText("ndv.input.notConnected.message"))+" "),s("a",{attrs:{href:"https://docs.n8n.io/workflows/connections/",target:"_blank"},on:{click:e.onConnectionHelpClick}},[e._v(" "+e._s(e.$locale.baseText("ndv.input.notConnected.learnMore"))+" ")])])],1)]},proxy:!0},{key:"no-output-data",fn:function(){return[s("n8n-text",{attrs:{tag:"div",bold:!0,color:"text-dark",size:"large"}},[e._v(e._s(e.$locale.baseText("ndv.input.noOutputData")))])]},proxy:!0}])})},tm=[],sm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{attrs:{width:"112",height:"80",viewBox:"0 0 112 80",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("mask",{staticStyle:{"mask-type":"alpha"},attrs:{id:"mask0_489_46042",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"112",height:"80"}},[s("rect",{attrs:{width:"112",height:"80",fill:"url(#paint0_linear_489_46042)"}})]),s("g",{attrs:{mask:"url(#mask0_489_46042)"}},[s("rect",{attrs:{x:"-0.5",width:"112",height:"80",fill:"url(#pattern0)","fill-opacity":"0.6"}})]),s("defs",[s("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[s("use",{attrs:{"xlink:href":"#image0_489_46042",transform:"scale(0.00357143 0.005)"}})]),s("linearGradient",{attrs:{id:"paint0_linear_489_46042",x1:"90.5",y1:"40.4494",x2:"112.5",y2:"40.4494",gradientUnits:"userSpaceOnUse"}},[s("stop"),s("stop",{attrs:{offset:"1","stop-color":"white","stop-opacity":"0"}})],1),s("image",{attrs:{id:"image0_489_46042",width:"280",height:"200","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAADICAYAAAAzx/4XAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABhdSURBVHgB7d0JcFTVngbw/72d4IYa0Ie4IK2llgpodNwtB9AaxVILF7ZxynkgWupojaRwASXQGEBqEAI8LXfBpZQS9IFabjMFkXFfijCKyqjQqIiKShCUpdP3vvPdpXP7pjtk6dPdSX+/qlPpJX07UfrL/yz3XEOIPJNiswaZkbKBtkiluC0qRB1gCJW86ntmjzYM81YvWIhyhgFTwlCxGJGyBcJKhTQxhUrSpJraKSpcVgjDhTQqEyo5U+6prbVExmV6TnWT6ixbnuxmSZ262xCLVTUIUTsxYEoMKpdM4aKCZV5ZUmIMFMoljsGUkMk1c9RArjE39HBchcuYadVVdUKUYwyYEjEhVhstj8gqdbMi8HA8kpTBqmqJC5EGHOQtEeVlMkXSw6WB4UK6cQymBKB6UYMso4OPWYZMrWG4kGasYEpAmWGHB3Xj0ydVzRUizRgwJcAwjaFpD9gyVYjygAHTxTndo9Bium2WLBWiPGDAdHFlkWT4/KK6uVzrQnnCgOniDNuIBu/blr1aiPKEAdPF2Xba1DQeYfVCecOAISJtGDBEpA0Dhoi0YcAQkTYMGCLShgFDRNowYIhIGwYMEWnDgCEibRgwRKQNA4aItGHAEJE2DBgi0oYBQ0TaMGCISBsGDBFpw4AhIm0YMESkDQOGiLRhwBCRNgwYItKGAUNE2jBgiEgbBgwRacOAISJtGDBEpA0Dhoi0YcAQkTYMGCLShgFDRNowYIhIGwYMEWnDgCEibRgwRKQNA4aItGHAEJE2DBgi0oYBQ0TaMGCISBsGDBFpw4AhIm0YMESkDQOGiLRhwBCRNgwYItKGAUNE2jBgiEgbBgwRacOAISJtGDBEpA0Dhoi0YcAQkTYMGCLShgFDRNowYIhIGwYMEWnDgCEibRgwRKQNA4aItGHAEJE2DBgi0oYBQ0TaMGCISBsGDBFpw4AhIm0YMESkDQOGiLRhwBCRNgwYItKGAUNE2hhCXc7ll19eUVZWNto0zYFGJDLIamys8J+LRMrilpWst217WSKRqFu6dGlciDRhwHQho0aNilqWVavC4/I2vGyhCpqpDBrSISLUJYwcOfJWFS6vq5vHS9tURiKRcf3795c1a9a8JUQ5xAqmk0N3qLy8/O/q5iDpIMMwlu7evXuMqmYahCgHOMjbyalwWSE5CBdA18o7HlFOsIvUiY0YMaJWfWnLeEtr9FbdpQrVXXpDiDqIXaROavjw4aPVlwWiiapmBi9ZsqROiDqAXaTOa4popMZjtIUXlQ4GTCfkVS9R0SvqvQ9RuzFgOqe/Sn7k632oi+IYTCfjTUtvkTxJJBI9OG1N7cUKppMpKyurlDzK9/tR18KA6Xzy+oG3LCsqRO3EgOl8KiSPTNOMClE7MWCISJsyIUcsVlvRGJEVhm3Nq5k8fqEUr3wPuHKAl9qNFYwnFqtqMND9MMwF1TW16yfXzLl1Qqw2KkXGtu245Fe9ELUTAybAaPprHbXFmFsekfXV02oX3BX7r6KZSUkmk3WSR42NjQwYajcGTIBl2aubPWjL6EikfJWqalZU3zN7tBSYtyalTvJAVUt1XANDHcExmDTofmRdezhIdZ8GqaCZYog9d3fSWDYzVhWXwnhScrRFQ0sMw3hSiDqAFUyAZUi8Fd9W8O5TIpFYqr7ERa/44sWLFwpRBzBggiJm28YbCtR9QrfFsqwq0WuqEHUQz0UKwFR1MiIdOc8nns/u01VXXTXXNM1bJcdUeM174YUXxglRBzFgQlQ1goDp+GpZQxYmGxPzZsTu0DYL4534iC0uc9lNq1ddo1OEKAfYRQoYpyoYI1djG6r7ZEbKF+CYogm6Smo8ZjA265YcwHFwPCHKkZKrYPCB31cSUTEjlaYtUSNi9rVtqTTcqiUqOWKLzCtLql5XrCov07zDhg2LqYBo9y53akq6asmSJXOFKIe6ZMDEYvdGG6W80jKNioiYJ6vfUs38qDBxA0T7yYJqNqpq+qSqvH9YceG1xsZGBE1bNorihddIm04ZMMEqJILAMFWI2E5wYCwiKoUTV0E2Zlp1VZ0UEIImmUwOUjeHRiKRSnU76j9nlpU1WI2NdapieUuF0UIupCOdijZgUIXslkhFhq5MVPRWIQ3tOb4KlnrVJboiVrjFdxlNmjo7ZphmqutkW9bUaVPGx4QoDwq6ktfvyhimEVV/W/uiKyNuFVKRVC110SbEoJ2zNGywMZ1sSL2dtLdahlFvGtKgwqEe4aCmqqNqqnp9Ww6Y7/EWos5Ca8Bk6cpExa1CoipEdJVQ6Ko0uCFibbAMM94tIvWSkPieQgAho6aqpbUKNd5C1Bl0OGCaDaiaUpHelSlv+mZbcimuWr1t2RvUoGbcNiSOKkQ91pCDSiIuex7LccZbVLjUhR5vT2bm9r8MUZHYY8CgCqmQnRVZujKpKiTVnclTV0b0QlBFsz2ZZbzFCH0N3w4dIo3Riu/Z0+NERScVMM5Je1nWhiRlb21dGcGHWQWHWLJahVVDa7syOjlVkZn5Nw6Nt4S/yQg0LGJECJ+n2nGqdVPtO9XeUW2lagnZw4+R4bYdeE8GDRW9VMCURcoX2PhA5HhA1WvNujLFNtsSZBjetg12+mfYErtq+uTx86QpQFIvkab/ZOgTnqlajWpniBssQY2qrVJtumornMOK9BQ3jE5XrY9q3VXbodo61d5U7TPVtgeO4QcNQ4aKWipgsNmS+qvdnnNaAl2ZtAHVhmIOkZbYKmCM9HCJJ3bvGjtz2sT/FffDv7e4/+3wTegl7lJtt3f/JHHD5VzVjH333Ve6deuGZfjYHU62b99eZts2gmS+ajHVvlZtjGqjVNsnw4+DkxkfVW2OapuF1Qx1IoExmBY3W1LPFV9XRhcracUjpulUMKq8WP3Lr1uGPzx/Gk6CPFu1gaqdrNrB4lYjP6n2iWr/p9pG1W5X7Z9UM4499li59NJL5ZRTTnFC5ssvv5Tly5fL+++/L7t370alMkO1TaqdYqr36969uxx44IG42Bm2xpStW7fK77//fqAKpPHiVkYIpR+897Wl5WBh6FDBNQWMaSJAFhZgQLXYGNbO5AZzn4gkLWv+199+O23xgr/tpR7/V9VuUK1fhtdcLW43BhXOaart07NnT5kzZ44MGTLECQxABTN06FAZM2aM1NfXI817oyFcEEbnn3++DBgwwAmZbdu2yTvvvCNvvPGGbN68WRVU9s3ijt9sFbdqOki1fcUNEoTfL9I0rhOsbogKJhUw06qrcEZuTs7K7exmzpy49a7qe8feWzPxKXErh39TrVq1ngiLCjWv1qNHD+ybggpDGhoasMtcf/X8ieJ9sC+88EI599xzU+ECuH3MMcfIyJEjETCpxw8++GCpqqqSa665RtCl8g0fPlzuuusuWbRoEaoZHOhKcSumY8Ttgh0pbjWD6ul/xJ39+i3wq7CKoYLinrzpUlPNM9xwwQAtQuM/VeuJILjgggucdvTRRzsVyTfffCPLli2T9957D1VHauD3zDPPdLpFYfvtt5+cdtppTpD8+eefzmP9+vWTgQMHpoULoAq69tpr5e2333a6S8r54obLaaHDXqTaNar9TbUnVPtVguGC8SSDBQ3lHwOmueA0MwZdMRN01D777COnnnqq1NTUON2ZIHRr7rzzTidkfAcddJBEIpHmB1cfdARV37595YsvvnAeQ0X0l7/8JeMPc8IJJ8ghhxwin3/+ObZU6KUe6uUfPxqNyo4dO2TdunXGzp07D1UP/4dq34hbiWJ2Cq8x8J4MGSoEbjjVJLhQLhgwGNB1xkVQuYTDBc444ww5++yz5YADDkg9tv/++zthkgnCChUQIITQ3cLxM8FxjjrqKCkvb1oRjdCZMWOGzJs3zxnnufrqq3ENaTyFMZ1LxR2ANv3fif0kKhRWMOnCC+XQMMDrjJ+EuzC+vfbay+n2YEB2zZo1zmP+1HQme++9t1OV+LdRwQTHasJQ7SBg1MyTc//mm2+W66+/3jk+xoHw3GuvvSabNm3CQfp4zRmLsdWkO+sWKhRWMJkFF9JhdsYZL9m4cWPWF5x++ulOpeGHSksBg0BCFwdQoWTrHvmOOOKIVAWDMBoxYkTq2KhcevXq5by3Zz9xK5iI83uoAEL3yKlibNYylF8MmHTh6sWfoXEGWT/99NPUwGwYxkMwJY1qA10m3M80BgPoEmGGqbKy0hkMRmsJxn4wOIxQwXuEAwlhhuDx74obMs7vkFRjMIwVKhR2kVzBpf7BbhICZr1qW5LJZA/MGK1du9ZZOBeGLs5ll13mTEPj9mGHHeaPizSDQBg8eLAzZoNqpn///tISjPvMmjVLNmzYIIMGDWr2PN4Hx/Eg1RAyTsBgkDdVubCzRHnGgMkcLH4Fg9vbxK1iBm7evNlZhZspYODII4902h7fUH3QES4ImdbA2M+wYcOcGSNUMpkEwsw/uT01yEtUKKXeRco0c4SG2ZgrVLtRtb+KNxGDBXXvvvsuVtZKvmEMBqGUrdsVkgpIO5k0/HMK2FWifCvlCiZT5YJp6RGqjVXtEO++3+Vwzg/CepS6ujpnlW2RMkKNqGBYwTRVLvuLe8byveIurouKGzKYkUktcME09EsvveSvrC16lhAVTqlWMMHqxe9O3CbuuT7OdMzxxx/vnAmNLsknn3wiK1eudNah7Nq1ywmZVatWZRxwLQScsrBz507/LjIFJz2ygqGCK+Uukj8Iiq/YcW6keOFyww03yN133+2sUcHgKaqV5557TqZOnepMU3/77bfO1gvFEjDougWmzxEuu4WoCJRiwGSaLbpANWdxyVlnnSUPPfRQ2gswuDp27Fhn1ezEiROdr63xww8/yPr16+Wcc85ptugOA8aYkcIpAlg3Ex68xZQ0zrg++eSTpU+fPi0O7qKCCXTZEC47hKgIlOoYTDBk8MnFMlhnqewll1yS8QVYeYvl+Y8++qjMnDnTmTZuCVb94gzp8847T6qrq9OeQxg888wzcvHFF8tNN90kL7/8ctrzv/zyi0yYMEGuvPJKufHGG+Wrr75q8b3QbcNrPOgrdY4BIurySrmCQbj660XKvcdSS/gzwXPXXXedtAbGabBXjG3bznYLQVjP8v333zu3f/vtN6fLFYSw2LJli1Mpff3119hms8X3QsD8+uuv/l30lRAwzsw0l2pTIZXav7/wJUX8CuYP8SZc8IHvTBBgCKA//vjDuStuBfO7EBWBUvwDF5xd8cdgUttNrlu3TjqTRCIh8Xg8dVfczaawCTnX1VHBlXIFHewqob/iBAy6NnYnOusYAYOBZA+ql58leOUBNQvGVXdUKFxo58In1Pmrj5W6GP/o8IEDs0aYRtYFa3NwlrcH/SR/TwlWMFRwpV7B+PChxEhrI3bzf/7556WjsGudHzLZtnjoKExPYzr7448/9h/CANL/S9OpR9gvk0FDBVPKARP84KHEeEu89SNPPPFEh09oxJYNfsDoqmAwsPvqq6/6U9T42dHVQ1Cmn9+In4NbNVABlGLAhK/57DcsRomrlvzoo4/kvvvuS21RWawwIP3444/7dzG4i8vMImgwI8YTqKngSi1ggpdd9ZvlNVwxEbvxO4tO8MFdunRpq1ft5hsGonH6gjfrhSTEJWhxWYNguLCLRAVV6l0kS9JD5lVxr87oLFybPXu2rFixQnINXSd/gygERXtCDCdfPvvss/5d9JH+W7Ufpel3SS20S80gsZtEeVaqXaRgwwCJ5X3FwMsDqq3CN+JcICzz/+CDDySXcF6Rv8UlBmrb2hVbvXq1cyVIbxNyTK9jqTACxgo1VjBUUKVawQS7R37I+A19DlwhcR0++NiWAdce+uyzzySXgicvtqWCQWU1efJk5+cS9+fHz/uCuDNIflimmmFGbFYuVCilXMH4H0L/Q9no3cbXD1Wbr9pm7LPyyiuvSG1tbcFX+SKIHnzwQXn99df9hzCw+4i4ewYHQ5KDvFQUSn0Mxg+a4IcTAYM+CwZfZqm2BetYsDYGlcN3333XqoMfeuihqbUwuMJAEK4qgEuXADb0Dp9giX1ounfv7rwWx8HF2QAXV3vssceCXaoHxb3o/W7v5/ZD0g9PB8dfqFBatYN0F5TppMdwQ/g0iLv0/sxEIlGOcEFFc+KJJ2a91KsPwYFrUGNnPGy5cPjhh6eewxoZvB7PY9OqK664wgkVHwIFe9DgciWjRo2Sk046yTkDe/z48c64kKdO3IDBVQ8QLAlJr8KcKmbg4Iv+WQXVoFTA2PZbK+verBOiPCjVHe0QHn6I+GMwqOYS3vP+SZAIl9dU66Vme67fsmVL+YIFC+Tnn3+W6dOnOxdZywZVysiRI51qI3ypEYy/IHjuuOOO8DWNUq+96KKLnMua4Htx//777xesz/HOk8Ks0Qxxt2VISnq4sItERaPUr4sUnk0KngDp38bWB4vFvUb1v2/durUcm36j4sBMznHHHZf14AiOcHgEZbvWNaDK8a9XjbGXxYsXC05j8Dyh2iZp6hZlC5emlbxEBVDKAROsYvzxiuAVHYMnIP+k2jOq7VIVxLXbt2/f++mnn3bOMbrttttkwIABohO23sSWDN5sE6qVl6SpagmHS7ARFVSpn02daU1MIktDyDyl2gMqZLbhPKCnnnpKbr/9dmeLh/ZAcNxyyy3Su3dv6devnzz88MPBKiUF2zFg1zoPRpl/C/1smWaQRNhFogLjpWObPoTBv/jB7pIEvqK7hDUn+LTfotoBb775pnOdJAziBi5Av0c//vijzJ8/Xx544AHn/k8//SRTpkxxFt5hn97gda2xQXjghMmNkh4o4XDh+AsVDW7Zmnm62p+V8S8BEqwWMLD6d9UeVu1nDLouX77cuYxJa2FbTgQTAsZ7b6e7g5BZtGiRfPjhh2lnYKN6CWyCtUOyj70EqxeigmPAuIJdinDQBMPGb9jg5RPVPseLsGQfVUZrYYOoWbNmOVPP4p5cWe8dy8a1r1ER4Zh+qIQueWJK5vEWW9g1oiLDLlKTTFPXRuh5/3vQsO2ds7k2LkPiX4wNMLUcvg4SwgLbW2ItDS7g5p16gLDCiU4LVTtBtR5qILcPVuuiizRkyBBnvQwqG7zWg+s3ZQsXdo2oqDBg0vkBgg+tXymINL9YW3DTcKfL88gjj8iLL77oBAMWygXHUABjK9iKEwHj7aGLY8dVW6baN+IO3PZW7SpVDVXgTO4lS5Y44zp4XWBXvL7e+zJYqOgxYJoLhox4t4NB4y/CA2clNFb34vrVbYBuF1IG+898JE1ncmO7CKzK+xd1zB5r167N1IXtJu51nFi9UNFjwGQWDhlfsILBtDVOisSJRPuGno9I8038cUzMPmHnf8wEYd+ZleKGjR8MOJtyobhbX1aqdqB3LASQf0lY7PD9hzBYqBNgwGQXDBm/e+QP/vrXUkIFgg98T0m/UmQ3aQqi4DQ4ggELXbBvrn/1xeDMD74f4YNFfW94x8WxEt7rMO6zSTKfDsCQoaLDgGlZeLVveJUvQgZBgS5LRJoCxsxwnEzbRPiDyb5gFwxVzEbJvAgwKaxgqBNgwLROOBwQMqb31YcP/Z4CxsrS/IDwqx5T0isgW9L3rOGCOuoUGDB7FuyCBM9bagw8jsf8cMk2/tJSwPiCYzzB2apM+9bwrGkqegyY1guGCzQGHiuTpqom05VagwETDppgQISnws0Mr/cXAPK8Iyp6DJjWC6/2Dd72181ASwETrmQyVR/h7SLCxwhu88kxGCpqDJjWCa/ytaR5WIR3xAu/Pjzj01LA7Cmk2DWiToEB03Z+mJiB28GAEckcMMHbVuhxO/S6TCHlf1+msGLQUFFiwLSeX8X4ty1pHiit2TouU7cmU8BI6Lad5StR0WLAtE0wCMKDs209RkvPtTY8GDJU1Bgw7WNnuW+04TVEXR4DJrcYIkQB3HCKiLRhwBCRNgwYItKGAUNE2jBgiEgbBgwRacOAISJtGDBdnGFI2gWbjIjZV4jyhAHTxdmGHU9/QKJClCcMmC6uLBmpDz1UOS5W2/qLaBN1AAOmi4vFquLiXuDNV7GfaY0WojxgwJQA27KeDN43DXOoEOUBA6YElNnmwtBDg6rvmT1OiDRjwJQAdJNssdOqGDHMKRNitVEh0ogBUyLKkkZMfQlOWVeUR2QFQ4Z0YsCUCGew15CpoYejCJlJNbWDhEiDtmz1SF2ACpOY+p8+pdkThixMNMrUme6sE1FOMGBK0KSaOXMNMW7N8vRSNe20LGkl62fE7qgXog5gwJSorJUMUQ4xYEoYxl7UP4AF6mZUiDRgwJBU31M7Wv1LQDUTFaIcYsBQSmx6bWVjo3W5mOZAww2bqBB1wD8AobUpv0xPqN8AAAAASUVORK5CYII="}})],1)])},nm=[],am={},om=Object(v["a"])(am,sm,nm,!1,null,null,null),im=om.exports,rm=Object(K["a"])(we["a"]).extend({name:"InputPanel",components:{RunData:Uh,NodeExecuteButton:wp,WireMeUp:im},props:{currentNodeName:{type:String},runIndex:{type:Number},linkedRuns:{type:Boolean},workflow:{},canLinkRuns:{type:Boolean},sessionId:{type:String},readOnly:{type:Boolean}},data(){return{showDraggableHintWithDelay:!1,draggableHintShown:!1}},computed:{focusedMappableInput(){return this.$store.getters["ui/focusedMappableInput"]},isUserOnboarded(){return"true"===window.localStorage.getItem(N["Hb"])},showDraggableHint(){const e=[N["ad"],N["I"],N["xb"]];return!(!this.currentNode||e.includes(this.currentNode.type))&&(!!this.focusedMappableInput&&!this.isUserOnboarded)},isExecutingPrevious(){if(!this.workflowRunning)return!1;const e=this.$store.getters.executedNode,t=this.$store.getters.executingNode;return!(!this.activeNode||e!==this.activeNode.name||this.activeNode.name===t)||!(!t&&!e)&&!!this.parentNodes.find(s=>s.name===t||s.name===e)},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},currentWorkflow(){return this.workflow},activeNode(){return this.$store.getters.activeNode},currentNode(){return this.$store.getters.getNodeByName(this.currentNodeName)},connectedCurrentNodeOutputs(){const e=this.parentNodes.find(({name:e})=>e===this.currentNodeName);if(e)return e.indicies},parentNodes(){if(!this.activeNode)return[];const e=this.workflow.getParentNodesByDepth(this.activeNode.name);return e.filter(({name:t},s)=>this.activeNode&&t!==this.activeNode.name&&e.findIndex(e=>e.name===t)===s)},currentNodeDepth(){const e=this.parentNodes.find(e=>this.currentNode&&e.name===this.currentNode.name);return e?e.depth:-1},activeNodeType(){return this.activeNode?this.$store.getters["nodeTypes/getNodeType"](this.activeNode.type,this.activeNode.typeVersion):null},isMultiInputNode(){return null!==this.activeNodeType&&this.activeNodeType.inputs.length>1}},methods:{getMultipleNodesText(e){if(!e||!this.isMultiInputNode||!this.activeNode||null===this.activeNodeType||void 0===this.activeNodeType.inputNames)return"";const t=this.currentWorkflow.connectionsByDestinationNode[this.activeNode.name].main||[],s=t.reduce((t,s,n)=>s[0]&&s[0].node===e?[...t,n]:t,[]),n=s.map(e=>this.activeNodeType&&this.activeNodeType.inputNames&&this.activeNodeType.inputNames[e]);return 0===n.length?"":`(${n.join(" & ")})`},onNodeExecute(){this.$emit("execute"),this.activeNode&&this.$telemetry.track("User clicked ndv button",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:"input",type:"executePrevious"})},onRunIndexChange(e){this.$emit("runChange",e)},onLinkRun(){this.$emit("linkRun")},onUnlinkRun(){this.$emit("unlinkRun")},onSelect(e){const t=this.parentNodes.findIndex(t=>t.name===e)+1;this.$emit("select",e,t)},onConnectionHelpClick(){this.activeNode&&this.$telemetry.track("User clicked ndv link",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:"input",type:"not-connected-help"})},truncate(e){const t=e.substring(0,30);return t.length<e.length?t+"...":t}},watch:{showDraggableHint(e,t){e&&!t?setTimeout(()=>{this.draggableHintShown||(this.showDraggableHintWithDelay=this.showDraggableHint,this.showDraggableHintWithDelay&&(this.draggableHintShown=!0,this.$telemetry.track("User viewed data mapping tooltip",{type:"unexecuted input pane"})))},1e3):e||(this.showDraggableHintWithDelay=!1)}}}),lm=rm,cm=s("6c1a");s("87e4");function dm(e){this["$style"]=cm["default"].locals||cm["default"]}var um=Object(v["a"])(lm,em,tm,!1,dm,"151c3b5c",null),pm=um.exports,hm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.hasIssues?s("div",{key:"empty"}):e.isListeningForEvents?s("div",{key:"listening"},[s("n8n-pulse",[s("NodeIcon",{attrs:{nodeType:e.nodeType,size:40}})],1),e.isWebhookNode?s("div",[s("n8n-text",{staticClass:"mb-2xs",attrs:{tag:"div",size:"large",color:"text-dark",bold:""}},[e._v(e._s(e.$locale.baseText("ndv.trigger.webhookNode.listening")))]),s("div",{class:[e.$style.shake,"mb-xs"]},[s("n8n-text",[e._v(" "+e._s(e.$locale.baseText("ndv.trigger.webhookNode.requestHint",{interpolate:{type:this.webhookHttpMethod}}))+" ")])],1),s("CopyInput",{staticClass:"mb-2xl",attrs:{value:e.webhookTestUrl,toastTitle:e.$locale.baseText("ndv.trigger.copiedTestUrl"),size:"medium",collapse:!0,"copy-button-text":e.$locale.baseText("generic.clickToCopy")},on:{copy:e.onTestLinkCopied}})],1):s("div",[s("n8n-text",{staticClass:"mb-2xs",attrs:{tag:"div",size:"large",color:"text-dark",bold:""}},[e._v(e._s(e.$locale.baseText("ndv.trigger.webhookBasedNode.listening")))]),s("div",{class:[e.$style.shake,"mb-xs"]},[s("n8n-text",{attrs:{tag:"div"}},[e._v(" "+e._s(e.$locale.baseText("ndv.trigger.webhookBasedNode.serviceHint",{interpolate:{service:e.serviceName}}))+" ")])],1)],1)],1):s("div",{key:"default"},[e.isActivelyPolling?s("div",{staticClass:"mb-xl"},[s("n8n-spinner",{attrs:{type:"ring"}})],1):e._e(),s("div",{class:e.$style.action},[s("div",{class:e.$style.header},[e.header?s("n8n-heading",{attrs:{tag:"h1",bold:""}},[e._v(" "+e._s(e.header)+" ")]):e._e(),e.subheader?s("n8n-text",[s("span",{domProps:{textContent:e._s(e.subheader)}})]):e._e()],1),e.isActivelyPolling?e._e():s("NodeExecuteButton",{attrs:{nodeName:e.nodeName,size:"medium",telemetrySource:"inputs"},on:{execute:e.onNodeExecute}})],1),e.activationHint?s("n8n-text",{attrs:{size:"small"},on:{click:e.onLinkClick}},[s("span",{domProps:{innerHTML:e._s(e.activationHint)}}),e._v(" ")]):e._e(),e.activationHint&&e.executionsHelp?s("n8n-link",{attrs:{size:"small"},on:{click:e.expandExecutionHelp}},[e._v(e._s(e.$locale.baseText("ndv.trigger.moreInfo")))]):e._e(),e.executionsHelp?s("n8n-info-accordion",{ref:"help",class:e.$style.accordion,attrs:{title:e.$locale.baseText("ndv.trigger.executionsHint.question"),description:e.executionsHelp},on:{click:e.onLinkClick}}):e._e()],1)])],1)},mm=[],gm=Object(K["a"])(we["a"],Je,Y["a"]).extend({name:"TriggerPanel",components:{NodeExecuteButton:wp,CopyInput:st,NodeIcon:bo},props:{nodeName:{type:String},sessionId:{type:String}},computed:{node(){return this.$store.getters.getNodeByName(this.nodeName)},nodeType(){return this.node?this.$store.getters["nodeTypes/getNodeType"](this.node.type,this.node.typeVersion):null},hasIssues(){return Boolean(this.node&&this.node.issues&&(this.node.issues.parameters||this.node.issues.credentials))},serviceName(){return this.nodeType?Object(We["i"])(this.nodeType):""},isWebhookNode(){return Boolean(this.node&&this.node.type===N["wd"])},webhookHttpMethod(){if(this.node&&this.nodeType&&this.nodeType.webhooks&&this.nodeType.webhooks.length)return this.getWebhookExpressionValue(this.nodeType.webhooks[0],"httpMethod")},webhookTestUrl(){if(this.node&&this.nodeType&&this.nodeType.webhooks&&this.nodeType.webhooks.length)return this.getWebhookUrl(this.nodeType.webhooks[0],this.node,"test")},webhookProdUrl(){if(this.node&&this.nodeType&&this.nodeType.webhooks&&this.nodeType.webhooks.length)return this.getWebhookUrl(this.nodeType.webhooks[0],this.node,"prod")},isWebhookBasedNode(){return Boolean(this.nodeType&&this.nodeType.webhooks&&this.nodeType.webhooks.length)},isPollingNode(){return Boolean(this.nodeType&&this.nodeType.polling)},isListeningForEvents(){const e=this.$store.getters.executionWaitingForWebhook,t=this.$store.getters.executedNode;return!!this.node&&!this.node.disabled&&this.isWebhookBasedNode&&e&&(!t||t===this.nodeName)},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},isActivelyPolling(){const e=this.$store.getters.executedNode;return this.workflowRunning&&this.isPollingNode&&this.nodeName===e},isWorkflowActive(){return this.$store.getters.isActive},header(){const e=this.nodeType?Object(We["i"])(this.nodeType):"";return this.isActivelyPolling?this.$locale.baseText("ndv.trigger.pollingNode.fetchingEvent"):this.nodeType&&this.nodeType.triggerPanel&&"string"===typeof this.nodeType.triggerPanel.header?this.nodeType.triggerPanel.header:this.isWebhookBasedNode?this.$locale.baseText("ndv.trigger.webhookBasedNode.action",{interpolate:{name:e}}):""},subheader(){const e=this.nodeType?Object(We["i"])(this.nodeType):"";return this.isActivelyPolling?this.$locale.baseText("ndv.trigger.pollingNode.fetchingHint",{interpolate:{name:e}}):""},executionsHelp(){if(this.nodeType&&this.nodeType.triggerPanel&&void 0!==this.nodeType.triggerPanel.executionsHelp){if("string"===typeof this.nodeType.triggerPanel.executionsHelp)return this.nodeType.triggerPanel.executionsHelp;if(!this.isWorkflowActive&&this.nodeType.triggerPanel.executionsHelp.inactive)return this.nodeType.triggerPanel.executionsHelp.inactive;if(this.isWorkflowActive&&this.nodeType.triggerPanel.executionsHelp.active)return this.nodeType.triggerPanel.executionsHelp.active}return this.isWebhookBasedNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.webhookBasedNode.executionsHelp.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.webhookBasedNode.executionsHelp.inactive",{interpolate:{service:this.serviceName}}):this.isPollingNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.pollingNode.executionsHelp.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.pollingNode.executionsHelp.inactive",{interpolate:{service:this.serviceName}}):""},activationHint(){if(this.isActivelyPolling)return"";if(this.nodeType&&this.nodeType.triggerPanel&&this.nodeType.triggerPanel.activationHint){if("string"===typeof this.nodeType.triggerPanel.activationHint)return this.nodeType.triggerPanel.activationHint;if(!this.isWorkflowActive&&"string"===typeof this.nodeType.triggerPanel.activationHint.inactive)return this.nodeType.triggerPanel.activationHint.inactive;if(this.isWorkflowActive&&"string"===typeof this.nodeType.triggerPanel.activationHint.active)return this.nodeType.triggerPanel.activationHint.active}return this.isWebhookBasedNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.webhookBasedNode.activationHint.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.webhookBasedNode.activationHint.inactive",{interpolate:{service:this.serviceName}}):this.isPollingNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.pollingNode.activationHint.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.pollingNode.activationHint.inactive",{interpolate:{service:this.serviceName}}):""}},methods:{expandExecutionHelp(){this.$refs.help&&this.$refs.help.$emit("expand")},onLinkClick(e){if(!e.target)return;const t=e.target;"a"===t.localName&&t.dataset&&t.dataset.key&&(e.stopPropagation(),e.preventDefault(),"activate"===t.dataset.key?this.$emit("activate"):"executions"===t.dataset.key?(this.$telemetry.track("User clicked ndv link",{workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:"input",type:"open-executions-log"}),this.$store.commit("setActiveNode",null),this.$store.dispatch("ui/openModal",N["fb"])):"settings"===t.dataset.key&&this.$store.dispatch("ui/openModal",N["Bd"]))},onTestLinkCopied(){this.$telemetry.track("User copied webhook URL",{pane:"inputs",type:"test url"})},onNodeExecute(){this.$emit("execute")}}}),fm=gm,wm=s("42ee");s("4786");function ym(e){this["$style"]=wm["default"].locals||wm["default"]}var bm=Object(v["a"])(fm,hm,mm,!1,ym,"6773e560",null),vm=bm.exports,xm=Object(K["a"])(ln["a"],Me["a"],we["a"],Mi,pp).extend({name:"NodeDetailsView",components:{NodeSettings:Tp,InputPanel:pm,OutputPanel:Zh,NDVDraggablePanels:eh,TriggerPanel:vm},props:{readOnly:{type:Boolean},renaming:{type:Boolean}},data(){return{settingsEventBus:new n["default"],runInputIndex:-1,runOutputIndex:-1,isLinkingEnabled:!0,selectedInput:void 0,triggerWaitingWarningEnabled:!1,isDragging:!1,mainPanelPosition:0,pinDataDiscoveryTooltipVisible:!1,avgInputRowHeight:0,avgOutputRowHeight:0}},mounted(){this.$store.commit("ui/setNDVSessionId"),hp.$on("data-pinning-discovery",({isTooltipVisible:e})=>{this.pinDataDiscoveryTooltipVisible=e})},destroyed(){hp.$off("data-pinning-discovery")},computed:{...Object(D["b"])(["executionWaitingForWebhook"]),sessionId(){return this.$store.getters["ui/ndvSessionId"]},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},showTriggerWaitingWarning(){return this.triggerWaitingWarningEnabled&&!!this.activeNodeType&&!this.activeNodeType.group.includes("trigger")&&this.workflowRunning&&this.executionWaitingForWebhook},activeNode(){return this.$store.getters.activeNode},inputNodeName(){return this.selectedInput||this.parentNode},inputNode(){return this.inputNodeName?this.$store.getters.getNodeByName(this.inputNodeName):null},activeNodeType(){return this.activeNode?this.$store.getters["nodeTypes/getNodeType"](this.activeNode.type,this.activeNode.typeVersion):null},showTriggerPanel(){const e=this.activeNodeType&&this.activeNodeType.webhooks&&this.activeNodeType.webhooks.length,t=this.activeNodeType&&this.activeNodeType.polling,s=this.activeNodeType&&this.activeNodeType.triggerPanel;return Boolean(!this.readOnly&&this.isTriggerNode&&(e||t||s))},workflow(){return this.getCurrentWorkflow()},parentNodes(){return this.activeNode&&this.workflow.getParentNodesByDepth(this.activeNode.name,1).map(({name:e})=>e)||[]},parentNode(){return this.parentNodes[0]},isTriggerNode(){return!!this.activeNodeType&&(this.activeNodeType.group.includes("trigger")||this.activeNodeType.name===N["ad"])},isActiveStickyNode(){return!!this.$store.getters.activeNode&&this.$store.getters.activeNode.type===N["bd"]},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowRunData(){if(null===this.workflowExecution)return null;const e=this.workflowExecution.data;return e&&e.resultData?e.resultData.runData:null},maxOutputRun(){if(null===this.activeNode)return 0;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.activeNode.name)&&e[this.activeNode.name].length?e[this.activeNode.name].length-1:0},outputRun(){return-1===this.runOutputIndex?this.maxOutputRun:Math.min(this.runOutputIndex,this.maxOutputRun)},maxInputRun(){if(null===this.inputNode)return 0;const e=this.workflowRunData;return null!==e&&e.hasOwnProperty(this.inputNode.name)&&e[this.inputNode.name].length?e[this.inputNode.name].length-1:0},inputRun(){return this.isLinkingEnabled&&this.maxOutputRun===this.maxInputRun?this.outputRun:-1===this.runInputIndex?this.maxInputRun:Math.min(this.runInputIndex,this.maxInputRun)},canLinkRuns(){return this.maxOutputRun>0&&this.maxOutputRun===this.maxInputRun},linked(){return this.isLinkingEnabled&&this.canLinkRuns},inputPanelMargin(){return this.isTriggerNode?0:80},featureRequestUrl(){return this.activeNodeType?`${N["f"]}${this.activeNodeType.name}`:""},outputPanelEditMode(){return this.$store.getters["ui/outputPanelEditMode"]}},watch:{activeNode(e){e&&!this.isActiveStickyNode&&(this.runInputIndex=-1,this.runOutputIndex=-1,this.isLinkingEnabled=!0,this.selectedInput=void 0,this.triggerWaitingWarningEnabled=!1,this.avgOutputRowHeight=0,this.avgInputRowHeight=0,this.$store.commit("ui/setNDVSessionId"),this.$externalHooks().run("dataDisplay.nodeTypeChanged",{nodeSubtitle:this.getNodeSubtitle(e,this.activeNodeType,this.getCurrentWorkflow())}),setTimeout(()=>{if(this.activeNode){const e=this.$store.getters.outgoingConnectionsByNodeName(this.activeNode.name);this.$telemetry.track("User opened node modal",{node_type:this.activeNodeType?this.activeNodeType.name:"",workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,parameters_pane_position:this.mainPanelPosition,input_first_connector_runs:this.maxInputRun,output_first_connector_runs:this.maxOutputRun,selected_view_inputs:this.isTriggerNode?"trigger":this.$store.getters["ui/inputPanelDisplayMode"],selected_view_outputs:this.$store.getters["ui/outputPanelDisplayMode"],input_connectors:this.parentNodes.length,output_connectors:e&&e.main&&e.main.length,input_displayed_run_index:this.inputRun,output_displayed_run_index:this.outputRun,data_pinning_tooltip_presented:this.pinDataDiscoveryTooltipVisible,input_displayed_row_height_avg:this.avgInputRowHeight,output_displayed_row_height_avg:this.avgOutputRowHeight})}},2e3)),window.top&&!this.isActiveStickyNode&&window.top.postMessage(JSON.stringify({command:e?"openNDV":"closeNDV"}),"*")},maxOutputRun(){this.runOutputIndex=-1},maxInputRun(){this.runInputIndex=-1}},methods:{onInputTableMounted(e){this.avgInputRowHeight=e.avgRowHeight},onOutputTableMounted(e){this.avgOutputRowHeight=e.avgRowHeight},onWorkflowActivate(){this.$store.commit("setActiveNode",null),setTimeout(()=>{this.activateCurrentWorkflow("ndv")},1e3)},onFeatureRequestClick(){window.open(this.featureRequestUrl,"_blank"),this.$telemetry.track("User clicked ndv link",{node_type:this.activeNode.type,workflow_id:this.$store.getters.workflowId,session_id:this.sessionId,pane:"main",type:"i-wish-this-node-would"})},onPanelsInit(e){this.mainPanelPosition=e.position},onDragStart(e){this.isDragging=!0,this.mainPanelPosition=e.position},onDragEnd(e){this.isDragging=!1,this.$telemetry.track("User moved parameters pane",{window_width:e.windowWidth,start_position:this.mainPanelPosition,end_position:e.position,node_type:this.activeNodeType?this.activeNodeType.name:"",session_id:this.sessionId,workflow_id:this.$store.getters.workflowId}),this.mainPanelPosition=e.position},onLinkRunToInput(){this.runOutputIndex=this.runInputIndex,this.isLinkingEnabled=!0,this.trackLinking("input")},onLinkRunToOutput(){this.isLinkingEnabled=!0,this.trackLinking("output")},onUnlinkRun(e){this.runInputIndex=this.runOutputIndex,this.isLinkingEnabled=!1,this.trackLinking(e)},trackLinking(e){this.$telemetry.track("User changed ndv run linking",{node_type:this.activeNodeType?this.activeNodeType.name:"",session_id:this.sessionId,linked:this.linked,pane:e})},onNodeExecute(){setTimeout(()=>{this.activeNode&&this.workflowRunning&&(this.triggerWaitingWarningEnabled=!0)},1e3)},openSettings(){this.settingsEventBus.$emit("openSettings")},valueChanged(e){this.$emit("valueChanged",e)},nodeTypeSelected(e){this.$emit("nodeTypeSelected",e)},async close(){if(!this.isDragging){if(this.outputPanelEditMode.enabled){const e=await this.confirmMessage("",this.$locale.baseText("ndv.pinData.beforeClosing.title"),null,this.$locale.baseText("ndv.pinData.beforeClosing.confirm"),this.$locale.baseText("ndv.pinData.beforeClosing.cancel"));if(e){const{value:e}=this.outputPanelEditMode;if(!this.isValidPinDataSize(e))return void hp.$emit("data-pinning-error",{errorType:"data-too-large",source:"on-ndv-close-modal"});if(!this.isValidPinDataJSON(e))return void hp.$emit("data-pinning-error",{errorType:"invalid-json",source:"on-ndv-close-modal"});this.$store.commit("pinData",{node:this.activeNode,data:JSON.parse(e)})}this.$store.commit("ui/setOutputPanelEditModeEnabled",!1)}this.$externalHooks().run("dataDisplay.nodeEditingFinished"),this.$telemetry.track("User closed node modal",{node_type:this.activeNodeType?this.activeNodeType.name:"",session_id:this.sessionId,workflow_id:this.$store.getters.workflowId}),this.triggerWaitingWarningEnabled=!1,this.$store.commit("setActiveNode",null),this.$store.commit("ui/resetNDVSessionId")}},onRunOutputIndexChange(e){this.runOutputIndex=e,this.trackRunChange(e,"output")},onRunInputIndexChange(e){this.runInputIndex=e,this.linked&&(this.runOutputIndex=e),this.trackRunChange(e,"input")},trackRunChange(e,t){this.$telemetry.track("User changed ndv run dropdown",{session_id:this.sessionId,run_index:e,node_type:this.activeNodeType?this.activeNodeType.name:"",pane:t})},onInputSelect(e,t){this.runInputIndex=-1,this.isLinkingEnabled=!0,this.selectedInput=e,this.$telemetry.track("User changed ndv input dropdown",{node_type:this.activeNode?this.activeNode.type:"",session_id:this.sessionId,workflow_id:this.$store.getters.workflowId,selection_value:t,input_node_type:this.inputNode?this.inputNode.type:""})}}}),km=xm,Tm=(s("0871"),s("8133"));function $m(e){this["$style"]=Tm["default"].locals||Tm["default"]}var _m=Object(v["a"])(km,Ru,Wu,!1,$m,null,null),Cm=_m.exports,Nm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"node-wrapper",style:e.nodePosition,attrs:{id:e.nodeId}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected,expression:"isSelected"}],staticClass:"select-background"}),s("div",{ref:e.data.name,class:{"node-default":!0,"touch-active":e.isTouchActive,"is-touch-device":e.isTouchDevice},attrs:{"data-name":e.data.name}},[s("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.touchStart,expression:"touchStart",arg:"start"},{name:"touch",rawName:"v-touch:end",value:e.touchEnd,expression:"touchEnd",arg:"end"}],class:e.nodeClass,style:e.nodeStyle,on:{dblclick:e.setNodeActive,click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.mouseLeftClick.apply(null,arguments)}}},[e.data.disabled?e._e():s("div",{class:{"node-info-icon":!0,"shift-icon":e.shiftOutputCount}},[e.hasIssues?s("div",{staticClass:"node-issues"},[s("n8n-tooltip",{attrs:{placement:"bottom"}},[s("titled-list",{attrs:{slot:"content",title:e.$locale.baseText("node.issues")+":",items:e.nodeIssues},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1)],1):e.waiting?s("div",{staticClass:"waiting"},[s("n8n-tooltip",{attrs:{placement:"bottom"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.waiting)},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"clock"}})],1)],1):e.hasPinData?s("span",{staticClass:"node-pin-data-icon"},[s("font-awesome-icon",{attrs:{icon:"thumbtack"}}),e.workflowDataItems>1?s("span",{staticClass:"items-count"},[e._v(" "+e._s(e.workflowDataItems))]):e._e()],1):e.workflowDataItems?s("span",{staticClass:"data-count"},[s("font-awesome-icon",{attrs:{icon:"check"}}),e.workflowDataItems>1?s("span",{staticClass:"items-count"},[e._v(" "+e._s(e.workflowDataItems))]):e._e()],1):e._e()]),s("div",{staticClass:"node-executing-info",attrs:{title:e.$locale.baseText("node.nodeIsExecuting")}},[s("font-awesome-icon",{attrs:{icon:"sync-alt",spin:""}})],1),s("div",{staticClass:"node-trigger-tooltip__wrapper"},[s("n8n-tooltip",{attrs:{placement:"top",manual:"",value:e.showTriggerNodeTooltip,"popper-class":"node-trigger-tooltip__wrapper--item"}},[s("div",{attrs:{slot:"content"},domProps:{textContent:e._s(e.getTriggerNodeTooltip)},slot:"content"}),s("span")]),e.isTriggerNode?s("n8n-tooltip",{attrs:{placement:"top",manual:"",value:e.pinDataDiscoveryTooltipVisible,"popper-class":"node-trigger-tooltip__wrapper--item"},scopedSlots:e._u([{key:"content",fn:function(){return[e._v(" "+e._s(e.$locale.baseText("node.discovery.pinData.canvas"))+" ")]},proxy:!0}],null,!1,917840377)},[s("span")]):e._e()],1),s("NodeIcon",{staticClass:"node-icon",attrs:{nodeType:e.nodeType,size:40,shrink:!1,disabled:this.data.disabled}})],1),e.isReadOnly?e._e():s("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideActions,expression:"!hideActions"}],staticClass:"node-options no-select-on-click"},[s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.deleteNode,expression:"deleteNode",arg:"tap"}],staticClass:"option",attrs:{title:e.$locale.baseText("node.deleteNode")}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1),s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.disableNode,expression:"disableNode",arg:"tap"}],staticClass:"option",attrs:{title:e.$locale.baseText("node.activateDeactivateNode")}},[s("font-awesome-icon",{attrs:{icon:e.nodeDisabledIcon}})],1),s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.duplicateNode,expression:"duplicateNode",arg:"tap"}],staticClass:"option",attrs:{title:e.$locale.baseText("node.duplicateNode")}},[s("font-awesome-icon",{attrs:{icon:"clone"}})],1),e.isReadOnly?e._e():s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.setNodeActive,expression:"setNodeActive",arg:"tap"}],staticClass:"option touch",attrs:{title:e.$locale.baseText("node.editNode")}},[s("font-awesome-icon",{staticClass:"execute-icon",attrs:{icon:"cog"}})],1),e.isReadOnly||e.workflowRunning?e._e():s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.executeNode,expression:"executeNode",arg:"tap"}],staticClass:"option",attrs:{title:e.$locale.baseText("node.executeNode")}},[s("font-awesome-icon",{staticClass:"execute-icon",attrs:{icon:"play-circle"}})],1)]),e.showDisabledLinethrough?s("div",{class:{"disabled-linethrough":!0,success:e.workflowDataItems>0}}):e._e()]),s("div",{staticClass:"node-description"},[s("div",{staticClass:"node-name ph-no-capture",attrs:{title:e.nodeTitle}},[s("p",[e._v(" "+e._s(e.nodeTitle)+" ")]),e.data.disabled?s("p",[e._v(" ("+e._s(e.$locale.baseText("node.disabled"))+") ")]):e._e()]),void 0!==e.nodeSubtitle?s("div",{staticClass:"node-subtitle",attrs:{title:e.nodeSubtitle}},[e._v(" "+e._s(e.nodeSubtitle)+" ")]):e._e()])])},Em=[];const Sm=Object(K["a"])(hd).extend({mounted(){null!==this.data&&this.__addNode(this.data)},computed:{data(){return this.$store.getters.getNodeByName(this.name)},nodeId(){return this.data.id}},props:["name","instance","isReadOnly","isActive","hideActions"],methods:{__addInputEndpoints(e,t){let s;const n={};t.inputs.forEach((a,o)=>{n.hasOwnProperty(a)?n[a]++:n[a]=0,s=n[a];const i=Gd.input[t.inputs.length][s],r={uuid:Du(this.nodeId,s),anchor:i,maxConnections:-1,endpoint:"Rectangle",endpointStyle:Kd(t,"--color-foreground-xdark"),endpointHoverStyle:Kd(t,"--color-primary"),isSource:!1,isTarget:!this.isReadOnly&&t.inputs.length>1,parameters:{nodeId:this.nodeId,type:a,index:s},enabled:!this.isReadOnly,cssClass:"rect-input-endpoint",dragAllowedWhenFull:!0,dropOptions:{tolerance:"touch",hoverClass:"dropHover"}};t.inputNames&&(r.overlays=[Yd(t.inputNames[s])]);const l=this.instance.addEndpoint(this.nodeId,r);l.__meta={nodeName:e.name,nodeId:this.nodeId,index:o,totalEndpoints:t.inputs.length}})},__addOutputEndpoints(e,t){let s;const n={};t.outputs.forEach((a,o)=>{n.hasOwnProperty(a)?n[a]++:n[a]=0,s=n[a];const i=Gd.output[t.outputs.length][s],r={uuid:Su(this.nodeId,s),anchor:i,maxConnections:-1,endpoint:"Dot",endpointStyle:qd(t,"--color-foreground-xdark"),endpointHoverStyle:qd(t,"--color-primary"),isSource:!0,isTarget:!1,enabled:!this.isReadOnly,parameters:{nodeId:this.nodeId,type:a,index:s},cssClass:"dot-output-endpoint",dragAllowedWhenFull:!1,dragProxy:["Rectangle",{width:1,height:1,strokeWidth:0}]};t.outputNames&&(r.overlays=[Jd(t.outputNames[s])]);const l=this.instance.addEndpoint(this.nodeId,{...r});if(l.__meta={nodeName:e.name,nodeId:this.nodeId,index:o,totalEndpoints:t.outputs.length},!this.isReadOnly){const n={uuid:Su(this.nodeId,s),anchor:i,maxConnections:-1,endpoint:"N8nPlus",isSource:!0,isTarget:!1,enabled:!this.isReadOnly,endpointStyle:{fill:Object(We["h"])("--color-xdark"),outlineStroke:"none",hover:!1,showOutputLabel:1===t.outputs.length,size:t.outputs.length>=3?"small":"medium",hoverMessage:this.$locale.baseText("nodeBase.clickToAddNodeOrDragToConnect")},endpointHoverStyle:{fill:Object(We["h"])("--color-primary"),outlineStroke:"none",hover:!0},parameters:{nodeId:this.nodeId,type:a,index:s},cssClass:"plus-draggable-endpoint",dragAllowedWhenFull:!1,dragProxy:["Rectangle",{width:1,height:1,strokeWidth:0}]},r=this.instance.addEndpoint(this.nodeId,n);r.__meta={nodeName:e.name,nodeId:this.nodeId,index:o,totalEndpoints:t.outputs.length}}})},__makeInstanceDraggable(e){this.instance.draggable(this.nodeId,{grid:[_d,_d],start:e=>{if(!0===this.isReadOnly)return!1;this.dragging=!0;const t=this.$store.getters.isNodeSelected(this.data.name),s=this.data.name;return this.data.type!==N["bd"]||t||setTimeout(()=>{this.$emit("nodeSelected",s,!1,!0)},0),e.e&&!t&&(this.instance.clearDragSelection(),this.$store.commit("resetSelectedNodes")),this.$store.commit("addActiveAction","dragActive"),!0},stop:t=>{if(this.dragging=!1,this.$store.getters.isActionActive("dragActive")){const t=this.$store.getters.getSelectedNodes.slice(),s=t.map(e=>e.name);let n;s.includes(this.data.name)||t.push(this.data),t.forEach(e=>{const t=document.getElementById(e.id);if(null===t)return;n=[parseInt(t.style.left.slice(0,-2),10),parseInt(t.style.top.slice(0,-2),10)];const s={name:e.name,properties:{position:n}};this.$store.commit("updateNodeProperties",s)}),this.$emit("moved",e)}},filter:".node-description, .node-description .node-name, .node-description .node-subtitle"})},__addNode(e){let t=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion);t||(t=this.$store.getters["nodeTypes/getNodeType"](N["nc"])),this.__addInputEndpoints(e,t),this.__addOutputEndpoints(e,t),this.__makeInstanceDraggable(e)},touchEnd(e){this.isTouchDevice&&this.$store.getters.isActionActive("dragActive")&&this.$store.commit("removeActiveAction","dragActive")},mouseLeftClick(e){const t=e.path||e.composedPath&&e.composedPath();for(let s=0;s<t.length;s++)if(t[s].className&&"string"===typeof t[s].className&&t[s].className.includes("no-select-on-click"))return;this.isTouchDevice||(this.$store.getters.isActionActive("dragActive")?this.$store.commit("removeActiveAction","dragActive"):(!1===this.isCtrlKeyPressed(e)&&this.$emit("deselectAllNodes"),this.$store.getters.isNodeSelected(this.data.name)?this.$emit("deselectNode",this.name):this.$emit("nodeSelected",this.name)))}}});var Dm=s("d1e0"),Im=Object(K["a"])(ln["a"],Sm,Me["a"],we["a"],pp).extend({name:"Node",components:{TitledList:Dm["a"],NodeIcon:bo},computed:{nodeRunData(){return this.$store.getters.getWorkflowResultDataByNodeName(this.data.name)},hasIssues(){return!this.hasPinData&&!(void 0===this.data.issues||!Object.keys(this.data.issues).length)},workflowDataItems(){const e=this.nodeRunData;return null===e?0:e.length},canvasOffsetPosition(){return this.$store.getters.getNodeViewOffsetPosition},getTriggerNodeTooltip(){if(null!==this.nodeType&&this.nodeType.hasOwnProperty("eventTriggerDescription")){const e=this.$locale.shortNodeType(this.nodeType.name),{eventTriggerDescription:t}=this.nodeType;return this.$locale.nodeText().eventTriggerDescription(e,t||"")}return this.$locale.baseText("node.waitingForYouToCreateAnEventIn",{interpolate:{nodeType:this.nodeType?Object(We["i"])(this.nodeType):""}})},isPollingTypeNode(){return!(!this.nodeType||!this.nodeType.polling)},isExecuting(){return this.$store.getters.executingNode===this.data.name},isSingleActiveTriggerNode(){const e=this.$store.getters.workflowTriggerNodes.filter(e=>{const t=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion);return t&&""!==t.eventTriggerDescription&&!e.disabled});return 1===e.length},isTriggerNode(){return!(!this.nodeType||!this.nodeType.group.includes("trigger"))},isTriggerNodeTooltipEmpty(){return null!==this.nodeType&&""===this.nodeType.eventTriggerDescription},isNodeDisabled(){return this.node&&this.node.disabled},nodeType(){return this.data&&this.$store.getters["nodeTypes/getNodeType"](this.data.type,this.data.typeVersion)},node(){return this.$store.getters.nodesByName[this.name]},nodeClass(){return{"node-box":!0,disabled:this.data.disabled,executing:this.isExecuting}},nodeIssues(){return void 0===this.data.issues?[]:Ce["NodeHelpers"].nodeIssuesToString(this.data.issues,this.data)},nodeDisabledIcon(){return!1===this.data.disabled?"pause":"play"},position(){return this.node?this.node.position:[0,0]},showDisabledLinethrough(){return!(!this.data.disabled||!this.nodeType||1!==this.nodeType.inputs.length||1!==this.nodeType.outputs.length)},nodePosition(){const e={left:this.position[0]+"px",top:this.position[1]+"px"};return e},shortNodeType(){return this.$locale.shortNodeType(this.data.type)},nodeTitle(){return"Start"===this.data.name?this.$locale.headerText({key:"headers.start.displayName",fallback:"Start"}):this.data.name},waiting(){const e=this.$store.getters.getWorkflowExecution;if(e&&e.waitTill){const t=Object(qe["get"])(e,"data.resultData.lastNodeExecuted");if(this.name===t){const t=new Date(e.waitTill);return t.toISOString()===N["vd"]?this.$locale.baseText("node.theNodeIsWaitingIndefinitelyForAnIncomingWebhookCall"):this.$locale.baseText("node.nodeIsWaitingTill",{interpolate:{date:t.toLocaleDateString(),time:t.toLocaleTimeString()}})}}},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")},nodeStyle(){let e=Object(We["h"])("--color-foreground-xdark");this.data.disabled?e=Object(We["h"])("--color-foreground-base"):this.isExecuting||(this.hasIssues?e=Object(We["h"])("--color-danger"):this.waiting||this.hasPinData?e=Object(We["h"])("--color-secondary"):this.workflowDataItems&&(e=Object(We["h"])("--color-success")));const t={"border-color":e};return t},isSelected(){return this.$store.getters.getSelectedNodes.find(e=>e.name===this.data.name)},shiftOutputCount(){return!!(this.nodeType&&this.nodeType.outputs.length>2)},shouldShowTriggerTooltip(){return!!this.node&&this.isTriggerNode&&!this.isPollingTypeNode&&!this.isNodeDisabled&&this.workflowRunning&&0===this.workflowDataItems&&this.isSingleActiveTriggerNode&&!this.isTriggerNodeTooltipEmpty&&!this.hasIssues&&!this.dragging}},watch:{isActive(e,t){!e&&t&&this.setSubtitle()},canvasOffsetPosition(){this.showTriggerNodeTooltip&&(this.showTriggerNodeTooltip=!1,setTimeout(()=>{this.showTriggerNodeTooltip=this.shouldShowTriggerTooltip},200)),this.pinDataDiscoveryTooltipVisible&&(this.pinDataDiscoveryTooltipVisible=!1,setTimeout(()=>{this.pinDataDiscoveryTooltipVisible=!0},200))},shouldShowTriggerTooltip(e){e?setTimeout(()=>{this.showTriggerNodeTooltip=this.shouldShowTriggerTooltip},2500):this.showTriggerNodeTooltip=!1},nodeRunData(e){this.$emit("run",{name:this.data.name,data:e,waiting:!!this.waiting})}},created(){const e=localStorage.getItem(N["Ib"]);e||(this.unwatchWorkflowDataItems=this.$watch("workflowDataItems",e=>{this.showPinDataDiscoveryTooltip(e)}))},mounted(){this.setSubtitle(),setTimeout(()=>{this.$emit("run",{name:this.data&&this.data.name,data:this.nodeRunData,waiting:!!this.waiting})},0)},data(){return{isTouchActive:!1,nodeSubtitle:"",showTriggerNodeTooltip:!1,pinDataDiscoveryTooltipVisible:!1,dragging:!1,unwatchWorkflowDataItems:()=>{}}},methods:{showPinDataDiscoveryTooltip(e){this.isTriggerNode&&e>0&&(localStorage.setItem(N["Ib"],"true"),this.pinDataDiscoveryTooltipVisible=!0,this.unwatchWorkflowDataItems())},setSubtitle(){const e=this.getNodeSubtitle(this.data,this.nodeType,this.getCurrentWorkflow())||"";this.nodeSubtitle=e.includes(N["L"])?"":e},disableNode(){this.disableNodes([this.data]),this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"disable",workflow_id:this.$store.getters.workflowId})},executeNode(){this.$emit("runWorkflow",this.data.name,"Node.executeNode"),this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"execute",workflow_id:this.$store.getters.workflowId})},deleteNode(){this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"delete",workflow_id:this.$store.getters.workflowId}),n["default"].nextTick(()=>{this.$emit("removeNode",this.data.name)})},duplicateNode(){this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"duplicate",workflow_id:this.$store.getters.workflowId}),n["default"].nextTick(()=>{this.$emit("duplicateNode",this.data.name)})},setNodeActive(){this.$store.commit("setActiveNode",this.data.name),this.pinDataDiscoveryTooltipVisible=!1},touchStart(){!0===this.isTouchDevice&&!1===this.isMacOs&&!1===this.isTouchActive&&(this.isTouchActive=!0,setTimeout(()=>{this.isTouchActive=!1},2e3))}}}),Om=Im,Pm=(s("8629"),s("98cb"),s("cbd3"),Object(v["a"])(Om,Nm,Em,!1,null,"dcbb2afe",null)),Am=Pm.exports,Mm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("SlideTransition",[e.active?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],ref:"nodeCreator",staticClass:"node-creator",on:{dragover:e.onDragOver,drop:e.onDrop}},[s("MainPanel",{attrs:{categorizedItems:e.categorizedItems,categoriesWithNodes:e.categoriesWithNodes,searchItems:e.searchItems},on:{nodeTypeSelected:e.nodeTypeSelected}})],1):e._e()])],1)},Lm=[],Rm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide"}},[e._t("default")],2)},Wm=[],Bm=n["default"].extend({name:"SlideTransition"}),Vm=Bm,Um=(s("3946"),Object(v["a"])(Vm,Rm,Wm,!1,null,"7c3ccab7",null)),jm=Um.exports,Fm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"mainPanelContainer",staticClass:"container",on:{click:e.onClickInside}},[s("SlideTransition",[e.activeSubcategory?s("SubcategoryPanel",{attrs:{elements:e.subcategorizedNodes,title:e.activeSubcategory.properties.subcategory,activeIndex:e.activeSubcategoryIndex},on:{close:e.onSubcategoryClose,selected:e.selected}}):e._e()],1),s("div",{staticClass:"main-panel"},[s("SearchBar",{attrs:{eventBus:e.searchEventBus},nativeOn:{keydown:function(t){return e.nodeFilterKeyDown.apply(null,arguments)}},model:{value:e.nodeFilter,callback:function(t){e.nodeFilter=t},expression:"nodeFilter"}}),s("div",{staticClass:"type-selector"},[s("el-tabs",{attrs:{stretch:""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[s("el-tab-pane",{attrs:{label:e.$locale.baseText("nodeCreator.mainPanel.all"),name:e.ALL_NODE_FILTER}}),s("el-tab-pane",{attrs:{label:e.$locale.baseText("nodeCreator.mainPanel.regular"),name:e.REGULAR_NODE_FILTER}}),s("el-tab-pane",{attrs:{label:e.$locale.baseText("nodeCreator.mainPanel.trigger"),name:e.TRIGGER_NODE_FILTER}})],1)],1),0===e.searchFilter.length?s("div",{staticClass:"scrollable"},[s("ItemIterator",{attrs:{elements:e.categorized,disabled:!!e.activeSubcategory,activeIndex:e.activeIndex,transitionsEnabled:!0},on:{selected:e.selected}})],1):e.filteredNodeTypes.length>0?s("div",{staticClass:"scrollable"},[s("ItemIterator",{attrs:{elements:e.filteredNodeTypes,activeIndex:e.activeIndex},on:{selected:e.selected}})],1):s("NoResults",{on:{nodeTypeSelected:function(t){return e.$emit("nodeTypeSelected",t)}}})],1)],1)},zm=[],Hm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s(e.transitionsEnabled?"transition-group":"div",{tag:"div",attrs:{name:"accordion"},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},e._l(e.elements,(function(t,n){return s("div",{key:t.key,class:t.type,attrs:{"data-key":t.key}},[s("CreatorItem",{attrs:{item:t,active:e.activeIndex===n&&!e.disabled,clickable:!e.disabled,lastNode:n===e.elements.length-1||"node"!==e.elements[n+1].type},on:{click:function(s){return e.$emit("selected",t)},dragstart:function(s){return e.emit("dragstart",t,s)},dragend:function(s){return e.emit("dragend",t,s)}}})],1)})),0)],1)},Gm=[],Km=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._g({class:{container:!0,clickable:e.clickable,active:e.active}},e.$listeners),["category"===e.item.type?s("CategoryItem",{attrs:{item:e.item}}):"subcategory"===e.item.type?s("SubcategoryItem",{attrs:{item:e.item}}):"node"===e.item.type?s("NodeItem",{attrs:{nodeType:e.item.properties.nodeType,bordered:!e.lastNode},on:{dragstart:e.$listeners.dragstart,dragend:e.$listeners.dragend}}):e._e()],1)},Ym=[],qm=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("div",{class:(e={},e[t.$style["node-item"]]=!0,e[t.$style.bordered]=t.bordered,e),attrs:{draggable:""},on:{dragstart:t.onDragStart,dragend:t.onDragEnd}},[n("NodeIcon",{class:t.$style["node-icon"],attrs:{nodeType:t.nodeType}}),n("div",[n("div",{class:t.$style.details},[n("span",{class:t.$style.name},[t._v(" "+t._s(t.$locale.headerText({key:"headers."+t.shortNodeType+".displayName",fallback:t.nodeType.displayName}))+" ")]),t.isTrigger?n("span",{class:t.$style["trigger-icon"]},[n("TriggerIcon")],1):t._e(),t.isCommunityNode?n("n8n-tooltip",{attrs:{placement:"top"}},[n("div",{class:t.$style["community-node-icon"],attrs:{slot:"content"},domProps:{innerHTML:t._s(t.$locale.baseText("generic.communityNode.tooltip",{interpolate:{packageName:t.nodeType.name.split(".")[0],docURL:t.COMMUNITY_NODES_INSTALLATION_DOCS_URL}}))},on:{click:t.onCommunityNodeTooltipClick},slot:"content"}),n("n8n-icon",{attrs:{icon:"cube"}})],1):t._e()],1),n("div",{class:t.$style.description},[t._v(" "+t._s(t.$locale.headerText({key:"headers."+t.shortNodeType+".description",fallback:t.nodeType.description}))+" ")]),n("div",{ref:"draggableDataTransfer",class:t.$style["draggable-data-transfer"]}),n("transition",{attrs:{name:"node-item-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.dragging,expression:"dragging"}],ref:"draggable",class:t.$style.draggable,style:t.draggableStyle},[n("NodeIcon",{staticClass:"node-icon",attrs:{nodeType:t.nodeType,size:40,shrink:!1}})],1)])],1)],1)},Jm=[],Xm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{class:e.$style.trigger},[s("svg",{attrs:{width:"36px",height:"36px",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[e._v("Trigger node")]),s("g",{attrs:{id:"/integrations-(V1-feature)",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"Individual-node-view",transform:"translate(-304.000000, -137.000000)","fill-rule":"nonzero"}},[s("g",{attrs:{id:"left-column",transform:"translate(120.000000, 131.000000)"}},[s("g",{attrs:{id:"trigger-badge",transform:"translate(178.000000, 0.000000)"}},[s("g",{attrs:{id:"trigger-icon",transform:"translate(6.857143, 6.857143)"}},[s("g",{attrs:{id:"Icon",transform:"translate(8.571429, 0.000000)",fill:"#FF6150"}},[s("polygon",{attrs:{id:"Icon-Path",points:"7.14285714 21.4285714 0 21.4285714 10 1.42857143 10 12.8571429 17.1428571 12.8571429 7.14285714 32.8571429"}})]),s("rect",{attrs:{id:"ViewBox",x:"0",y:"0",width:"34.2857143",height:"34.2857143"}})])])])])])])])},Qm=[],Zm={name:"TriggerIcon"},eg=Zm,tg=s("0461");function sg(e){this["$style"]=tg["default"].locals||tg["default"]}var ng=Object(v["a"])(eg,Xm,Qm,!1,sg,null,null),ag=ng.exports;n["default"].component("NodeIcon",bo),n["default"].component("TriggerIcon",ag);var og=n["default"].extend({name:"NodeItem",props:["active","filter","nodeType","bordered"],data(){return{dragging:!1,draggablePosition:{x:-100,y:-100},COMMUNITY_NODES_INSTALLATION_DOCS_URL:N["o"]}},computed:{shortNodeType(){return this.$locale.shortNodeType(this.nodeType.name)},isTrigger(){return this.nodeType.group.includes("trigger")},draggableStyle(){return{top:this.draggablePosition.y+"px",left:this.draggablePosition.x+"px"}},isCommunityNode(){return Object(We["k"])(this.nodeType.name)}},mounted(){document.body.addEventListener("dragover",this.onDragOver)},destroyed(){document.body.removeEventListener("dragover",this.onDragOver)},methods:{onDragStart(e){const{pageX:t,pageY:s}=e;this.$emit("dragstart",e),e.dataTransfer&&(e.dataTransfer.effectAllowed="copy",e.dataTransfer.dropEffect="copy",e.dataTransfer.setData("nodeTypeName",this.nodeType.name),e.dataTransfer.setDragImage(this.$refs.draggableDataTransfer,0,0)),this.dragging=!0,this.draggablePosition={x:t,y:s}},onDragOver(e){if(!this.dragging||0===e.pageX&&0===e.pageY)return;const[t,s]=uu([],[e.pageX-Ed/2,e.pageY-Ed/2]);this.draggablePosition={x:t,y:s}},onDragEnd(e){this.$emit("dragend",e),this.dragging=!1,setTimeout(()=>{this.draggablePosition={x:-100,y:-100}},300)},onCommunityNodeTooltipClick(e){"a"===e.target.localName&&this.$telemetry.track("user clicked cnr docs link",{source:"nodes panel node"})}}}),ig=og,rg=s("9934");s("9a91");function lg(e){this["$style"]=rg["default"].locals||rg["default"]}var cg=Object(v["a"])(ig,qm,Jm,!1,lg,"57df8b42",null),dg=cg.exports,ug=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.category},[s("span",{class:e.$style.name},[e._v(" "+e._s(e.renderCategoryName(e.categoryName))+" ")]),e.item.properties.expanded?s("font-awesome-icon",{class:e.$style.arrow,attrs:{icon:"chevron-down"}}):s("font-awesome-icon",{class:e.$style.arrow,attrs:{icon:"chevron-up"}})],1)},pg=[],hg=s("5495"),mg=s.n(hg),gg=n["default"].extend({props:["item"],computed:{categoryName(){return mg()(this.item.category)}},methods:{renderCategoryName(e){const t="nodeCreator.categoryNames."+e;return this.$locale.exists(t)?this.$locale.baseText(t):e}}}),fg=gg,wg=s("3a29");function yg(e){this["$style"]=wg["default"].locals||wg["default"]}var bg=Object(v["a"])(fg,ug,pg,!1,yg,null,null),vg=bg.exports,xg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.subcategory},[s("div",{class:e.$style.details},[s("div",{class:e.$style.title},[e._v(" "+e._s(e.$locale.baseText("nodeCreator.subcategoryNames."+e.subcategoryName))+" ")]),e.item.properties.description?s("div",{class:e.$style.description},[e._v(" "+e._s(e.$locale.baseText("nodeCreator.subcategoryDescriptions."+e.subcategoryName))+" ")]):e._e()]),s("div",{class:e.$style.action},[s("font-awesome-icon",{class:e.$style.arrow,attrs:{icon:"arrow-right"}})],1)])},kg=[],Tg=n["default"].extend({props:["item"],computed:{subcategoryName(){return mg()(this.item.properties.subcategory)}}}),$g=Tg,_g=s("a5a8");function Cg(e){this["$style"]=_g["default"].locals||_g["default"]}var Ng=Object(v["a"])($g,xg,kg,!1,Cg,null,null),Eg=Ng.exports,Sg=n["default"].extend({name:"CreatorItem",components:{CategoryItem:vg,SubcategoryItem:Eg,NodeItem:dg},props:["item","active","clickable","lastNode"]}),Dg=Sg,Ig=(s("d8b7"),Object(v["a"])(Dg,Km,Ym,!1,null,"8f3ddfb8",null)),Og=Ig.exports,Pg=n["default"].extend({name:"ItemIterator",components:{CreatorItem:Og},props:["elements","activeIndex","disabled","transitionsEnabled"],methods:{emit(e,t,s){this.$props.disabled||this.$emit(e,{element:t,event:s})},beforeEnter(e){e.style.height="0"},enter(e){e.style.height=e.scrollHeight+"px"},beforeLeave(e){e.style.height=e.scrollHeight+"px"},leave(e){e.style.height="0"}}}),Ag=Pg,Mg=(s("426e"),Object(v["a"])(Ag,Hm,Gm,!1,null,"542c2f01",null)),Lg=Mg.exports,Rg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"no-results"},[s("div",{staticClass:"icon"},[s("NoResultsIcon")],1),s("div",{staticClass:"title"},[s("div",[e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.weDidntMakeThatYet"))+" ")]),s("div",{staticClass:"action"},[e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.dontWorryYouCanProbablyDoItWithThe"))+" "),s("n8n-link",{on:{click:e.selectHttpRequest}},[e._v(e._s(e.$locale.baseText("nodeCreator.noResults.httpRequest")))]),e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.or"))+" "),s("n8n-link",{on:{click:e.selectWebhook}},[e._v(e._s(e.$locale.baseText("nodeCreator.noResults.webhook")))]),e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.node"))+" ")],1)]),s("div",{staticClass:"request"},[s("div",[e._v(" "+e._s(e.$locale.baseText("nodeCreator.noResults.wantUsToMakeItFaster"))+" ")]),s("div",[s("n8n-link",{attrs:{to:e.REQUEST_NODE_FORM_URL}},[s("span",[e._v(e._s(e.$locale.baseText("nodeCreator.noResults.requestTheNode")))]),e._v(" "),s("span",[s("font-awesome-icon",{staticClass:"external",attrs:{icon:"external-link-alt",title:e.$locale.baseText("nodeCreator.noResults.requestTheNode")}})],1)])],1)])])},Wg=[],Bg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{attrs:{width:"75px",height:"75px",viewBox:"0 0 75 75",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[e._v("no-nodes-keyart")]),s("g",{attrs:{id:"Nodes-panel-prototype-V2.1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"nodes-panel-(component)",transform:"translate(-2085.000000, -352.000000)"}},[s("g",{attrs:{id:"nodes_panel",transform:"translate(1880.000000, 151.000000)"}},[s("g",{attrs:{id:"Panel",transform:"translate(50.000000, 0.000000)"}},[s("g",{attrs:{id:"Group-3",transform:"translate(105.000000, 171.000000)"}},[s("g",{attrs:{id:"no-nodes-keyart",transform:"translate(50.000000, 30.000000)"}},[s("rect",{attrs:{id:"Rectangle",x:"0",y:"0",width:"75",height:"75"}}),s("g",{attrs:{id:"Group",transform:"translate(6.562500, 8.164062)",fill:"#C4C8D1","fill-rule":"nonzero"}},[s("polygon",{attrs:{id:"Rectangle",transform:"translate(49.192016, 45.302553) rotate(-45.000000) translate(-49.192016, -45.302553) ",points:"44.5045606 32.0526802 53.8794707 32.0526802 53.8794707 58.5524261 44.5045606 58.5524261"}}),s("path",{attrs:{d:"M48.125,23.0859375 C54.15625,23.0859375 59.0625,18.1796875 59.0625,12.1484375 C59.0625,10.3359375 58.5625,8.6484375 57.78125,7.1484375 L49.34375,15.5859375 L44.6875,10.9296875 L53.125,2.4921875 C51.625,1.7109375 49.9375,1.2109375 48.125,1.2109375 C42.09375,1.2109375 37.1875,6.1171875 37.1875,12.1484375 C37.1875,13.4296875 37.4375,14.6484375 37.84375,15.7734375 L32.0625,21.5546875 L26.5,15.9921875 L28.71875,13.7734375 L24.3125,9.3671875 L30.9375,2.7421875 C27.28125,-0.9140625 21.34375,-0.9140625 17.6875,2.7421875 L6.625,13.8046875 L11.03125,18.2109375 L2.21875,18.2109375 L1.38777878e-15,20.4296875 L11.0625,31.4921875 L13.28125,29.2734375 L13.28125,20.4296875 L17.6875,24.8359375 L19.90625,22.6171875 L25.46875,28.1796875 L2.3125,51.3359375 L8.9375,57.9609375 L44.5,22.4296875 C45.625,22.8359375 46.84375,23.0859375 48.125,23.0859375 Z",id:"Path"}})])])])])])])])])},Vg=[],Ug={},jg=Object(v["a"])(Ug,Bg,Vg,!1,null,null,null),Fg=jg.exports,zg=n["default"].extend({name:"NoResults",components:{NoResultsIcon:Fg},data(){return{REQUEST_NODE_FORM_URL:N["Nc"]}},methods:{selectWebhook(){this.$emit("nodeTypeSelected",N["wd"])},selectHttpRequest(){this.$emit("nodeTypeSelected",N["tb"])}}}),Hg=zg,Gg=(s("aca5"),Object(v["a"])(Hg,Rg,Wg,!1,null,"15ed0045",null)),Kg=Gg.exports,Yg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-container"},[s("div",{class:{prefix:!0,active:e.value.length>0}},[s("font-awesome-icon",{attrs:{icon:"search"}})],1),s("div",{staticClass:"text"},[s("input",{ref:"input",attrs:{placeholder:e.$locale.baseText("nodeCreator.searchBar.searchNodes")},domProps:{value:e.value},on:{input:e.onInput}})]),e.value.length>0?s("div",{staticClass:"suffix",on:{click:e.clear}},[s("span",{staticClass:"clear el-icon-close clickable"})]):e._e()])},qg=[],Jg=Object(K["a"])(ln["a"]).extend({name:"SearchBar",props:["value","eventBus"],mounted(){this.$props.eventBus&&this.$props.eventBus.$on("focus",()=>{this.focus()}),setTimeout(()=>{this.focus()},0),this.$externalHooks().run("nodeCreator_searchBar.mount",{inputRef:this.$refs["input"]})},methods:{focus(){const e=this.$refs.input;e&&e.focus()},onInput(e){const t=e.target;this.$emit("input",t.value)},clear(){this.$emit("input","")}}}),Xg=Jg,Qg=(s("8116"),Object(v["a"])(Xg,Yg,qg,!1,null,"44566b97",null)),Zg=Qg.exports,ef=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"subcategory-panel"},[s("div",{staticClass:"subcategory-header"},[s("div",{staticClass:"clickable",on:{click:e.onBackArrowClick}},[s("font-awesome-icon",{staticClass:"back-arrow",attrs:{icon:"arrow-left"}})],1),s("span",[e._v(" "+e._s(e.$locale.baseText("nodeCreator.subcategoryNames."+e.subcategoryName))+" ")])]),s("div",{staticClass:"scrollable"},[s("ItemIterator",{attrs:{elements:e.elements,activeIndex:e.activeIndex},on:{selected:function(t){return e.$emit("selected",t)},dragstart:function(t){return e.$emit("dragstart",t)},dragend:function(t){return e.$emit("dragend",t)}}})],1)])},tf=[],sf=n["default"].extend({name:"SubcategoryPanel",components:{ItemIterator:Lg},props:["title","elements","activeIndex"],computed:{subcategoryName(){return mg()(this.title)}},methods:{onBackArrowClick(){this.$emit("close")}}}),nf=sf,af=(s("39ac"),Object(v["a"])(nf,ef,tf,!1,null,"e63cc572",null)),of=af.exports;const rf=(e,t,s,n)=>{e[s]||(e[s]={}),e[s][n]||(e[s][n]={triggerCount:0,regularCount:0,nodes:[]});const a=t.group.includes("trigger");a&&e[s][n].triggerCount++,a||e[s][n].regularCount++,e[s][n].nodes.push({type:"node",key:`${s}_${t.name}`,category:s,properties:{nodeType:t,subcategory:n},includedByTrigger:a,includedByRegular:!a})},lf=(e,t)=>{const s=[...e].sort((e,t)=>e.displayName>t.displayName?1:-1);return s.reduce((e,s)=>(t.includes(s.name)&&rf(e,s,N["Bc"],N["md"]),s.codex&&s.codex.categories?(s.codex.categories.forEach(t=>{const n=t.trim(),a=s.codex&&s.codex.subcategories&&s.codex.subcategories[n]?s.codex.subcategories[n][0]:N["md"];rf(e,s,n,a)}),e):(rf(e,s,N["ld"],N["md"]),e)),{})},cf=e=>{const t=[N["E"],N["M"],N["ld"],N["Bc"]],s=Object.keys(e),n=s.filter(e=>!t.includes(e));return n.sort(),[N["E"],N["M"],N["Bc"],...n,N["ld"]]},df=e=>{const t=cf(e);return t.reduce((t,s)=>{if(!e[s])return t;const n={type:"category",key:s,category:s,properties:{expanded:!1}},a=Object.keys(e[s]);if(1===a.length){const o=e[s][a[0]];return o.triggerCount>0&&(n.includedByTrigger=o.triggerCount>0),o.regularCount>0&&(n.includedByRegular=o.regularCount>0),[...t,n,...o.nodes]}a.sort();const o=a.reduce((t,a)=>{const o={type:"subcategory",key:`${s}_${a}`,category:s,properties:{subcategory:a,description:N["cd"][s][a]},includedByTrigger:e[s][a].triggerCount>0,includedByRegular:e[s][a].regularCount>0};return o.includedByTrigger&&(n.includedByTrigger=!0),o.includedByRegular&&(n.includedByRegular=!0),t.push(o),t},[]);return[...t,n,...o]},[])},uf=(e,t)=>!(t!==N["Mc"]||!e.includedByRegular)||(!(t!==N["kd"]||!e.includedByTrigger)||t===N["b"]),pf=(e,t)=>!(!e.codex||!e.codex.alias)&&e.codex.alias.reduce((e,s)=>e||s.toLowerCase().indexOf(t)>-1,!1),hf=(e,t)=>{const s=e.properties.nodeType;return-1!==s.displayName.toLowerCase().indexOf(t)||pf(s,t)};var mf=Object(K["a"])(ln["a"]).extend({name:"NodeCreateList",components:{ItemIterator:Lg,NoResults:Kg,SubcategoryPanel:of,SlideTransition:jm,SearchBar:Zg},props:["categorizedItems","categoriesWithNodes","searchItems"],data(){return{activeCategory:[],activeSubcategory:null,activeIndex:1,activeSubcategoryIndex:0,nodeFilter:"",selectedType:N["b"],searchEventBus:new n["default"],REGULAR_NODE_FILTER:N["Mc"],TRIGGER_NODE_FILTER:N["kd"],ALL_NODE_FILTER:N["b"]}},computed:{searchFilter(){return this.nodeFilter.toLowerCase().trim()},filteredNodeTypes(){const e=this.searchItems,t=this.searchFilter,s=e.filter(e=>t&&uf(e,this.selectedType)&&hf(e,t));return setTimeout(()=>{this.$externalHooks().run("nodeCreateList.filteredNodeTypesComputed",{nodeFilter:this.nodeFilter,result:s,selectedType:this.selectedType})},0),s},categorized(){return this.categorizedItems&&this.categorizedItems.reduce((e,t)=>("category"===t.type||this.activeCategory.includes(t.category))&&uf(t,this.selectedType)?"category"===t.type?(e.push({...t,properties:{expanded:this.activeCategory.includes(t.category)}}),e):(e.push(t),e):e,[])},subcategorizedNodes(){const e=this.activeSubcategory,t=e.category,s=e.properties.subcategory;return e&&this.categoriesWithNodes[t][s].nodes.filter(e=>uf(e,this.selectedType))}},watch:{nodeFilter(e,t){this.activeIndex=0,this.$externalHooks().run("nodeCreateList.nodeFilterChanged",{oldValue:t,newValue:e,selectedType:this.selectedType,filteredNodes:this.filteredNodeTypes}),this.$telemetry.trackNodesPanel("nodeCreateList.nodeFilterChanged",{oldValue:t,newValue:e,selectedType:this.selectedType,filteredNodes:this.filteredNodeTypes,workflow_id:this.$store.getters.workflowId})},selectedType(e,t){this.$externalHooks().run("nodeCreateList.selectedTypeChanged",{oldValue:t,newValue:e}),this.$telemetry.trackNodesPanel("nodeCreateList.selectedTypeChanged",{old_filter:t,new_filter:e,workflow_id:this.$store.getters.workflowId})}},methods:{nodeFilterKeyDown(e){if(["Escape","Tab"].includes(e.key)||e.stopPropagation(),this.activeSubcategory){const t=this.subcategorizedNodes,s=t[this.activeSubcategoryIndex];return void("ArrowDown"===e.key&&this.activeSubcategory?(this.activeSubcategoryIndex++,this.activeSubcategoryIndex=Math.min(this.activeSubcategoryIndex,t.length-1)):"ArrowUp"===e.key&&this.activeSubcategory?(this.activeSubcategoryIndex--,this.activeSubcategoryIndex=Math.max(this.activeSubcategoryIndex,0)):"Enter"===e.key?this.selected(s):"ArrowLeft"===e.key&&this.onSubcategoryClose())}let t;t=this.searchFilter.length>0?this.filteredNodeTypes:this.categorized;const s=t[this.activeIndex];"ArrowDown"===e.key?(this.activeIndex++,this.activeIndex=Math.min(this.activeIndex,t.length-1)):"ArrowUp"===e.key?(this.activeIndex--,this.activeIndex=Math.max(this.activeIndex,0)):("Enter"===e.key&&s||"ArrowRight"===e.key&&s&&"subcategory"===s.type||"ArrowRight"===e.key&&s&&"category"===s.type&&!s.properties.expanded||"ArrowLeft"===e.key&&s&&"category"===s.type&&s.properties.expanded)&&this.selected(s)},selected(e){"node"===e.type?this.$emit("nodeTypeSelected",e.properties.nodeType.name):"category"===e.type?this.onCategorySelected(e.category):"subcategory"===e.type&&this.onSubcategorySelected(e)},onCategorySelected(e){this.activeCategory.includes(e)?this.activeCategory=this.activeCategory.filter(t=>t!==e):(this.activeCategory=[...this.activeCategory,e],this.$telemetry.trackNodesPanel("nodeCreateList.onCategoryExpanded",{category_name:e,workflow_id:this.$store.getters.workflowId})),this.activeIndex=this.categorized.findIndex(t=>t.category===e)},onSubcategorySelected(e){this.activeSubcategoryIndex=0,this.activeSubcategory=e,this.$telemetry.trackNodesPanel("nodeCreateList.onSubcategorySelected",{selected:e,workflow_id:this.$store.getters.workflowId})},onSubcategoryClose(){this.activeSubcategory=null,this.activeSubcategoryIndex=0,this.nodeFilter=""},onClickInside(){this.searchEventBus.$emit("focus")}},async mounted(){this.$nextTick(()=>{this.activeCategory=[N["E"]]}),this.$externalHooks().run("nodeCreateList.mounted")},async destroyed(){this.$externalHooks().run("nodeCreateList.destroyed"),this.$telemetry.trackNodesPanel("nodeCreateList.destroyed",{workflow_id:this.$store.getters.workflowId})}}),gf=mf,ff=(s("afdd"),Object(v["a"])(gf,Fm,zm,!1,null,"5dd504fa",null)),wf=ff.exports,yf=n["default"].extend({name:"NodeCreator",components:{MainPanel:wf,SlideTransition:jm},props:["active"],data(){return{allLatestNodeTypes:[]}},computed:{...Object(D["b"])("users",["personalizedNodeTypes"]),nodeTypes(){return this.$store.getters["nodeTypes/allLatestNodeTypes"]},visibleNodeTypes(){return this.allLatestNodeTypes.filter(e=>!e.hidden)},categoriesWithNodes(){return lf(this.visibleNodeTypes,this.personalizedNodeTypes)},categorizedItems(){return df(this.categoriesWithNodes)},searchItems(){const e=[...this.visibleNodeTypes];return e.sort((e,t)=>{const s=e.displayName.toLowerCase(),n=t.displayName.toLowerCase();return s<n?-1:s>n?1:0}),e.map(e=>({type:"node",category:"",key:""+e.name,properties:{nodeType:e,subcategory:""},includedByTrigger:e.group.includes("trigger"),includedByRegular:!e.group.includes("trigger")}))}},methods:{onClickOutside(e){"click"===e.type&&this.$emit("closeNodeCreator")},nodeTypeSelected(e){this.$emit("nodeTypeSelected",e)},onDragOver(e){e.preventDefault()},onDrop(e){if(!e.dataTransfer)return;const t=e.dataTransfer.getData("nodeTypeName"),s=this.$refs.nodeCreator.getBoundingClientRect();t&&e.pageX>=s.x&&e.pageY>=s.y&&e.stopPropagation()}},watch:{nodeTypes(e){e.length!==this.allLatestNodeTypes.length&&(this.allLatestNodeTypes=e)}}}),bf=yf,vf=(s("7212"),Object(v["a"])(bf,Mm,Lm,!1,null,"c5295d6c",null)),xf=vf.exports,kf=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"sticky",staticClass:"sticky-wrapper",style:e.stickyPosition,attrs:{id:e.nodeId}},[s("div",{class:{"sticky-default":!0,"touch-active":e.isTouchActive,"is-touch-device":e.isTouchDevice},style:e.stickySize},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected,expression:"isSelected"}],staticClass:"select-sticky-background"}),s("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.touchStart,expression:"touchStart",arg:"start"},{name:"touch",rawName:"v-touch:end",value:e.touchEnd,expression:"touchEnd",arg:"end"}],ref:e.data.name,staticClass:"sticky-box",attrs:{"data-name":e.data.name},on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.mouseLeftClick.apply(null,arguments)}}},[s("n8n-sticky",{attrs:{content:e.node.parameters.content,height:e.node.parameters.height,width:e.node.parameters.width,scale:e.nodeViewScale,id:e.node.id,readOnly:e.isReadOnly,defaultText:e.defaultText,editMode:e.isActive&&!e.isReadOnly,gridSize:e.gridSize},on:{"update:content":function(t){return e.$set(e.node.parameters,"content",t)},input:e.onInputChange,edit:e.onEdit,resizestart:e.onResizeStart,resize:e.onResize,resizeend:e.onResizeEnd,"markdown-click":e.onMarkdownClick}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showActions,expression:"showActions"}],staticClass:"sticky-options no-select-on-click"},[s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.deleteNode,expression:"deleteNode",arg:"tap"}],staticClass:"option",attrs:{title:e.$locale.baseText("node.deleteNode")}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])])},Tf=[],$f=Object(K["a"])(ln["a"],Sm,Me["a"],we["a"]).extend({name:"Sticky",props:{nodeViewScale:{type:Number},gridSize:{type:Number}},computed:{defaultText(){if(!this.nodeType)return"";const e=this.nodeType.properties,t=e.find(e=>"content"===e.name);return t&&Object(We["m"])(t.default)?t.default:""},isSelected(){return this.$store.getters.getSelectedNodes.find(e=>e.name===this.data.name)},nodeType(){return this.data&&this.$store.getters["nodeTypes/getNodeType"](this.data.type,this.data.typeVersion)},node(){return this.$store.getters.nodesByName[this.name]},position(){return this.node?this.node.position:[0,0]},height(){return this.node&&Object(We["l"])(this.node.parameters.height)?this.node.parameters.height:0},width(){return this.node&&Object(We["l"])(this.node.parameters.width)?this.node.parameters.width:0},stickySize(){const e={height:this.height+"px",width:this.width+"px"};return e},stickyPosition(){const e={left:this.position[0]+"px",top:this.position[1]+"px",zIndex:this.isActive?9999999:-1*Math.floor(this.height*this.width/1e3)};return e},showActions(){return!(this.hideActions||this.isReadOnly||this.workflowRunning||this.isResizing)},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")}},data(){return{isResizing:!1,isTouchActive:!1}},methods:{deleteNode(){n["default"].nextTick(()=>{this.$emit("removeNode",this.data.name)})},onEdit(e){e&&!this.isActive&&this.node?this.$store.commit("setActiveNode",this.node.name):this.isActive&&!e&&this.$store.commit("setActiveNode",null)},onMarkdownClick(e,t){if(e){const t=this.name===N["Kc"],s=e.querySelector('img[alt="n8n quickstart video"'),n=t&&s?"welcome_video":t&&"/templates"===e.getAttribute("href")?"templates":"other";this.$telemetry.track("User clicked note link",{type:n})}},onInputChange(e){this.setParameters({content:e})},onResizeStart(){this.isResizing=!0,!this.isSelected&&this.node&&this.$emit("nodeSelected",this.node.name,!1,!0),this.node&&this.instance.destroyDraggable(this.node.id)},onResize({height:e,width:t,dX:s,dY:n}){this.node&&(0===s&&0===n||this.setPosition([this.node.position[0]+(s||0),this.node.position[1]+(n||0)]),this.setParameters({height:e,width:t}))},onResizeEnd(){this.isResizing=!1,this.__makeInstanceDraggable(this.data)},setParameters(e){if(this.node){const t={content:Object(We["m"])(e.content)?e.content:this.node.parameters.content,height:Object(We["l"])(e.height)?e.height:this.node.parameters.height,width:Object(We["l"])(e.width)?e.width:this.node.parameters.width},s={name:this.node.name,value:t};this.$store.commit("setNodeParameters",s)}},setPosition(e){if(!this.node)return;const t={name:this.node.name,properties:{position:e}};this.$store.commit("updateNodeProperties",t)},touchStart(){!0===this.isTouchDevice&&!1===this.isMacOs&&!1===this.isTouchActive&&(this.isTouchActive=!0,setTimeout(()=>{this.isTouchActive=!1},2e3))}}}),_f=$f,Cf=(s("8267"),Object(v["a"])(_f,kf,Tf,!1,null,"05401900",null)),Nf=Cf.exports,Ef=(s("2dd6"),s("ab6f"),Object(K["a"])(Je,ln["a"],cn["a"],Ou,Mu,Dt["a"],Y["a"],Nl,we["a"],Qc,Lu,wc["a"]).extend({name:"NodeView",components:{NodeDetailsView:Cm,Node:Am,NodeCreator:xf,NodeSettings:Tp,Sticky:Nf},errorCaptured:(e,t,s)=>{console.error("errorCaptured"),console.error(e)},watch:{$route:"initView",activeNode(){this.createNodeActive=!1},nodes:{async handler(e,t){let s=null;this.$route&&this.$route.params.name&&(s=this.$route.params.name)},deep:!0},connections:{async handler(e,t){let s=null;this.$route&&this.$route.params.name&&(s=this.$route.params.name)},deep:!0}},async beforeRouteLeave(e,t,s){const n=this.$store.getters.getStateIsDirty;if(n){const e=await this.confirmModal(this.$locale.baseText("nodeView.confirmMessage.beforeRouteLeave.message"),this.$locale.baseText("nodeView.confirmMessage.beforeRouteLeave.headline"),"warning",this.$locale.baseText("nodeView.confirmMessage.beforeRouteLeave.confirmButtonText"),this.$locale.baseText("nodeView.confirmMessage.beforeRouteLeave.cancelButtonText"),!0);if(e===N["gc"]){const e=await this.saveCurrentWorkflow({},!1);e&&this.$store.dispatch("settings/fetchPromptsData"),this.$store.commit("setStateDirty",!1),s()}else e===N["ec"]?(this.$store.commit("setStateDirty",!1),s()):e===N["fc"]&&s(!1)}else s()},computed:{...Object(D["b"])("users",["currentUser"]),...Object(D["b"])("ui",["sidebarMenuCollapsed"]),...Object(D["b"])("settings",["isOnboardingCallPromptFeatureEnabled"]),defaultLocale(){return this.$store.getters.defaultLocale},isEnglishLocale(){return"en"===this.defaultLocale},...Object(D["b"])(["nativelyNumberSuffixedDefaults"]),activeNode(){return this.$store.getters.activeNode},executionWaitingForWebhook(){return this.$store.getters.executionWaitingForWebhook},isDemo(){return this.$route.name===N["ud"].DEMO},lastSelectedNode(){return this.$store.getters.lastSelectedNode},nodes(){return this.$store.getters.allNodes},runButtonText(){return!1===this.workflowRunning?this.$locale.baseText("nodeView.runButtonText.executeWorkflow"):!0===this.executionWaitingForWebhook?this.$locale.baseText("nodeView.runButtonText.waitingForTriggerEvent"):this.$locale.baseText("nodeView.runButtonText.executingWorkflow")},workflowStyle(){const e=this.$store.getters.getNodeViewOffsetPosition;return{left:e[0]+"px",top:e[1]+"px"}},backgroundStyle(){return gu(this.nodeViewScale,this.$store.getters.getNodeViewOffsetPosition)},workflowClasses(){const e=[];return!0===this.ctrlKeyPressed&&(!0===this.$store.getters.isNodeViewMoveInProgress?e.push("move-in-process"):e.push("move-active")),(this.selectActive||!0===this.ctrlKeyPressed)&&e.push("do-not-select"),e},workflowExecution(){return this.$store.getters.getWorkflowExecution},workflowRunning(){return this.$store.getters.isActionActive("workflowRunning")}},data(){return{GRID_SIZE:_d,STICKY_NODE_TYPE:N["bd"],createNodeActive:!1,instance:pd["jsPlumb"].getInstance(),lastSelectedConnection:null,lastClickPosition:[450,450],nodeViewScale:1,ctrlKeyPressed:!1,stopExecutionInProgress:!1,blankRedirect:!1,credentialsUpdated:!1,newNodeInsertPosition:null,pullConnActiveNodeName:null,pullConnActive:!1,dropPrevented:!1,renamingActive:!1,showStickyButton:!1}},beforeDestroy(){this.resetWorkspace(),document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp)},methods:{onRunNode(e,t){const s=this.$store.getters.getNodeByName(e),n={node_type:s?s.type:null,workflow_id:this.$store.getters.workflowId,source:"canvas"};this.$telemetry.track("User clicked execute node button",n),this.$externalHooks().run("nodeView.onRunNode",n),this.runWorkflow(e,t)},onRunWorkflow(){this.getWorkflowDataToSave().then(e=>{const t={workflow_id:this.$store.getters.workflowId,node_graph_string:JSON.stringify(Ce["TelemetryHelpers"].generateNodesGraph(e,this.getNodeTypes()).nodeGraph)};this.$telemetry.track("User clicked execute workflow button",t),this.$externalHooks().run("nodeView.onRunWorkflow",t)}),this.runWorkflow()},onCreateMenuHoverIn(e){const t=e.target;this.showStickyButton=!0;const s=e=>{if(t){const n=t.getBoundingClientRect(),a=n.height,o=n.width,i=n.left,r=i+o,l=n.top,c=l+a,d=e.pageX>i&&e.pageX<r&&e.pageY>l&&e.pageY<c;d||(this.showStickyButton=!1,document.removeEventListener("mousemove",s,!1))}};document.addEventListener("mousemove",s,!1)},clearExecutionData(){this.$store.commit("setWorkflowExecutionData",null),this.updateNodesExecutionIssues()},translateName(e,t){return this.$locale.headerText({key:`headers.${this.$locale.shortNodeType(e)}.displayName`,fallback:t})},getUniqueNodeName({originalName:e,additionalUsedNames:t=[],type:s=""}){const n=this.$store.getters.allNodes.map(e=>e.name);if(e=this.isEnglishLocale?e:this.translateName(s,e),!n.includes(e)&&!t.includes(e))return e;let a=this.nativelyNumberSuffixedDefaults;a=this.isEnglishLocale?a:a.map(e=>{const t=e.toLowerCase().replace("_","");return this.translateName(t,e)});const o=a.find(t=>e.startsWith(t));let i,r,l,c,d=1;if(o)l=e.split(o).pop(),l&&(d=parseInt(l,10)),r=c=o;else{const t=e.match(/(.*\D+)(\d*)/);null===t?(d=parseInt(e,10),r="",c=r+d):([i,r,l]=t,""!==l&&(d=parseInt(l,10)),c=r)}while(n.includes(c)||t.includes(c))c=r+d++;return c},async onSaveKeyboardShortcut(){const e=await this.saveCurrentWorkflow();e&&this.$store.dispatch("settings/fetchPromptsData")},openNodeCreator(e){this.createNodeActive=!0,this.$externalHooks().run("nodeView.createNodeActiveChanged",{source:e,createNodeActive:this.createNodeActive}),this.$telemetry.trackNodesPanel("nodeView.createNodeActiveChanged",{source:e,workflow_id:this.$store.getters.workflowId,createNodeActive:this.createNodeActive})},async openExecution(e){let t;this.resetWorkspace();try{t=await this.restApi().getExecution(e)}catch(s){return void this.$showError(s,this.$locale.baseText("nodeView.showError.openExecution.title"))}if(void 0===t)throw new Error(`Execution with id "${e}" could not be found!`);if(this.$store.commit("setWorkflowName",{newName:t.workflowData.name,setStateDirty:!1}),this.$store.commit("setWorkflowId",N["Fc"]),this.$store.commit("setWorkflowExecutionData",t),this.$store.commit("setWorkflowPinData",t.workflowData.pinData),await this.addNodes(JSON.parse(JSON.stringify(t.workflowData.nodes)),JSON.parse(JSON.stringify(t.workflowData.connections))),this.$nextTick(()=>{this.zoomToFit(),this.$store.commit("setStateDirty",!1)}),this.$externalHooks().run("execution.open",{workflowId:t.workflowData.id,workflowName:t.workflowData.name,executionId:e}),this.$telemetry.track("User opened read-only execution",{workflow_id:t.workflowData.id,execution_mode:t.mode,execution_finished:t.finished}),!0!==t.finished&&t&&t.data&&t.data.resultData&&t.data.resultData.error){let s=!1;if(t.data.resultData.runData){const e=t.data.resultData.runData;e:for(const t of Object.keys(e))for(const n of e[t])if(n.error){s=!0;break e}}if(!1===s){const s=t.data.resultData.error,n=this.$getExecutionError(s),a=s&&s.node&&s.node.type.startsWith("n8n-nodes-base");this.$showMessage({title:"Failed execution",message:n,type:"error"},a),t.data.resultData.error.stack&&(console.error(`Execution ${e} error:`),console.error(t.data.resultData.error.stack))}}t.waitTill&&this.$showMessage({title:this.$locale.baseText("nodeView.thisExecutionHasntFinishedYet"),message:`<a data-action="reload">${this.$locale.baseText("nodeView.refresh")}</a> ${this.$locale.baseText("nodeView.toSeeTheLatestStatus")}.<br/> <a href="https://docs.n8n.io/nodes/n8n-nodes-base.wait/" target="_blank">${this.$locale.baseText("nodeView.moreInfo")}</a>`,type:"warning",duration:0})},async importWorkflowExact(e){if(!e.workflow.nodes||!e.workflow.connections)throw new Error("Invalid workflow object");this.resetWorkspace(),e.workflow.nodes=Iu(e.workflow.nodes),await this.addNodes(e.workflow.nodes,e.workflow.connections),e.workflow.pinData&&this.$store.commit("setWorkflowPinData",e.workflow.pinData),this.$nextTick(()=>{this.zoomToFit()})},async openWorkflowTemplate(e){let t;this.setLoadingText(this.$locale.baseText("nodeView.loadingTemplate")),this.resetWorkspace();try{if(this.$externalHooks().run("template.requested",{templateId:e}),t=await this.$store.dispatch("templates/getWorkflowTemplate",e),!t)throw new Error(this.$locale.baseText("nodeView.workflowTemplateWithIdCouldNotBeFound",{interpolate:{templateId:e}}))}catch(s){return this.$showError(s,this.$locale.baseText("nodeView.couldntImportWorkflow")),void this.$router.replace({name:N["ud"].NEW_WORKFLOW})}t.workflow.nodes=Iu(t.workflow.nodes),this.blankRedirect=!0,this.$router.replace({name:N["ud"].NEW_WORKFLOW,query:{templateId:e}}),await this.addNodes(t.workflow.nodes,t.workflow.connections),await this.$store.dispatch("workflows/getNewWorkflowData",t.name),this.$nextTick(()=>{this.zoomToFit(),this.$store.commit("setStateDirty",!0)}),this.$externalHooks().run("template.open",{templateId:e,templateName:t.name,workflow:t.workflow})},async openWorkflow(e){let t;this.resetWorkspace();try{t=await this.restApi().getWorkflow(e)}catch(a){return void this.$showError(a,this.$locale.baseText("nodeView.showError.openWorkflow.title"))}if(void 0===t)throw new Error(this.$locale.baseText("nodeView.workflowWithIdCouldNotBeFound",{interpolate:{workflowId:e}}));this.$store.commit("setActive",t.active||!1),this.$store.commit("setWorkflowId",e),this.$store.commit("setWorkflowName",{newName:t.name,setStateDirty:!1}),this.$store.commit("setWorkflowSettings",t.settings||{}),this.$store.commit("setWorkflowPinData",t.pinData||{});const s=t.tags||[];this.$store.commit("tags/upsertTags",s);const n=s.map(e=>e.id);return this.$store.commit("setWorkflowTagIds",n||[]),await this.addNodes(t.nodes,t.connections),this.credentialsUpdated||this.$store.commit("setStateDirty",!1),this.zoomToFit(),this.$externalHooks().run("workflow.open",{workflowId:e,workflowName:t.name}),t},touchTap(e){this.isTouchDevice&&this.mouseDown(e)},mouseDown(e){this.lastClickPosition=this.getMousePositionWithinNodeView(e),this.mouseDownMouseSelect(e),this.mouseDownMoveWorkflow(e),this.createNodeActive=!1},mouseUp(e){this.mouseUpMouseSelect(e),this.mouseUpMoveWorkflow(e)},wheelScroll(e){if(e.ctrlKey)return e.deltaY>0?this.zoomOut():this.zoomIn(),void e.preventDefault();this.wheelMoveWorkflow(e)},keyUp(e){e.key===this.controlKeyCode&&(this.ctrlKeyPressed=!1)},async keyDown(e){const t=e.path||e.composedPath&&e.composedPath();for(let s=0;s<t.length;s++)if(t[s].className&&"string"===typeof t[s].className&&t[s].className.includes("ignore-key-press"))return;if(!window.document.body.classList.contains("el-popup-parent--hidden")){if("Escape"===e.key)return this.createNodeActive=!1,void(this.activeNode&&(this.$externalHooks().run("dataDisplay.nodeEditingFinished"),this.$store.commit("setActiveNode",null)));if(!this.activeNode)if("d"===e.key)this.callDebounced("deactivateSelectedNode",{debounceTime:350});else if("Delete"===e.key||"Backspace"===e.key)e.stopPropagation(),e.preventDefault(),this.callDebounced("deleteSelectedNodes",{debounceTime:500});else if("Tab"===e.key)this.createNodeActive=!this.createNodeActive&&!this.isReadOnly,this.$externalHooks().run("nodeView.createNodeActiveChanged",{source:"tab",createNodeActive:this.createNodeActive}),this.$telemetry.trackNodesPanel("nodeView.createNodeActiveChanged",{source:"tab",workflow_id:this.$store.getters.workflowId,createNodeActive:this.createNodeActive});else if(e.key===this.controlKeyCode)this.ctrlKeyPressed=!0;else if("F2"!==e.key||this.isReadOnly)if("="!==e.key&&"+"!==e.key||this.isCtrlKeyPressed(e))if("_"!==e.key&&"-"!==e.key||this.isCtrlKeyPressed(e))if("0"!==e.key||this.isCtrlKeyPressed(e))if("1"!==e.key||this.isCtrlKeyPressed(e)){if("a"===e.key&&!0===this.isCtrlKeyPressed(e))e.stopPropagation(),e.preventDefault(),this.callDebounced("selectAllNodes",{debounceTime:1e3});else if("c"===e.key&&!0===this.isCtrlKeyPressed(e))this.callDebounced("copySelectedNodes",{debounceTime:1e3});else if("x"===e.key&&!0===this.isCtrlKeyPressed(e))e.stopPropagation(),e.preventDefault(),this.callDebounced("cutSelectedNodes",{debounceTime:1e3});else if("o"===e.key&&!0===this.isCtrlKeyPressed(e)){if(e.stopPropagation(),e.preventDefault(),this.isDemo)return;this.$store.dispatch("ui/openModal",N["Ad"])}else if("n"===e.key&&!0===this.isCtrlKeyPressed(e)&&!0===e.altKey){if(e.stopPropagation(),e.preventDefault(),this.isDemo)return;this.$router.currentRoute.name===N["ud"].NEW_WORKFLOW?this.$root.$emit("newWorkflow"):this.$router.push({name:N["ud"].NEW_WORKFLOW}),this.$showMessage({title:this.$locale.baseText("nodeView.showMessage.keyDown.title"),type:"success"})}else if("s"===e.key&&!0===this.isCtrlKeyPressed(e)){if(e.stopPropagation(),e.preventDefault(),this.isReadOnly)return;this.callDebounced("onSaveKeyboardShortcut",{debounceTime:1e3})}else if("Enter"===e.key){const e=this.lastSelectedNode;if(null!==e){if(e.type===N["bd"]&&this.isReadOnly)return;this.$store.commit("setActiveNode",e.name)}}else if("ArrowRight"===e.key&&!0===e.shiftKey)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectDownstreamNodes",{debounceTime:1e3});else if("ArrowRight"===e.key){const e=this.lastSelectedNode;if(null===e)return;const t=this.$store.getters.outgoingConnectionsByNodeName(e.name);if(void 0===t.main||0===t.main.length)return;this.callDebounced("nodeSelectedByName",{debounceTime:100},t.main[0][0].node,!1,!0)}else if("ArrowLeft"===e.key&&!0===e.shiftKey)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectUpstreamNodes",{debounceTime:1e3});else if("ArrowLeft"===e.key){const e=this.lastSelectedNode;if(null===e)return;const t=this.getCurrentWorkflow();if(!t.connectionsByDestinationNode.hasOwnProperty(e.name))return;const s=t.connectionsByDestinationNode[e.name];if(void 0===s.main||0===s.main.length)return;this.callDebounced("nodeSelectedByName",{debounceTime:100},s.main[0][0].node,!1,!0)}else if(["ArrowUp","ArrowDown"].includes(e.key)){const t=this.lastSelectedNode;if(null===t)return;const s=this.getCurrentWorkflow();if(!s.connectionsByDestinationNode.hasOwnProperty(t.name))return;const n=s.connectionsByDestinationNode[t.name];if(void 0===n.main||0===n.main.length)return;const a=n.main[0][0].node,o=this.$store.getters.outgoingConnectionsByNodeName(a);if(void 0===o.main||0===o.main.length)return;let i,r="ArrowUp"===e.key?-99999999:99999999,l=null;for(const c of o.main)for(const s of c)s.node!==t.name&&(i=this.$store.getters.getNodeByName(s.node),"ArrowUp"===e.key?i.position[1]<=t.position[1]&&i.position[1]>r&&(l=i.name,r=i.position[1]):i.position[1]>=t.position[1]&&i.position[1]<r&&(l=i.name,r=i.position[1]));null!==l&&this.callDebounced("nodeSelectedByName",{debounceTime:100},l,!1,!0)}}else this.zoomToFit();else this.resetZoom();else this.zoomOut();else this.zoomIn();else{const e=this.lastSelectedNode;null!==e&&e.type!==N["bd"]&&this.callDebounced("renameNodePrompt",{debounceTime:1500},e.name)}}},deactivateSelectedNode(){!1!==this.editAllowedCheck()&&this.disableNodes(this.$store.getters.getSelectedNodes)},deleteSelectedNodes(){const e=this.$store.getters.getSelectedNodes.map(e=>e.name);e.forEach(e=>{this.removeNode(e)})},selectAllNodes(){this.nodes.forEach(e=>{this.nodeSelectedByName(e.name)})},selectUpstreamNodes(){const e=this.lastSelectedNode;if(null===e)return;this.deselectAllNodes();const t=this.getCurrentWorkflow();for(const s of t.getParentNodes(e.name))this.nodeSelectedByName(s);this.nodeSelectedByName(e.name)},selectDownstreamNodes(){const e=this.lastSelectedNode;if(null===e)return;this.deselectAllNodes();const t=this.getCurrentWorkflow();for(const s of t.getChildNodes(e.name))this.nodeSelectedByName(s);this.nodeSelectedByName(e.name)},pushDownstreamNodes(e,t){const s=this.$store.getters.nodesByName[e],n=this.getCurrentWorkflow(),a=n.getChildNodes(e);for(const o of a){const e=this.$store.getters.nodesByName[o];if(e.position[0]<s.position[0])continue;const n={name:o,properties:{position:[e.position[0]+t,e.position[1]]}};this.$store.commit("updateNodeProperties",n),this.onNodeMoved(e)}},cutSelectedNodes(){const e=!this.isReadOnly;this.copySelectedNodes(e),e&&this.deleteSelectedNodes()},copySelectedNodes(e){this.getSelectedNodesToSave().then(t=>{const s={meta:{instanceId:this.$store.getters.instanceId},...t},n=JSON.stringify(s,null,2);this.copyToClipboard(n),t.nodes.length>0&&(e||this.$showMessage({title:"Copied!",message:"",type:"success"}),this.$telemetry.track("User copied nodes",{node_types:t.nodes.map(e=>e.type),workflow_id:this.$store.getters.workflowId}))})},resetZoom(){const{scale:e,offset:t}=tu({scale:this.nodeViewScale,offset:this.$store.getters.getNodeViewOffsetPosition});this.setZoomLevel(e),this.$store.commit("setNodeViewOffsetPosition",{newOffset:t})},zoomIn(){const{scale:e,offset:[t,s]}=eu({scale:this.nodeViewScale,offset:this.$store.getters.getNodeViewOffsetPosition});this.setZoomLevel(e),this.$store.commit("setNodeViewOffsetPosition",{newOffset:[t,s]})},zoomOut(){const{scale:e,offset:[t,s]}=Zd({scale:this.nodeViewScale,offset:this.$store.getters.getNodeViewOffsetPosition});this.setZoomLevel(e),this.$store.commit("setNodeViewOffsetPosition",{newOffset:[t,s]})},setZoomLevel(e){this.nodeViewScale=e;const t=this.instance.getContainer();if(!t)return;const s=["webkit","moz","ms","o"],n="scale("+e+")";for(let a=0;a<s.length;a++)t.style[s[a]+"Transform"]=n;t.style["transform"]=n,this.instance.setZoom(e)},zoomToFit(){const e=this.$store.getters.allNodes;if(0===e.length)return;const{zoomLevel:t,offset:s}=ku(e,!this.isDemo);this.setZoomLevel(t),this.$store.commit("setNodeViewOffsetPosition",{newOffset:s})},async stopExecution(){const e=this.$store.getters.activeExecutionId;if(null!==e){try{this.stopExecutionInProgress=!0,await this.restApi().stopCurrentExecution(e),this.$showMessage({title:this.$locale.baseText("nodeView.showMessage.stopExecutionTry.title"),type:"success"})}catch(t){const s=await this.restApi().getExecution(e);if(s.finished){const t={data:s.data,finished:s.finished,mode:s.mode,startedAt:s.startedAt,stoppedAt:s.stoppedAt},n={data:t,executionId:e,retryOf:s.retryOf};this.$store.commit("finishActiveExecution",n),this.$titleSet(s.workflowData.name,"IDLE"),this.$store.commit("setExecutingNode",null),this.$store.commit("setWorkflowExecutionData",t),this.$store.commit("removeActiveAction","workflowRunning"),this.$showMessage({title:this.$locale.baseText("nodeView.showMessage.stopExecutionCatch.title"),message:this.$locale.baseText("nodeView.showMessage.stopExecutionCatch.message"),type:"success"})}else this.$showError(t,this.$locale.baseText("nodeView.showError.stopExecution.title"))}this.stopExecutionInProgress=!1,this.getWorkflowDataToSave().then(e=>{const t={workflow_id:this.$store.getters.workflowId,node_graph_string:JSON.stringify(Ce["TelemetryHelpers"].generateNodesGraph(e,this.getNodeTypes()).nodeGraph)};this.$telemetry.track("User clicked stop workflow execution",t)})}},async stopWaitingForWebhook(){try{await this.restApi().removeTestWebhook(this.$store.getters.workflowId)}catch(e){return void this.$showError(e,this.$locale.baseText("nodeView.showError.stopWaitingForWebhook.title"))}},async receivedCopyPasteData(e){let t;if(e.match(/^http[s]?:\/\/.*\.json$/i)){if(!1===this.editAllowedCheck())return;const s=await this.confirmMessage(this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.message",{interpolate:{plainTextData:e}}),this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.headline"),"warning",this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.confirmButtonText"),this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.cancelButtonText"));if(!1===s)return;if(t=await this.getWorkflowDataFromUrl(e),void 0===t)return}else try{if(t=JSON.parse(e),!1===this.editAllowedCheck())return}catch(s){return}return this.importWorkflowData(t,!1,"paste")},async getWorkflowDataFromUrl(e){let t;this.startLoading();try{t=await this.restApi().getWorkflowFromUrl(e)}catch(s){return this.stopLoading(),void this.$showError(s,this.$locale.baseText("nodeView.showError.getWorkflowDataFromUrl.title"))}return this.stopLoading(),t},async importWorkflowData(e,t=!0,s){if(e.hasOwnProperty("nodes")&&e.hasOwnProperty("connections"))try{const n={};e.nodes&&e.nodes.forEach(e=>{if(e.id){const t=Object(md["a"])();n[t]=e.id,e.id=t}else e.id=Object(md["a"])()});const a=this.$store.getters.instanceId,o=JSON.stringify(Ce["TelemetryHelpers"].generateNodesGraph(e,this.getNodeTypes(),{nodeIdMap:n,sourceInstanceId:e.meta&&e.meta.instanceId!==a?e.meta.instanceId:""}).nodeGraph);"paste"===s?this.$telemetry.track("User pasted nodes",{workflow_id:this.$store.getters.workflowId,node_graph_string:o}):this.$telemetry.track("User imported workflow",{source:s,workflow_id:this.$store.getters.workflowId,node_graph_string:o}),this.deselectAllNodes(),this.updateNodePositions(e,uu(this.nodes,this.lastClickPosition));const i=await this.addNodesToWorkflow(e);setTimeout(()=>{i.nodes.forEach(e=>{this.nodeSelectedByName(e.name)})}),e.pinData&&this.$store.commit("setWorkflowPinData",e.pinData);const r=this.$store.getters["settings/areTagsEnabled"];if(t&&r&&Array.isArray(e.tags)){const t=await this.$store.dispatch("tags/fetchAll"),s=new Set(t.map(e=>e.name)),n=e.tags,a=n.filter(e=>!s.has(e.name)),o=[];for(const e of a){const s=this.$store.dispatch("tags/create",e.name).then(e=>(t.push(e),e));o.push(s)}await Promise.all(o);const i=n.reduce((e,s)=>{const n=t.find(e=>e.name===s.name);return n&&e.push(n.id),e},[]);this.$store.commit("addWorkflowTagIds",i)}}catch(n){this.$showError(n,this.$locale.baseText("nodeView.showError.importWorkflowData.title"))}},closeNodeCreator(){this.createNodeActive=!1},addStickyNote(){document.activeElement&&document.activeElement.blur();const e=[...this.$store.getters.getNodeViewOffsetPosition],t=mu(this.nodeViewScale,e);t[0]-=N["T"]/2,t[1]-=N["S"]/2,this.addNodeButton(N["bd"],{position:t})},nodeTypeSelected(e){this.addNodeButton(e),this.createNodeActive=!1},onDragOver(e){e.preventDefault()},onDrop(e){if(!e.dataTransfer)return;const t=e.dataTransfer.getData("nodeTypeName");if(t){const s=this.getMousePositionWithinNodeView(e);this.addNodeButton(t,{position:[s[0]-Ed/2,s[1]-Ed/2],dragAndDrop:!0}),this.createNodeActive=!1}},nodeDeselectedByName(e){const t=this.$store.getters.getNodeByName(e);t&&this.nodeDeselected(t)},nodeSelectedByName(e,t=!1,s){!0===s&&this.deselectAllNodes();const n=this.$store.getters.getNodeByName(e);n&&this.nodeSelected(n),this.$store.commit("setLastSelectedNode",n.name),this.$store.commit("setLastSelectedNodeOutputIndex",null),this.lastSelectedConnection=null,this.newNodeInsertPosition=null,!0===t&&this.$store.commit("setActiveNode",n.name)},showMaxNodeTypeError(e){const t=e.maxNodes;this.$showMessage({title:this.$locale.baseText("nodeView.showMessage.showMaxNodeTypeError.title"),message:this.$locale.baseText("nodeView.showMessage.showMaxNodeTypeError.message",{adjustToNumber:t,interpolate:{nodeTypeDataDisplayName:e.displayName}}),type:"error",duration:0})},async injectNode(e,t={}){const s=this.$store.getters["nodeTypes/getNodeType"](e);if(null===s)return void this.$showMessage({title:this.$locale.baseText("nodeView.showMessage.addNodeButton.title"),message:this.$locale.baseText("nodeView.showMessage.addNodeButton.message",{interpolate:{nodeTypeName:e}}),type:"error"});if(void 0!==s.maxNodes&&this.getNodeTypeCount(e)>=s.maxNodes)return void this.showMaxNodeTypeError(s);const n={id:Object(md["a"])(),name:s.defaults.name,type:s.name,typeVersion:Array.isArray(s.version)?s.version.slice(-1)[0]:s.version,position:[0,0],parameters:{}},a=this.lastSelectedNode;if(t.position)n.position=uu(this.nodes,t.position);else if(a){const e=this.lastSelectedConnection;if(e){const[t]=iu(e);t<=Pd&&this.pushDownstreamNodes(a.name,Ad)}if(this.newNodeInsertPosition)n.position=uu(this.nodes,[this.newNodeInsertPosition[0]+_d,this.newNodeInsertPosition[1]-Ed/2]),this.newNodeInsertPosition=null;else{let t=0;if(e){const s=this.$store.getters["nodeTypes/getNodeType"](a.type,a.typeVersion),n=[[-100,100],[-140,0,140],[-240,-100,100,240]];if(s&&s.outputs.length>1){const a=n[s.outputs.length-2],o=e.__meta?e.__meta.sourceOutputIndex:0;t=a[o]}}n.position=uu(this.nodes,[a.position[0]+Ad,a.position[1]+t],[100,0])}}else n.position=uu(this.nodes,this.lastClickPosition);if(n.name=this.getUniqueNodeName({originalName:n.name,type:n.type}),s.webhooks&&s.webhooks.length&&(n.webhookId=Object(md["a"])()),await this.addNodes([n]),this.$store.commit("setStateDirty",!0),e===N["bd"])this.$telemetry.trackNodesPanel("nodeView.addSticky",{workflow_id:this.$store.getters.workflowId});else{this.$externalHooks().run("nodeView.addNodeButton",{nodeTypeName:e});const s={node_type:e,workflow_id:this.$store.getters.workflowId,drag_and_drop:t.dragAndDrop};a&&(s.input_node_type=a.type),this.$telemetry.trackNodesPanel("nodeView.addNodeButton",s)}return this.deselectAllNodes(),setTimeout(()=>{this.nodeSelectedByName(n.name,e!==N["bd"])}),n},getConnection(e,t,s,n){const a=this.$store.getters.outgoingConnectionsByNodeName(e).main;if(a){const e=a[t];if(e)return e.find(e=>e.node===s&&e.index===n)}},connectTwoNodes(e,t,s,n){if(this.getConnection(e,t,s,n))return;const a=[{node:e,type:"main",index:t},{node:s,type:"main",index:n}];this.__addConnection(a,!0)},async addNodeButton(e,t={}){if(!1===this.editAllowedCheck())return;const s=this.lastSelectedConnection,a=this.lastSelectedNode,o=this.$store.getters.lastSelectedNodeOutputIndex,i=await this.injectNode(e,t);if(!i)return;const r=o||0;if(a){if(await n["default"].nextTick(),s&&s.__meta){this.__deleteJSPlumbConnection(s);const e=s.__meta.targetNodeName,t=s.__meta.targetOutputIndex;this.connectTwoNodes(i.name,0,e,t)}this.connectTwoNodes(a.name,r,i.name,0)}},initNodeView(){this.instance.importDefaults({Connector:Vd,Endpoint:["Dot",{radius:5}],DragOptions:{cursor:"pointer",zIndex:5e3},PaintStyle:Ud,HoverPaintStyle:Fd,ConnectionOverlays:Hd,Container:"#node-view"});const e=e=>{const t=this.$store.getters.getNodeById(e.sourceId);t&&(this.$store.commit("setLastSelectedNode",t.name),this.$store.commit("setLastSelectedNodeOutputIndex",e.index),this.newNodeInsertPosition=null,e.connection&&(this.lastSelectedConnection=e.connection),this.openNodeCreator(e.eventSource))};this.instance.bind("connectionAborted",t=>{try{if(this.dropPrevented)return void(this.dropPrevented=!1);if(this.pullConnActiveNodeName){const e=this.$store.getters.getNodeById(t.sourceId),s=e.name,n=t.getParameters().index;return this.connectTwoNodes(s,n,this.pullConnActiveNodeName,0),void(this.pullConnActiveNodeName=null)}e({sourceId:t.sourceId,index:t.getParameters().index,eventSource:"node_connection_drop"})}catch(s){console.error(s)}}),this.instance.bind("beforeDrop",e=>{try{const t=e.connection.endpoints[0].getParameters(),s=e.dropEndpoint.getParameters(),n=this.$store.getters.getNodeById(t.nodeId).name,a=this.$store.getters.getNodeById(s.nodeId).name;return!this.getConnection(n,t.index,a,s.index)||(this.dropPrevented=!0,this.pullConnActiveNodeName=null,!1)}catch(t){return console.error(t),!0}});let t=null;this.instance.bind("connection",s=>{try{const n=s.sourceEndpoint.getParameters(),a=s.targetEndpoint.getParameters(),o=this.$store.getters.getNodeById(n.nodeId).name,i=this.$store.getters.getNodeById(a.nodeId).name;if(s.connection.__meta={sourceNodeName:o,sourceOutputIndex:n.index,targetNodeName:i,targetOutputIndex:a.index},bu(s.connection),!1===this.isReadOnly){let a,o;s.connection.bind("mouseover",e=>{try{if(void 0!==a&&(clearTimeout(a),a=void 0),o)return;if(!s.connection||s.connection===t)return;fu(t),o=setTimeout(()=>{o=void 0,s.connection&&(t=s.connection,wu(s.connection))},150)}catch(n){console.error(n)}}),s.connection.bind("mouseout",e=>{try{if(a)return;if(o&&(clearTimeout(o),o=void 0),!s.connection||t!==s.connection)return;a=setTimeout(()=>{a=void 0,s.connection&&t===s.connection&&(fu(t),t=null)},500)}catch(n){console.error(n)}}),Eu(s.connection,()=>{t=null,this.__deleteJSPlumbConnection(s.connection)},()=>{setTimeout(()=>{e({sourceId:s.sourceId,index:n.index,connection:s.connection,eventSource:"node_connection_action"})},150)})}Nu(s.targetEndpoint),this.$store.commit("addConnection",{connection:[{node:o,type:n.type,index:n.index},{node:i,type:a.type,index:a.index}],setStateDirty:!0})}catch(n){console.error(n)}}),this.instance.bind("connectionMoved",e=>{try{Cu(e.originalTargetEndpoint);const t=e.originalSourceEndpoint.getParameters(),s=e.originalTargetEndpoint.getParameters(),n=[{node:this.$store.getters.getNodeById(t.nodeId).name,type:t.type,index:t.index},{node:this.$store.getters.getNodeById(s.nodeId).name,type:s.type,index:s.index}];this.__removeConnection(n,!1)}catch(t){console.error(t)}}),this.instance.bind("connectionDetached",e=>{try{if(Cu(e.targetEndpoint),e.connection.removeOverlays(),this.__removeConnectionByConnectionInfo(e,!1),this.pullConnActiveNodeName){const t=this.$store.getters.getNodeById(e.connection.sourceId),s=t.name,n=e.connection.getParameters().index;this.connectTwoNodes(s,n,this.pullConnActiveNodeName,0),this.pullConnActiveNodeName=null}}catch(t){console.error(t)}}),this.instance.bind("connectionDrag",e=>{try{this.pullConnActiveNodeName=null,this.pullConnActive=!0,this.newNodeInsertPosition=null,bu(e);const t=[...document.querySelectorAll(".node-default")],s=s=>{if(!e)return;const n=document.querySelector(".jtk-endpoint.dropHover");if(n)return void Tu(e,n._jsPlumb);const a=24,o=t.find(t=>{const{top:n,left:o,right:i,bottom:r}=t.getBoundingClientRect(),[l,c]=pu(s);if(n<=c&&r>=c&&o-a<=l&&i>=l){const s=t.dataset["name"],n=this.$store.getters.getNodeByName(s);if(n){const t=this.$store.getters["nodeTypes/getNodeType"](n.type,n.typeVersion);if(t&&t.inputs&&1===t.inputs.length){this.pullConnActiveNodeName=n.name;const t=this.getInputEndpointUUID(s,0);if(t){const s=this.instance.getEndpoint(t);return Tu(e,s),!0}}}}return!1});o||($u(e),this.pullConnActiveNodeName=null)},n=t=>{this.pullConnActive=!1,this.newNodeInsertPosition=this.getMousePositionWithinNodeView(t),_u(e),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",n)};window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),window.addEventListener("mouseup",n),window.addEventListener("touchend",s)}catch(t){console.error(t)}}),this.instance.bind("plusEndpointClick",t=>{t&&t.__meta&&e({sourceId:t.__meta.nodeId,index:t.__meta.index,eventSource:"plus_endpoint"})})},async newWorkflow(){await this.resetWorkspace();const e=await this.$store.dispatch("workflows/getNewWorkflowData");this.$store.commit("setStateDirty",!1),await this.addNodes([{id:Object(md["a"])(),...Wd}]),this.nodeSelectedByName(Wd.name,!1),this.$store.commit("setStateDirty",!1),this.setZoomLevel(1);const t=void 0!==window.posthog&&void 0!==window.posthog.getFeatureFlag;t&&"test"===window.posthog.getFeatureFlag("welcome-note")&&setTimeout(()=>{this.$store.commit("setNodeViewOffsetPosition",{newOffset:[0,0]}),e.onboardingFlowEnabled&&!this.isReadOnly&&this.$nextTick(async()=>{await this.addNodes([{id:Object(md["a"])(),...Bd,parameters:{...Bd.parameters,content:this.$locale.baseText("onboardingWorkflow.stickyContent")}}]),this.zoomToFit(),this.$telemetry.track("welcome note inserted")})},0)},async initView(){if("workflowSave"===this.$route.params.action)return this.$store.commit("setStateDirty",!1),Promise.resolve();if(this.blankRedirect)this.blankRedirect=!1;else if(this.$route.name===N["ud"].TEMPLATE_IMPORT){const e=this.$route.params.id;await this.openWorkflowTemplate(e)}else if(this.$route.name===N["ud"].EXECUTION){const e=this.$route.params.id;await this.openExecution(e)}else{const e=this.$store.getters.getStateIsDirty;if(e){const e=await this.confirmModal(this.$locale.baseText("nodeView.confirmMessage.initView.message"),this.$locale.baseText("nodeView.confirmMessage.initView.headline"),"warning",this.$locale.baseText("nodeView.confirmMessage.initView.confirmButtonText"),this.$locale.baseText("nodeView.confirmMessage.initView.cancelButtonText"),!0);if(e===N["gc"]){const e=await this.saveCurrentWorkflow();e&&this.$store.dispatch("settings/fetchPromptsData")}else if(e===N["fc"])return Promise.resolve()}let t=null;if(this.$route.params.name&&(t=this.$route.params.name),null!==t){const e=await this.restApi().getWorkflow(t);e?(this.$titleSet(e.name,"IDLE"),await this.openWorkflow(t)):(this.$router.push({name:N["ud"].NEW_WORKFLOW}),this.$showMessage({title:"Error",message:this.$locale.baseText("openWorkflow.workflowNotFoundError"),type:"error"}))}else await this.newWorkflow()}document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),window.addEventListener("beforeunload",e=>{if(!this.isDemo){if(!0===this.$store.getters.getStateIsDirty){const t=this.$locale.baseText("nodeView.itLooksLikeYouHaveBeenEditingSomething");return(e||window.event).returnValue=t,t}this.startLoading(this.$locale.baseText("nodeView.redirecting"))}})},getOutputEndpointUUID(e,t){const s=this.$store.getters.getNodeByName(e);return s?Su(s.id,t):null},getInputEndpointUUID(e,t){const s=this.$store.getters.getNodeByName(e);return s?Du(s.id,t):null},__addConnection(e,t=!1){if(!0===t){const t=this.getOutputEndpointUUID(e[0].node,e[0].index),s=this.getInputEndpointUUID(e[1].node,e[1].index);if(!t||!s)return;const n=[t,s];this.instance.connect({uuids:n,detachable:!this.isReadOnly})}else{const t={connection:e,setStateDirty:!1};this.$store.commit("addConnection",t)}setTimeout(()=>{this.addPinDataConnections(this.$store.getters.pinData)})},__removeConnection(e,t=!1){if(!0===t){const t=this.$store.getters.getNodeByName(e[0].node),s=this.$store.getters.getNodeByName(e[1].node),n=this.instance.getConnections({source:t,target:s});n.forEach(e=>{this.__deleteJSPlumbConnection(e)})}this.$store.commit("removeConnection",{connection:e})},__deleteJSPlumbConnection(e){e.removeOverlays();const t=e.endpoints&&e.endpoints[0];if(this.pullConnActiveNodeName=null,this.instance.deleteConnection(e),t){const e=this.instance.getEndpoints(t.elementId);e.forEach(e=>e.repaint())}},__removeConnectionByConnectionInfo(e,t=!1){const s=e.sourceEndpoint.getParameters(),n=this.$store.getters.getNodeById(s.nodeId),a=e.targetEndpoint.getParameters(),o=this.$store.getters.getNodeById(a.nodeId);if(n&&o){const i=[{node:n.name,type:s.type,index:s.index},{node:o.name,type:a.type,index:a.index}];t&&this.__deleteJSPlumbConnection(e.connection),this.$store.commit("removeConnection",{connection:i})}},async duplicateNode(e){if(!1===this.editAllowedCheck())return;const t=this.$store.getters.getNodeByName(e),s=this.$store.getters["nodeTypes/getNodeType"](t.type,t.typeVersion);if(s&&void 0!==s.maxNodes&&this.getNodeTypeCount(t.type)>=s.maxNodes)return void this.showMaxNodeTypeError(s);const n=JSON.parse(JSON.stringify(this.getNodeDataToSave(t)));n.id=Object(md["a"])(),n.name=this.getUniqueNodeName({originalName:n.name,type:n.type}),n.position=uu(this.nodes,[t.position[0],t.position[1]+140],[0,140]),n.webhookId&&(n.webhookId=Object(md["a"])()),await this.addNodes([n]);const a=this.$store.getters["pinDataByNodeName"](e);a&&this.$store.commit("pinData",{node:n,data:a}),this.$store.commit("setStateDirty",!0),this.deselectAllNodes(),setTimeout(()=>{this.nodeSelectedByName(n.name,!1)}),this.$telemetry.track("User duplicated node",{node_type:t.type,workflow_id:this.$store.getters.workflowId})},getJSPlumbConnection(e,t,s,n){const a=this.$store.getters.getNodeByName(e),o=this.$store.getters.getNodeByName(s);if(!a||!o)return;const i=a.id,r=o.id,l=Su(i,t),c=Du(r,n),d=this.instance.getConnections({source:i,target:r});return d.find(e=>{const t=e.getUuids();return t[0]===l&&t[1]===c})},getJSPlumbEndpoints(e){const t=this.$store.getters.getNodeByName(e);return this.instance.getEndpoints(t.id)},getPlusEndpoint(e,t){const s=this.getJSPlumbEndpoints(e);return s.find(e=>"N8nPlus"===e.type&&e.__meta&&e.__meta.index===t)},getIncomingOutgoingConnections(e){const t=this.$store.getters.getNodeByName(e),s=this.instance.getConnections({source:t.id}),n=this.instance.getConnections({target:t.id});return{incoming:n,outgoing:s}},onNodeMoved(e){const{incoming:t,outgoing:s}=this.getIncomingOutgoingConnections(e.name);[...t,...s].forEach(e=>{ou(e),lu(e)})},onNodeRun({name:e,data:t,waiting:s}){const n=e,a=this.$store.getters.getNodeByName(n),o=a.id;if(null===t||0===t.length||s){const e=this.instance.getConnections({source:o});e.forEach(e=>{bu(e)});const t=this.getJSPlumbEndpoints(n);return void t.forEach(e=>{"N8nPlus"===e.type&&e.endpoint.clearSuccessOutput()})}const i=this.$store.getters.outgoingConnectionsByNodeName(n).main,r=yu(t,i||[]);Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{Object.keys(r[e][t]).forEach(s=>{if(t){const a=this.getJSPlumbConnection(n,parseInt(e,10),t,parseInt(s,10));if(a){const n=r[e][t][s];n&&n.total?xu(a,n):bu(a)}}const a=this.getPlusEndpoint(n,parseInt(e,10));if(a&&a.endpoint){const t=r[e][N["kc"]][0];t&&t.total>0?a.endpoint.setSuccessOutput(vu(t)):a.endpoint.clearSuccessOutput()}})})})},removeNode(e){if(!1===this.editAllowedCheck())return;const t=this.$store.getters.getNodeByName(e);if(!t)return;const s=[N["ad"]];if(s.includes(t.type)){let e=!1;for(const n of this.nodes)if(n.name!==t.name&&s.includes(n.type)){e=!0;break}if(!1===e)return}t.type===N["bd"]?this.$telemetry.track("User deleted workflow note",{workflow_id:this.$store.getters.workflowId,is_welcome_note:t.name===N["Kc"]}):(this.$externalHooks().run("node.deleteNode",{node:t}),this.$telemetry.track("User deleted node",{node_type:t.type,workflow_id:this.$store.getters.workflowId}));let n=!1;const a=this.$store.getters["nodeTypes/getNodeType"](t.type,t.typeVersion);if(a&&1===a.outputs.length&&1===a.inputs.length){const{incoming:e,outgoing:s}=this.getIncomingOutgoingConnections(t.name);if(1===e.length&&1===s.length){const t=e[0],a=s[0];if(t.__meta&&a.__meta){n=!0;const e=t.__meta.sourceNodeName,s=t.__meta.sourceOutputIndex,o=a.__meta.targetNodeName,i=a.__meta.targetOutputIndex;setTimeout(()=>{this.connectTwoNodes(e,s,o,i),n&&(this.instance.setSuspendDrawing(!1,!0),n=!1)},100)}}}setTimeout(()=>{this.instance.setSuspendDrawing(!0),this.instance.removeAllEndpoints(t.id),this.instance.destroyDraggable(t.id),this.$store.commit("removeAllNodeConnection",t),this.$store.commit("removeNode",t),this.$store.commit("clearNodeExecutionData",t.name),n||this.instance.setSuspendDrawing(!1,!0),this.$store.commit("removeNodeFromSelection",t)},0)},valueChanged(e){"name"===e.name&&e.oldValue&&this.renameNode(e.oldValue,e.value)},async renameNodePrompt(e){try{const t=this.$prompt(this.$locale.baseText("nodeView.prompt.newName")+":",this.$locale.baseText("nodeView.prompt.renameNode")+": "+e,{customClass:"rename-prompt",confirmButtonText:this.$locale.baseText("nodeView.prompt.rename"),cancelButtonText:this.$locale.baseText("nodeView.prompt.cancel"),inputErrorMessage:this.$locale.baseText("nodeView.prompt.invalidName"),inputValue:e});await n["default"].nextTick();const s=document.querySelector(".rename-prompt .el-input__inner");s&&(s.focus(),s.select());const a=await t;this.renameNode(e,a.value)}catch(t){}},async renameNode(e,t){if(e===t)return;const s=this.activeNode&&this.activeNode.name,a=s===e;a&&(this.renamingActive=!0),t=this.getUniqueNodeName({originalName:t});const o=this.getCurrentWorkflow(!0);o.renameNode(e,t),this.$store.commit("renameNodeSelectedAndExecution",{old:e,new:t}),this.deleteEveryEndpoint(),this.$store.commit("removeAllConnections"),this.$store.commit("removeAllNodes",{setStateDirty:!0}),await n["default"].nextTick(),await this.addNodes(Object.values(o.nodes),o.connectionsBySourceNode),this.deselectAllNodes(),this.nodeSelectedByName(t),a&&(this.$store.commit("setActiveNode",t),this.renamingActive=!1)},deleteEveryEndpoint(){if(this.instance)try{const e=this.$store.getters.allNodes;e.forEach(e=>this.instance.destroyDraggable(e.id)),this.instance.deleteEveryEndpoint()}catch(e){}},matchCredentials(e){e.credentials&&Object.entries(e.credentials).forEach(([t,s])=>{const n=this.$store.getters["credentials/getCredentialsByType"](t);if("string"===typeof s&&(s={id:null,name:s},this.credentialsUpdated=!0),s.id){const a=s.id.toString(),o=n.find(e=>e.id===a);if(o)return void(o.name===s.name&&"number"!==typeof s.id||(e.credentials[t]={id:o.id,name:o.name},this.credentialsUpdated=!0))}e.credentials[t]=s;const a=n.filter(e=>e.name===s.name);1===a.length&&(e.credentials[t].id=a[0].id,this.credentialsUpdated=!0)})},async addNodes(e,t){if(!e||!e.length)return;let s,a;if(await this.loadNodesProperties(e.map(e=>({name:e.type,version:e.typeVersion}))),e.forEach(e=>{if(e.id||(e.id=Object(md["a"])()),s=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion),e.hasOwnProperty("disabled")||(e.disabled=!1),e.hasOwnProperty("parameters")||(e.parameters={}),null!==s){let n=null;try{n=Ce["NodeHelpers"].getNodeParameters(s.properties,e.parameters,!0,!1,e)}catch(t){console.error(this.$locale.baseText("nodeView.thereWasAProblemLoadingTheNodeParametersOfNode")+`: "${e.name}"`),console.error(t)}e.parameters=null!==n?n:{},e.type===N["wd"]&&""===e.parameters.path&&(e.parameters.path=e.webhookId)}this.matchCredentials(e),a=this.getNodeIssues(s,e),null!==a&&(e.issues=a),this.$store.commit("addNode",e)}),await n["default"].nextTick(),this.instance.setSuspendDrawing(!0),void 0!==t){let e;for(const s of Object.keys(t))for(const n of Object.keys(t[s]))for(let a=0;a<t[s][n].length;a++){const o=t[s][n][a];o&&o.forEach(t=>{e=[{node:s,type:n,index:a},{node:t.node,type:t.type,index:t.index}],this.__addConnection(e,!0)})}}this.instance.setSuspendDrawing(!1,!0)},async addNodesToWorkflow(e){const t={},s=[];if(!e.nodes)throw new Error(this.$locale.baseText("nodeView.noNodesGivenToAdd"));const n=this.getNodeTypesMaxCount();let a,o;const i=[];await this.loadNodesProperties(e.nodes.map(e=>({name:e.type,version:e.typeVersion}))),e.nodes.forEach(e=>{if(void 0!==n[e.type]){if(n[e.type].exist>=n[e.type].max)return void(t[e.name]=n[e.type].nodeNames[0]);n[e.type].exist+=1}a=e.name,o=this.getUniqueNodeName({originalName:e.name,additionalUsedNames:s,type:e.type}),s.push(o),t[a]=o,i.push(e)});const r={},l=e.connections,c=i.map(e=>e.name);let d,u,p,h,m;for(d of Object.keys(l)){if(!c.includes(d))continue;const e={};for(u of Object.keys(l[d]))for(e[u]=[],p=0;p<l[d][u].length;p++){const t=[];if(l[d][u][p])for(h=0;h<l[d][u][p].length;h++)m=l[d][u][p][h],c.includes(m.node)&&t.push(m);e[u].push(t)}r[d]=e}const g=this.getWorkflow(i,r);for(a in t)a!==t[a]&&g.renameNode(a,t[a]);return await this.addNodes(Object.values(g.nodes),g.connectionsBySourceNode),this.$store.commit("setStateDirty",!0),{nodes:Object.values(g.nodes),connections:g.connectionsBySourceNode}},getSelectedNodesToSave(){const e={nodes:[],connections:{}};let t;const s=[];for(const u of this.$store.getters.getSelectedNodes){try{t=this.getNodeDataToSave(u),s.push(u.name)}catch(d){return Promise.reject(d)}e.nodes.push(t)}let n,a,o,i,r,l,c;return e.nodes.forEach(t=>{if(a=this.$store.getters.outgoingConnectionsByNodeName(t.name),0!==Object.keys(a).length){for(o of(c={},Object.keys(a)))for(r=0;r<a[o].length;r++){for(n=[],i=0;i<a[o][r].length;i++)l=a[o][r][i],-1!==s.indexOf(l.node)&&n.push(l);n.length&&(c.hasOwnProperty(o)||(c[o]=[]),c[o][r]=n)}Object.keys(c).length&&(e.connections[t.name]=c)}}),Promise.resolve(e)},resetWorkspace(){return this.deleteEveryEndpoint(),!0===this.executionWaitingForWebhook&&this.restApi().removeTestWebhook(this.$store.getters.workflowId).catch(()=>{}),this.$store.commit("removeAllConnections",{setStateDirty:!1}),this.$store.commit("removeAllNodes",{setStateDirty:!1,removePinData:!0}),this.$store.commit("setWorkflowExecutionData",null),this.$store.commit("resetAllNodesIssues"),this.$store.commit("setActive",!1),this.$store.commit("setWorkflowId",N["Fc"]),this.$store.commit("setWorkflowName",{newName:"",setStateDirty:!1}),this.$store.commit("setWorkflowSettings",{}),this.$store.commit("setWorkflowTagIds",[]),this.$store.commit("setActiveExecutionId",null),this.$store.commit("setExecutingNode",null),this.$store.commit("removeActiveAction","workflowRunning"),this.$store.commit("setExecutionWaitingForWebhook",!1),this.$store.commit("resetSelectedNodes"),this.$store.commit("setNodeViewOffsetPosition",{newOffset:[0,0],setStateDirty:!1}),Promise.resolve()},async loadActiveWorkflows(){const e=await this.restApi().getActiveWorkflows();this.$store.commit("setActiveWorkflows",e)},async loadNodeTypes(){this.$store.dispatch("nodeTypes/getNodeTypes")},async loadCredentialTypes(){await this.$store.dispatch("credentials/fetchCredentialTypes",!0)},async loadCredentials(){await this.$store.dispatch("credentials/fetchAllCredentials")},async loadNodesProperties(e){const t=this.$store.getters["nodeTypes/allNodeTypes"],s=[];t.forEach(t=>{const n=Array.isArray(t.version)?t.version:[t.version];e.find(e=>e.name===t.name&&n.includes(e.version))&&!t.hasOwnProperty("properties")&&s.push({name:t.name,version:Array.isArray(t.version)?t.version.slice(-1)[0]:t.version})}),s.length>0&&(this.startLoading(),await this.$store.dispatch("nodeTypes/getNodesInformation",s),this.stopLoading())},async onPostMessageReceived(e){try{const s=JSON.parse(e.data);if(s&&"openWorkflow"===s.command)try{await this.importWorkflowExact(s)}catch(t){window.top&&window.top.postMessage(JSON.stringify({command:"error",message:this.$locale.baseText("openWorkflow.workflowImportError")}),"*"),this.$showMessage({title:this.$locale.baseText("openWorkflow.workflowImportError"),message:t.message,type:"error"})}}catch(t){}},async onImportWorkflowDataEvent(e){await this.importWorkflowData(e.data,void 0,"file")},async onImportWorkflowUrlEvent(e){const t=await this.getWorkflowDataFromUrl(e.url);void 0!==t&&await this.importWorkflowData(t,void 0,"url")},addPinDataConnections(e){Object.keys(e).forEach(t=>{const s=this.$store.getters.getNodeByName(t);if(!s)return;const n=this.instance.getConnections({source:s.id});n.forEach(s=>{xu(s,{total:e[t].length,iterations:0})})})},removePinDataConnections(e){Object.keys(e).forEach(e=>{const t=this.$store.getters.getNodeByName(e);if(!t)return;const s=this.instance.getConnections({source:t.id});s.forEach(bu)})}},async mounted(){this.$titleReset(),window.addEventListener("message",this.onPostMessageReceived),this.$root.$on("importWorkflowData",this.onImportWorkflowDataEvent),this.$root.$on("newWorkflow",this.newWorkflow),this.$root.$on("importWorkflowUrl",this.onImportWorkflowUrlEvent),this.startLoading();const e=[this.loadActiveWorkflows(),this.loadCredentials(),this.loadCredentialTypes(),this.loadNodeTypes()];try{await Promise.all(e)}catch(t){return void this.$showError(t,this.$locale.baseText("nodeView.showError.mounted1.title"),this.$locale.baseText("nodeView.showError.mounted1.message")+":")}if(this.instance.ready(async()=>{try{this.initNodeView(),await this.initView(),window.top&&window.top.postMessage(JSON.stringify({command:"n8nReady",version:this.$store.getters.versionCli}),"*")}catch(t){this.$showError(t,this.$locale.baseText("nodeView.showError.mounted2.title"),this.$locale.baseText("nodeView.showError.mounted2.message")+":")}this.stopLoading(),setTimeout(()=>{this.$store.dispatch("users/showPersonalizationSurvey"),this.checkForNewVersions(),this.addPinDataConnections(this.$store.getters.pinData)},0)}),this.$externalHooks().run("nodeView.mount"),null!==this.currentUser.personalizationAnswers&&this.isOnboardingCallPromptFeatureEnabled&&kn(this.currentUser)<=N["sc"]){const e=await this.$store.dispatch("ui/getNextOnboardingPrompt"),t=1===e.toast_sequence_number?N["lb"]:1e3;e.title&&e.description&&setTimeout(async()=>{this.$showToast({type:"info",title:e.title,message:e.description,duration:0,customClass:"clickable",closeOnClick:!0,onClick:()=>{this.$telemetry.track("user clicked onboarding toast",{seq_num:e.toast_sequence_number,title:e.title,description:e.description}),this.$store.commit("ui/openModal",N["rc"],{root:!0})}})},t)}hp.$on("pin-data",this.addPinDataConnections),hp.$on("unpin-data",this.removePinDataConnections)},destroyed(){this.resetWorkspace(),this.$store.commit("setStateDirty",!1),window.removeEventListener("message",this.onPostMessageReceived),this.$root.$off("newWorkflow",this.newWorkflow),this.$root.$off("importWorkflowData",this.onImportWorkflowDataEvent),this.$root.$off("importWorkflowUrl",this.onImportWorkflowUrlEvent),hp.$off("pin-data",this.addPinDataConnections),hp.$off("unpin-data",this.removePinDataConnections)}})),Sf=Ef,Df=(s("4705"),s("ced5"),Object(v["a"])(Sf,dd,ud,!1,null,"7b56cc6a",null)),If=Df.exports,Of=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("SettingsView",[s("div",{class:e.$style.container},[s("div",{class:e.$style.header},[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(e._s(e.$locale.baseText("settings.personal.personalSettings")))]),s("div",{staticClass:"ph-no-capture",class:e.$style.user},[s("span",{class:e.$style.username},[s("n8n-text",{attrs:{color:"text-light"}},[e._v(e._s(e.currentUser.fullName))])],1),s("n8n-avatar",{attrs:{firstName:e.currentUser.firstName,lastName:e.currentUser.lastName,size:"large"}})],1)],1),s("div",[s("div",{class:e.$style.sectionHeader},[s("n8n-heading",{attrs:{size:"large"}},[e._v(e._s(e.$locale.baseText("settings.personal.basicInformation")))])],1),s("div",[e.formInputs?s("n8n-form-inputs",{attrs:{inputs:e.formInputs,eventBus:e.formBus},on:{input:e.onInput,ready:e.onReadyToSubmit,submit:e.onSubmit}}):e._e()],1)]),s("div",[s("div",{class:e.$style.sectionHeader},[s("n8n-heading",{attrs:{size:"large"}},[e._v(e._s(e.$locale.baseText("settings.personal.security")))])],1),s("div",[s("n8n-input-label",{attrs:{label:e.$locale.baseText("auth.password")}},[s("n8n-link",{on:{click:e.openPasswordModal}},[e._v(e._s(e.$locale.baseText("auth.changePassword")))])],1)],1)]),s("div",[s("n8n-button",{attrs:{float:"right",label:e.$locale.baseText("settings.personal.save"),size:"large",disabled:!e.hasAnyChanges||!e.readyToSubmit},on:{click:e.onSaveClick}})],1)])])},Pf=[],Af=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("SettingsSidebar"),s("div",{class:e.$style.contentContainer},[s("div",{class:e.$style.content},[e._t("default")],2)])],1)},Mf=[],Lf=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.container},[s("n8n-menu",{attrs:{router:!0,"default-active":e.$route.path,type:"secondary"}},[s("div",{class:e.$style.returnButton,on:{click:e.onReturn}},[s("i",{class:e.$style.icon},[s("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1),s("n8n-heading",{attrs:{slot:"title",size:"large",bold:!0},slot:"title"},[e._v(e._s(e.$locale.baseText("settings")))])],1),e.canAccessPersonalSettings()?s("n8n-menu-item",{class:e.$style.tab,attrs:{index:"/settings/personal"}},[s("i",{class:e.$style.icon},[s("font-awesome-icon",{attrs:{icon:"user-circle"}})],1),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("settings.personal")))])]):e._e(),e.canAccessUsersSettings()?s("n8n-menu-item",{class:e.$style.tab,attrs:{index:"/settings/users"}},[s("i",{class:e.$style.icon},[s("font-awesome-icon",{attrs:{icon:"user-friends"}})],1),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("settings.users")))])]):e._e(),e.canAccessApiSettings()?s("n8n-menu-item",{class:e.$style.tab,attrs:{index:"/settings/api"}},[s("i",{class:e.$style.icon},[s("font-awesome-icon",{attrs:{icon:"plug"}})],1),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("settings.n8napi")))])]):e._e(),e._l(e.settingsFakeDoorFeatures,(function(t){return s("n8n-menu-item",{key:t.featureName,class:e.$style.tab,attrs:{index:"/settings/coming-soon/"+t.id}},[s("i",{class:e.$style.icon},[s("font-awesome-icon",{attrs:{icon:t.icon}})],1),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText(t.featureName)))])])})),e.canAccessCommunityNodes()?s("n8n-menu-item",{class:e.$style.tab,attrs:{index:"/settings/community-nodes"}},[s("i",{class:e.$style.icon},[s("font-awesome-icon",{attrs:{icon:"cube"}})],1),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$locale.baseText("settings.communityNodes")))])]):e._e()],2),s("div",{class:e.$style.versionContainer},[s("n8n-link",{attrs:{size:"small"},on:{click:e.onVersionClick}},[e._v(" "+e._s(e.$locale.baseText("settings.version"))+" "+e._s(e.versionCli)+" ")])],1)],1)},Rf=[],Wf=Object(K["a"])(Mr).extend({name:"SettingsSidebar",computed:{...Object(D["b"])("settings",["versionCli"]),settingsFakeDoorFeatures(){return this.$store.getters["ui/getFakeDoorByLocation"]("settings")}},methods:{canAccessPersonalSettings(){return this.canUserAccessRouteByName(N["ud"].PERSONAL_SETTINGS)},canAccessUsersSettings(){return this.canUserAccessRouteByName(N["ud"].USERS_SETTINGS)},canAccessCommunityNodes(){return this.canUserAccessRouteByName(N["ud"].COMMUNITY_NODES)},canAccessApiSettings(){return this.canUserAccessRouteByName(N["ud"].API_SETTINGS)},onVersionClick(){this.$store.dispatch("ui/openModal",N["a"])},onReturn(){this.$router.push({name:N["ud"].HOMEPAGE})}}}),Bf=Wf,Vf=s("9e93");function Uf(e){this["$style"]=Vf["default"].locals||Vf["default"]}var jf=Object(v["a"])(Bf,Lf,Rf,!1,Uf,null,null),Ff=jf.exports,zf=n["default"].extend({name:"SettingsView",components:{SettingsSidebar:Ff}}),Hf=zf,Gf=s("37c7");function Kf(e){this["$style"]=Gf["default"].locals||Gf["default"]}var Yf=Object(v["a"])(Hf,Af,Mf,!1,Kf,null,null),qf=Yf.exports,Jf=Object(K["a"])(Y["a"]).extend({name:"SettingsPersonalView",components:{SettingsView:qf},data(){return{hasAnyChanges:!1,formInputs:null,formBus:new n["default"],readyToSubmit:!1}},mounted(){this.formInputs=[{name:"firstName",initialValue:this.currentUser.firstName,properties:{label:this.$locale.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0}},{name:"lastName",initialValue:this.currentUser.lastName,properties:{label:this.$locale.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0}},{name:"email",initialValue:this.currentUser.email,properties:{label:this.$locale.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],autocomplete:"email",capitalize:!0}}]},computed:{currentUser(){return this.$store.getters["users/currentUser"]}},methods:{onInput(){this.hasAnyChanges=!0},onReadyToSubmit(e){this.readyToSubmit=e},async onSubmit(e){if(this.hasAnyChanges)try{await this.$store.dispatch("users/updateUser",{id:this.currentUser.id,firstName:e.firstName,lastName:e.lastName,email:e.email}),this.$showToast({title:this.$locale.baseText("settings.personal.personalSettingsUpdated"),message:"",type:"success"}),this.hasAnyChanges=!1}catch(t){this.$showError(t,this.$locale.baseText("settings.personal.personalSettingsUpdatedError"))}},onSaveClick(){this.formBus.$emit("submit")},openPasswordModal(){this.$store.dispatch("ui/openModal",N["l"])}}}),Xf=Jf,Qf=s("6405");function Zf(e){this["$style"]=Qf["default"].locals||Qf["default"]}var ew=Object(v["a"])(Xf,Of,Pf,!1,Zf,null,null),tw=ew.exports,sw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("SettingsView",[s("div",{class:e.$style.container},[s("div",[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(e._s(e.$locale.baseText("settings.users")))]),e.showUMSetupWarning?e._e():s("div",{class:e.$style.buttonContainer},[s("n8n-tooltip",{attrs:{disabled:e.isSmtpSetup,placement:"bottom"}},[s("i18n",{attrs:{slot:"content",path:"settings.users.setupSMTPToInviteUsers",tag:"span"},slot:"content",scopedSlots:e._u([{key:"action",fn:function(){return[s("a",{attrs:{href:"https://docs.n8n.io/reference/user-management.html#step-one-smtp",target:"_blank"},domProps:{textContent:e._s(e.$locale.baseText("settings.users.setupSMTPToInviteUsers.instructions"))}})]},proxy:!0}],null,!1,2002913059)}),s("div",[s("n8n-button",{attrs:{label:e.$locale.baseText("settings.users.invite"),size:"large",disabled:!e.isSmtpSetup},on:{click:e.onInvite}})],1)],1)],1)],1),e.showUMSetupWarning?s("div",{class:e.$style.setupInfoContainer},[s("n8n-action-box",{attrs:{heading:e.$locale.baseText("settings.users.setupToInviteUsers"),buttonText:e.$locale.baseText("settings.users.setupMyAccount"),description:e.$locale.baseText("settings.users.setupToInviteUsersInfo")},on:{click:e.redirectToSetup}})],1):s("div",{class:e.$style.usersContainer},[e.isSmtpSetup?e._e():s("PageAlert",{attrs:{message:e.$locale.baseText("settings.users.smtpToAddUsersWarning"),popupClass:e.$style.alert}}),s("n8n-users-list",{attrs:{users:e.allUsers,currentUserId:e.currentUserId},on:{delete:e.onDelete,reinvite:e.onReinvite}})],1)])])},nw=[],aw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fragment")},ow=[],iw=Object(K["a"])(Y["a"]).extend({name:"PageAlert",props:{message:{type:String,required:!0},popupClass:{type:String}},data(){return{alert:null}},mounted(){this.alert=this.$showAlert({message:Object(Ah["d"])(this.message),type:"warning",duration:0,showClose:!0,dangerouslyUseHTMLString:!0,customClass:this.popupClass||""})},beforeDestroy(){this.alert&&this.alert.close()}}),rw=iw,lw=Object(v["a"])(rw,aw,ow,!1,null,null,null),cw=lw.exports,dw=Object(K["a"])(Y["a"]).extend({name:"SettingsUsersView",components:{SettingsView:qf,PageAlert:cw},async mounted(){this.showUMSetupWarning||await this.$store.dispatch("users/fetchUsers")},computed:{...Object(D["b"])("users",["allUsers","currentUserId","showUMSetupWarning"]),...Object(D["b"])("settings",["isSmtpSetup"])},methods:{redirectToSetup(){this.$router.push({name:N["ud"].SETUP})},onInvite(){this.$store.dispatch("ui/openModal",N["yb"])},async onDelete(e){const t=this.$store.getters["users/getUserById"],s=t(e);s&&this.$store.dispatch("ui/openDeleteUserModal",{id:e})},async onReinvite(e){const t=this.$store.getters["users/getUserById"],s=t(e);if(s)try{await this.$store.dispatch("users/reinviteUser",{id:s.id}),this.$showToast({type:"success",title:this.$locale.baseText("settings.users.inviteResent"),message:this.$locale.baseText("settings.users.emailSentTo",{interpolate:{email:s.email||""}})})}catch(n){this.$showError(n,this.$locale.baseText("settings.users.userReinviteError"))}}}}),uw=dw,pw=s("d996");function hw(e){this["$style"]=pw["default"].locals||pw["default"]}var mw=Object(v["a"])(uw,sw,nw,!1,hw,null,null),gw=mw.exports,fw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("SettingsView",[s("div",{class:e.$style.container},[s("div",{class:e.$style.headingContainer},[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(e._s(e.$locale.baseText("settings.communityNodes")))]),!e.isQueueModeEnabled&&e.getInstalledPackages.length>0&&!e.loading?s("n8n-button",{attrs:{label:e.$locale.baseText("settings.communityNodes.installModal.installButton.label"),size:"large"},on:{click:e.openInstallModal}}):e._e()],1),e.isQueueModeEnabled?s("div",{class:e.$style.actionBoxContainer},[s("n8n-action-box",{attrs:{heading:e.$locale.baseText("settings.communityNodes.empty.title"),description:e.getEmptyStateDescription,calloutText:e.actionBoxConfig.calloutText,calloutTheme:e.actionBoxConfig.calloutTheme}})],1):e.loading?s("div",{class:e.$style.cardsContainer},e._l(2,(function(e){return s("community-package-card",{key:"index-"+e,attrs:{loading:!0}})})),1):0===e.getInstalledPackages.length?s("div",{class:e.$style.actionBoxContainer},[s("n8n-action-box",{attrs:{heading:e.$locale.baseText("settings.communityNodes.empty.title"),description:e.getEmptyStateDescription,buttonText:e.isNpmAvailable?e.$locale.baseText("settings.communityNodes.empty.installPackageLabel"):"",calloutText:e.actionBoxConfig.calloutText,calloutTheme:e.actionBoxConfig.calloutTheme},on:{click:e.openInstallModal}})],1):s("div",{class:e.$style.cardsContainer},e._l(e.getInstalledPackages,(function(e){return s("community-package-card",{key:e.packageName,attrs:{communityPackage:e}})})),1)])])},ww=[],yw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.cardContainer},[e.loading?s("div",{class:e.$style.cardSkeleton},[s("n8n-loading",{class:e.$style.loader,attrs:{variant:"p",rows:1}}),s("n8n-loading",{class:e.$style.loader,attrs:{variant:"p",rows:1}})],1):s("div",{class:e.$style.packageCard},[s("div",{class:e.$style.cardInfoContainer},[s("div",{class:e.$style.cardTitle},[s("n8n-text",{attrs:{bold:!0,size:"large"}},[e._v(e._s(e.communityPackage.packageName))])],1),s("div",{class:e.$style.cardSubtitle},[s("n8n-text",{attrs:{bold:!0,size:"small",color:"text-light"}},[e._v(" "+e._s(e.$locale.baseText("settings.communityNodes.packageNodes.label",{adjustToNumber:e.communityPackage.installedNodes.length}))+": ")]),s("n8n-text",{attrs:{size:"small",color:"text-light"}},e._l(e.communityPackage.installedNodes,(function(t,n){return s("span",{key:t.name},[e._v(" "+e._s(t.name)),n!=e.communityPackage.installedNodes.length-1?s("span",[e._v(",")]):e._e()])})),0)],1)]),s("div",{class:e.$style.cardControlsContainer},[s("n8n-text",{attrs:{bold:!0,size:"large",color:"text-light"}},[e._v(" v"+e._s(e.communityPackage.installedVersion)+" ")]),!0===e.communityPackage.failedLoading?s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$locale.baseText("settings.communityNodes.failedToLoad.tooltip"))+" ")]),s("n8n-icon",{attrs:{icon:"exclamation-triangle",color:"danger",size:"large"}})],1):e.communityPackage.updateAvailable?s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$locale.baseText("settings.communityNodes.updateAvailable.tooltip"))+" ")]),s("n8n-button",{attrs:{type:"outline",label:"Update"},on:{click:e.onUpdateClick}})],1):s("n8n-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$locale.baseText("settings.communityNodes.upToDate.tooltip"))+" ")]),s("n8n-icon",{attrs:{icon:"check-circle",color:"text-light",size:"large"}})],1),s("div",{class:e.$style.cardActions},[s("n8n-action-toggle",{attrs:{actions:e.packageActions},on:{action:e.onAction}})],1)],1)])])},bw=[],vw=Object(K["a"])(Y["a"]).extend({name:"CommunityPackageCard",props:{communityPackage:{type:Object},loading:{type:Boolean,default:!1}},data(){return{packageActions:[{label:this.$locale.baseText("settings.communityNodes.viewDocsAction.label"),value:N["t"].VIEW_DOCS,type:"external-link"},{label:this.$locale.baseText("settings.communityNodes.uninstallAction.label"),value:N["t"].UNINSTALL}]}},methods:{async onAction(e){switch(e){case N["t"].VIEW_DOCS:this.$telemetry.track("user clicked to browse the cnr package documentation",{package_name:this.communityPackage.packageName,package_version:this.communityPackage.installedVersion}),window.open(`${N["qc"]}${this.communityPackage.packageName}`,"_blank");break;case N["t"].UNINSTALL:this.$store.dispatch("ui/openCommunityPackageUninstallConfirmModal",this.communityPackage.packageName);break;default:break}},onUpdateClick(){this.$store.dispatch("ui/openCommunityPackageUpdateConfirmModal",this.communityPackage.packageName)}}}),xw=vw,kw=s("5d1a");function Tw(e){this["$style"]=kw["default"].locals||kw["default"]}var $w=Object(v["a"])(xw,yw,bw,!1,Tw,null,null),_w=$w.exports;const Cw=31;var Nw=Object(K["a"])(Y["a"]).extend({name:"SettingsCommunityNodesView",components:{SettingsView:qf,CommunityPackageCard:_w},data(){return{loading:!1}},async mounted(){try{this.$data.loading=!0,await this.$store.dispatch("communityNodes/fetchInstalledPackages");const e=this.getInstalledPackages,t=e.filter(e=>e.updateAvailable);this.$telemetry.track("user viewed cnr settings page",{num_of_packages_installed:e.length,installed_packages:e.map(e=>({package_name:e.packageName,package_version:e.installedVersion,package_nodes:e.installedNodes.map(e=>`${e.name}-v${e.latestVersion}`),is_update_available:void 0!==e.updateAvailable})),packages_to_update:t.map(e=>({package_name:e.packageName,package_version_current:e.installedVersion,package_version_available:e.updateAvailable})),number_of_updates_available:t.length})}catch(e){this.$showError(e,this.$locale.baseText("settings.communityNodes.fetchError.title"),this.$locale.baseText("settings.communityNodes.fetchError.message"))}finally{this.$data.loading=!1}try{await this.$store.dispatch("communityNodes/fetchAvailableCommunityPackageCount")}finally{this.$data.loading=!1}},computed:{...Object(D["b"])("settings",["isNpmAvailable","isQueueModeEnabled"]),...Object(D["b"])("communityNodes",["getInstalledPackages"]),getEmptyStateDescription(){const e=this.$store.getters["communityNodes/availablePackageCount"];return e<Cw?this.$locale.baseText("settings.communityNodes.empty.description.no-packages",{interpolate:{docURL:N["o"]}}):this.$locale.baseText("settings.communityNodes.empty.description",{interpolate:{docURL:N["o"],count:(10*Math.floor(e/10)).toString()}})},actionBoxConfig(){return this.isNpmAvailable?this.isQueueModeEnabled?{calloutText:this.$locale.baseText("settings.communityNodes.queueMode.warning",{interpolate:{docURL:N["o"]}}),calloutTheme:"warning",hideButton:!0}:{calloutText:"",calloutTheme:"",hideButton:!1}:{calloutText:this.$locale.baseText("settings.communityNodes.npmUnavailable.warning",{interpolate:{npmUrl:N["p"]}}),calloutTheme:"warning",hideButton:!0}}},methods:{openInstallModal(e){const t={is_empty_state:0===this.getInstalledPackages.length};this.$telemetry.track("user clicked cnr install button",t),this.$externalHooks().run("settingsCommunityNodesView.openInstallModal",t),this.$store.dispatch("ui/openModal",N["s"])}}}),Ew=Nw,Sw=s("b0e7");function Dw(e){this["$style"]=Sw["default"].locals||Sw["default"]}var Iw=Object(v["a"])(Ew,fw,ww,!1,Dw,null,null),Ow=Iw.exports,Pw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("SettingsView",[s("div",{class:e.$style.container},[s("div",{class:e.$style.header},[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(" "+e._s(e.$locale.baseText("settings.api"))+" "),s("span",{style:{fontSize:"var(--font-size-s)",color:"var(--color-text-light)"}},[e._v(" ("+e._s(e.$locale.baseText("beta"))+") ")])])],1),e.apiKey?s("div",[s("p",{staticClass:"mb-s"},[s("n8n-info-tip",{attrs:{bold:!1}},[s("i18n",{attrs:{path:"settings.api.view.info",tag:"span"},scopedSlots:e._u([{key:"apiAction",fn:function(){return[s("a",{attrs:{href:"https://docs.n8n.io/api",target:"_blank"},domProps:{textContent:e._s(e.$locale.baseText("settings.api.view.info.api"))}})]},proxy:!0},{key:"webhookAction",fn:function(){return[s("a",{attrs:{href:"https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.webhook/",target:"_blank"},domProps:{textContent:e._s(e.$locale.baseText("settings.api.view.info.webhook"))}})]},proxy:!0}],null,!1,2486472501)})],1)],1),s("n8n-card",{staticClass:"mb-4xs",class:e.$style.card},[s("span",{class:e.$style.delete},[s("n8n-link",{attrs:{bold:!0},on:{click:e.showDeleteModal}},[e._v(" "+e._s(e.$locale.baseText("generic.delete"))+" ")])],1),s("div",{staticClass:"ph-no-capture"},[s("CopyInput",{attrs:{label:e.$locale.baseText("settings.api.view.myKey"),value:e.apiKey,"copy-button-text":e.$locale.baseText("generic.clickToCopy"),"toast-title":e.$locale.baseText("settings.api.view.copy.toast")},on:{copy:e.onCopy}})],1)]),s("div",{class:e.$style.hint},[s("n8n-text",{attrs:{size:"small"}},[e._v(" "+e._s(e.$locale.baseText("settings.api.view.tryapi"))+" ")]),s("n8n-link",{attrs:{to:e.apiPlaygroundPath,newWindow:!0,size:"small"}},[e._v(" "+e._s(e.$locale.baseText("settings.api.view.apiPlayground"))+" ")])],1)],1):e.mounted?s("n8n-action-box",{attrs:{buttonText:e.$locale.baseText(e.loading?"settings.api.create.button.loading":"settings.api.create.button"),description:e.$locale.baseText("settings.api.create.description")},on:{click:e.createApiKey}}):e._e()],1)])},Aw=[],Mw=Object(K["a"])(Y["a"]).extend({name:"SettingsPersonalView",components:{SettingsView:qf,CopyInput:st},data(){return{loading:!1,mounted:!1,apiKey:"",apiPlaygroundPath:""}},mounted(){this.getApiKey();const e=this.$store.getters.getBaseUrl,t=this.$store.getters["settings/publicApiPath"],s=this.$store.getters["settings/publicApiLatestVersion"];this.apiPlaygroundPath=`${e}${t}/v${s}/docs`},computed:{currentUser(){return this.$store.getters["users/currentUser"]}},methods:{async showDeleteModal(){const e=await this.confirmMessage(this.$locale.baseText("settings.api.delete.description"),this.$locale.baseText("settings.api.delete.title"),null,this.$locale.baseText("settings.api.delete.button"),this.$locale.baseText("generic.cancel"));e&&this.deleteApiKey()},async getApiKey(){try{this.apiKey=await this.$store.dispatch("settings/getApiKey")}catch(e){this.$showError(e,this.$locale.baseText("settings.api.view.error"))}finally{this.mounted=!0}},async createApiKey(){this.loading=!0;try{this.apiKey=await this.$store.dispatch("settings/createApiKey")}catch(e){this.$showError(e,this.$locale.baseText("settings.api.create.error"))}finally{this.loading=!1,this.$telemetry.track("User clicked create API key button")}},async deleteApiKey(){try{await this.$store.dispatch("settings/deleteApiKey"),this.$showMessage({title:this.$locale.baseText("settings.api.delete.toast"),type:"success"}),this.apiKey=""}catch(e){this.$showError(e,this.$locale.baseText("settings.api.delete.error"))}finally{this.$telemetry.track("User clicked delete API key button")}},onCopy(){this.$telemetry.track("User clicked copy API key button")}}}),Lw=Mw,Rw=s("f5a0");function Ww(e){this["$style"]=Rw["default"].locals||Rw["default"]}var Bw=Object(v["a"])(Lw,Pw,Aw,!1,Ww,null,null),Vw=Bw.exports,Uw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("SettingsView",[s("FeatureComingSoon",{attrs:{featureId:e.featureId,showTitle:""}})],1)},jw=[],Fw=n["default"].extend({name:"SettingsFakeDoorView",components:{SettingsView:qf,FeatureComingSoon:Xs},props:{featureId:{type:String,required:!0}},computed:{featureInfo(){return this.$store.getters["ui/getFakeDoorFeatures"][this.featureId]}},methods:{openLinkPage(){window.open(this.featureInfo.linkURL,"_blank")}}}),zw=Fw,Hw=s("cded");function Gw(e){this["$style"]=Hw["default"].locals||Hw["default"]}var Kw=Object(v["a"])(zw,Uw,jw,!1,Gw,null,null),Yw=Kw.exports,qw=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AuthView",{attrs:{form:e.FORM_CONFIG,formLoading:e.loading},on:{submit:e.onSubmit,secondaryClick:e.showSkipConfirmation}})},Jw=[],Xw=Object(K["a"])(Y["a"],Dt["a"]).extend({name:"SetupView",components:{AuthView:il},async mounted(){const e=this.getAllCredentials(),t=this.getAllWorkflows();await Promise.all([e,t])},data(){const e={title:this.$locale.baseText("auth.setup.setupOwner"),buttonText:this.$locale.baseText("auth.setup.next"),secondaryButtonText:this.$locale.baseText("auth.setup.skipSetupTemporarily"),inputs:[{name:"email",properties:{label:this.$locale.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],autocomplete:"email",capitalize:!0}},{name:"firstName",properties:{label:this.$locale.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0}},{name:"lastName",properties:{label:this.$locale.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.password"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"agree",properties:{label:this.$locale.baseText("auth.agreement.label"),type:"checkbox"}}]};return{FORM_CONFIG:e,loading:!1,workflowsCount:0,credentialsCount:0}},methods:{async getAllCredentials(){const e=await this.$store.dispatch("credentials/fetchAllCredentials");this.credentialsCount=e.length},async getAllWorkflows(){const e=await this.restApi().getWorkflows();this.workflowsCount=e.length},async confirmSetupOrGoBack(){if(0===this.workflowsCount&&0===this.credentialsCount)return!0;const e=this.workflowsCount>0?this.$locale.baseText("auth.setup.setupConfirmation.existingWorkflows",{adjustToNumber:this.workflowsCount}):"",t=this.credentialsCount>0?this.$locale.baseText("auth.setup.setupConfirmation.credentials",{adjustToNumber:this.credentialsCount}):"",s=e&&t?this.$locale.baseText("auth.setup.setupConfirmation.concatEntities",{interpolate:{workflows:e,credentials:t}}):e||t;return await this.confirmMessage(this.$locale.baseText("auth.setup.confirmOwnerSetupMessage",{interpolate:{entities:s}}),this.$locale.baseText("auth.setup.confirmOwnerSetup"),null,this.$locale.baseText("auth.setup.createAccount"),this.$locale.baseText("auth.setup.goBack"))},async onSubmit(e){try{const t=await this.confirmSetupOrGoBack();if(!t)return;const s=this.$store.getters["settings/showSetupPage"];if(this.loading=!0,await this.$store.dispatch("users/createOwner",e),!0===e.agree)try{await this.$store.dispatch("ui/submitContactEmail",{email:e.email,agree:e.agree})}catch{}s?await this.$router.push({name:N["ud"].HOMEPAGE}):await this.$router.push({name:N["ud"].USERS_SETTINGS})}catch(t){this.$showError(t,this.$locale.baseText("auth.setup.settingUpOwnerError"))}this.loading=!1},async showSkipConfirmation(){const e=await this.confirmMessage(this.$locale.baseText("auth.setup.ownerAccountBenefits"),this.$locale.baseText("auth.setup.skipOwnerSetupQuestion"),null,this.$locale.baseText("auth.setup.skipSetup"),this.$locale.baseText("auth.setup.goBack"));e&&this.onSkip()},onSkip(){this.$store.dispatch("users/skipOwnerSetup"),this.$router.push({name:N["ud"].HOMEPAGE})}}}),Qw=Xw,Zw=Object(v["a"])(Qw,qw,Jw,!1,null,null,null),ey=Zw.exports,ty=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AuthView",{attrs:{form:e.FORM_CONFIG,formLoading:e.loading},on:{submit:e.onSubmit}})},sy=[],ny=Object(K["a"])(Y["a"]).extend({name:"SigninView",components:{AuthView:il},data(){const e={title:this.$locale.baseText("auth.signin"),buttonText:this.$locale.baseText("auth.signin"),redirectText:this.$locale.baseText("forgotPassword"),redirectLink:"/forgot-password",inputs:[{name:"email",properties:{label:this.$locale.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],showRequiredAsterisk:!1,validateOnBlur:!1,autocomplete:"email",capitalize:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.password"),type:"password",required:!0,showRequiredAsterisk:!1,validateOnBlur:!1,autocomplete:"current-password",capitalize:!0}}]};return{FORM_CONFIG:e,loading:!1}},methods:{async onSubmit(e){try{if(this.loading=!0,await this.$store.dispatch("users/loginWithCreds",e),this.clearAllStickyNotifications(),this.loading=!1,"string"===typeof this.$route.query.redirect){const e=decodeURIComponent(this.$route.query.redirect);if(e.startsWith("/"))return void this.$router.push(e)}this.$router.push({name:N["ud"].HOMEPAGE})}catch(t){this.$showError(t,this.$locale.baseText("auth.signin.error")),this.loading=!1}}}}),ay=ny,oy=Object(v["a"])(ay,ty,sy,!1,null,null,null),iy=oy.exports,ry=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("AuthView",{attrs:{form:e.FORM_CONFIG,formLoading:e.loading,subtitle:e.inviteMessage},on:{submit:e.onSubmit}})},ly=[],cy=Object(K["a"])(Y["a"]).extend({name:"SignupView",components:{AuthView:il},data(){const e={title:this.$locale.baseText("auth.signup.setupYourAccount"),buttonText:this.$locale.baseText("auth.signup.finishAccountSetup"),inputs:[{name:"firstName",properties:{label:this.$locale.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0}},{name:"lastName",properties:{label:this.$locale.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.password"),type:"password",validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],required:!0,infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"agree",properties:{label:this.$locale.baseText("auth.agreement.label"),type:"checkbox"}}]};return{FORM_CONFIG:e,loading:!1,inviter:null}},async mounted(){const e=this.$route.query.inviterId,t=this.$route.query.inviteeId;try{if(!e||!t)throw new Error(this.$locale.baseText("auth.signup.missingTokenError"));const s=await this.$store.dispatch("users/validateSignupToken",{inviterId:e,inviteeId:t});this.inviter=s.inviter}catch(s){this.$showError(s,this.$locale.baseText("auth.signup.tokenValidationError")),this.$router.replace({name:N["ud"].SIGNIN})}},computed:{inviteMessage(){return this.inviter?this.$locale.baseText("settings.signup.signUpInviterInfo",{interpolate:{firstName:this.inviter.firstName,lastName:this.inviter.lastName}}):null}},methods:{async onSubmit(e){try{this.loading=!0;const t=this.$route.query.inviterId,s=this.$route.query.inviteeId;if(await this.$store.dispatch("users/signup",{...e,inviterId:t,inviteeId:s}),!0===e.agree)try{await this.$store.dispatch("ui/submitContactEmail",{email:e.email,agree:e.agree})}catch{}await this.$router.push({name:N["ud"].HOMEPAGE})}catch(t){this.$showError(t,this.$locale.baseText("auth.signup.setupYourAccountError"))}this.loading=!1}}}),dy=cy,uy=Object(v["a"])(dy,ry,ly,!1,null,null,null),py=uy.exports,hy=s("5f2b"),my=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("TemplatesView",{attrs:{goBackEnabled:!0},scopedSlots:e._u([{key:"header",fn:function(){return[e.notFoundError?s("div",{class:e.$style.notFound},[s("n8n-text",{attrs:{color:"text-base"}},[e._v(e._s(e.$locale.baseText("templates.collectionsNotFound")))])],1):s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.title},[e.collection&&e.collection.name?s("n8n-heading",{attrs:{tag:"h1",size:"2xlarge"}},[e._v(" "+e._s(e.collection.name)+" ")]):e._e(),e.collection&&e.collection.name?s("n8n-text",{attrs:{color:"text-base",size:"small"}},[e._v(" "+e._s(e.$locale.baseText("templates.collection"))+" ")]):e._e(),s("n8n-loading",{attrs:{loading:!e.collection||!e.collection.name,rows:2,variant:"h1"}})],1)])]},proxy:!0},e.notFoundError?null:{key:"content",fn:function(){return[s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.mainContent},[e.loading||e.collection&&e.collection.description?s("div",{class:e.$style.markdown},[s("n8n-markdown",{attrs:{content:e.collection&&e.collection.description,images:e.collection&&e.collection.image,loading:e.loading}})],1):e._e(),s("TemplateList",{attrs:{"infinite-scroll-enabled":!1,loading:e.loading,"use-workflow-button":!0,workflows:e.loading?[]:e.collectionWorkflows},on:{useWorkflow:e.onUseWorkflow,openTemplate:e.onOpenTemplate}})],1),s("div",{class:e.$style.details},[s("TemplateDetails",{attrs:{"block-title":e.$locale.baseText("template.details.appsInTheCollection"),loading:e.loading,template:e.collection}})],1)])]},proxy:!0}],null,!0)})},gy=[],fy=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("n8n-loading",{attrs:{loading:e.loading,rows:5,variant:"p"}}),!e.loading&&e.template.nodes.length>0?s("template-details-block",{attrs:{title:e.blockTitle}},[s("div",{class:e.$style.icons},e._l(e.filterTemplateNodes(e.template.nodes),(function(t){return s("div",{key:t.name,class:e.$style.icon},[s("NodeIcon",{attrs:{nodeType:t,size:24,showTooltip:!0},on:{click:function(s){return e.redirectToSearchPage(t)}}})],1)})),0)]):e._e(),!e.loading&&e.template.categories.length>0?s("template-details-block",{attrs:{title:e.$locale.baseText("template.details.categories")}},[s("n8n-tags",{attrs:{tags:e.template.categories},on:{click:e.redirectToCategory}})],1):e._e(),e.loading?e._e():s("template-details-block",{attrs:{title:e.$locale.baseText("template.details.details")}},[s("div",{class:e.$style.text},[s("n8n-text",{attrs:{size:"small",color:"text-base"}},[e._v(" "+e._s(e.$locale.baseText("template.details.created"))+" "),s("TimeAgo",{attrs:{date:e.template.createdAt}}),s("span",[e._v(e._s(e.$locale.baseText("template.details.by")))]),e.template.user?s("span",[e._v(" "+e._s(e.template.user.username))]):s("span",[e._v(" n8n team")])],1)],1),s("div",{class:e.$style.text},[0!==e.template.totalViews?s("n8n-text",{attrs:{size:"small",color:"text-base"}},[e._v(" "+e._s(e.$locale.baseText("template.details.viewed"))+" "+e._s(e.abbreviateNumber(e.template.totalViews))+" "+e._s(e.$locale.baseText("template.details.times"))+" ")]):e._e()],1)])],1)},wy=[],yy=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.block},[s("div",{class:e.$style.header},[s("n8n-heading",{attrs:{tag:"h3",size:"small",color:"text-base"}},[e._v(e._s(e.title))])],1),s("div",{class:e.$style.content},[e._t("default")],2)])},by=[],vy=n["default"].extend({name:"TemplateDetailsBlock",props:{title:{type:String}}}),xy=vy,ky=s("a8c5");function Ty(e){this["$style"]=ky["default"].locals||ky["default"]}var $y=Object(v["a"])(xy,yy,by,!1,Ty,null,null),_y=$y.exports,Cy=n["default"].extend({name:"TemplateDetails",props:{blockTitle:{type:String},loading:{type:Boolean},template:{type:Object}},components:{NodeIcon:bo,TemplateDetailsBlock:_y},methods:{abbreviateNumber:We["a"],filterTemplateNodes:We["d"],redirectToCategory(e){this.$store.commit("templates/resetSessionId"),this.$router.push("/templates?categories="+e)},redirectToSearchPage(e){this.$store.commit("templates/resetSessionId"),this.$router.push("/templates?search="+e.displayName)}}}),Ny=Cy,Ey=s("f56b");function Sy(e){this["$style"]=Ey["default"].locals||Ey["default"]}var Dy=Object(v["a"])(Ny,fy,wy,!1,Sy,null,null),Iy=Dy.exports,Oy=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading||e.workflows.length?s("div",{class:e.$style.list},[s("div",{class:e.$style.header},[s("n8n-heading",{attrs:{bold:!0,size:"medium",color:"text-light"}},[e._v(" "+e._s(e.$locale.baseText("templates.workflows"))+" "),!e.loading&&e.totalWorkflows?s("span",{domProps:{textContent:e._s("("+e.totalWorkflows+")")}}):e._e()])],1),s("div",{class:e.$style.container},[e._l(e.workflows,(function(t,n){return s("TemplateCard",{key:t.id,attrs:{workflow:t,firstItem:0===n,lastItem:n===e.workflows.length-1&&!e.loading,useWorkflowButton:e.useWorkflowButton},on:{click:function(s){return e.onCardClick(s,t.id)},useWorkflow:function(s){return e.onUseWorkflow(s,t.id)}}})})),e.infiniteScrollEnabled?s("div",{ref:"loader"}):e._e(),e.loading?s("div",e._l(4,(function(t){return s("TemplateCard",{key:"index-"+t,attrs:{loading:!0,firstItem:0===e.workflows.length&&1===t,lastItem:4===t}})})),1):e._e()],2)]):e._e()},Py=[],Ay=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:[e.$style.card,e.lastItem&&e.$style.last,e.firstItem&&e.$style.first,!e.loading&&e.$style.loaded],on:{click:e.onCardClick}},[e.loading?s("div",{class:e.$style.loading},[s("n8n-loading",{attrs:{rows:2,shrinkLast:!1,loading:e.loading}})],1):s("div",[s("n8n-heading",{attrs:{bold:!0,size:"small"}},[e._v(e._s(e.workflow.name))]),s("div",{class:e.$style.content},[e.workflow.totalViews?s("span",[s("n8n-text",{attrs:{size:"small",color:"text-light"}},[s("font-awesome-icon",{attrs:{icon:"eye"}}),e._v(" "+e._s(e.abbreviateNumber(e.workflow.totalViews))+" ")],1)],1):e._e(),e.workflow.totalViews?s("div",{class:e.$style.line,domProps:{textContent:e._s("|")}}):e._e(),s("n8n-text",{attrs:{size:"small",color:"text-light"}},[s("TimeAgo",{attrs:{date:e.workflow.createdAt}})],1),e.workflow.user?s("div",{class:e.$style.line,domProps:{textContent:e._s("|")}}):e._e(),e.workflow.user?s("n8n-text",{attrs:{size:"small",color:"text-light"}},[e._v("By "+e._s(e.workflow.user.username))]):e._e()],1)],1),e.loading?e._e():s("div",{class:[e.$style.nodesContainer,e.useWorkflowButton&&e.$style.hideOnHover]},[e.workflow.nodes?s("NodeList",{attrs:{nodes:e.workflow.nodes,limit:e.nodesToBeShown,size:"md"}}):e._e()],1),e.useWorkflowButton?s("div",{class:e.$style.buttonContainer},[e.useWorkflowButton?s("n8n-button",{attrs:{outline:"",label:"Use workflow"},on:{click:function(t){return t.stopPropagation(),e.onUseWorkflowClick.apply(null,arguments)}}}):e._e()],1):e._e()])},My=[],Ly=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.list},[e._l(e.slicedNodes,(function(t){return s("div",{key:t.name,class:[e.$style.container,e.$style[e.size]]},[s("NodeIcon",{attrs:{nodeType:t,size:"md"===e.size?24:18,showTooltip:!0}})],1)})),e.filteredCoreNodes.length>e.limit+1?s("div",{class:[e.$style.button,"md"===e.size?e.$style.buttonMd:e.$style.buttonSm]},[e._v(" +"+e._s(e.hiddenNodes)+" ")]):e._e()],2)},Ry=[],Wy=Object(K["a"])(cn["a"]).extend({name:"NodeList",props:{nodes:{type:Array},limit:{type:Number,default:4},size:{type:String,default:"sm"}},components:{NodeIcon:bo},computed:{filteredCoreNodes(){return Object(We["d"])(this.nodes)},hiddenNodes(){return this.filteredCoreNodes.length-this.countNodesToBeSliced(this.filteredCoreNodes)},slicedNodes(){return this.filteredCoreNodes.slice(0,this.countNodesToBeSliced(this.filteredCoreNodes))}},methods:{countNodesToBeSliced(e){return e.length>this.limit?this.limit-1:this.limit}}}),By=Wy,Vy=s("bd4c");function Uy(e){this["$style"]=Vy["default"].locals||Vy["default"]}var jy=Object(v["a"])(By,Ly,Ry,!1,Uy,null,null),Fy=jy.exports,zy=Object(K["a"])(cn["a"]).extend({name:"TemplateCard",props:{lastItem:{type:Boolean,default:!1},firstItem:{type:Boolean,default:!1},workflow:{type:Object},useWorkflowButton:{type:Boolean},loading:{type:Boolean}},components:{NodeList:Fy},data(){return{nodesToBeShown:5}},methods:{filterTemplateNodes:We["d"],abbreviateNumber:We["a"],countNodesToBeSliced(e){return e.length>this.nodesToBeShown?this.nodesToBeShown-1:this.nodesToBeShown},onUseWorkflowClick(e){this.$emit("useWorkflow",e)},onCardClick(e){this.$emit("click",e)}}}),Hy=zy,Gy=s("498d");function Ky(e){this["$style"]=Gy["default"].locals||Gy["default"]}var Yy=Object(v["a"])(Hy,Ay,My,!1,Ky,null,null),qy=Yy.exports,Jy=Object(K["a"])(cn["a"]).extend({name:"TemplateList",props:{infiniteScrollEnabled:{type:Boolean,default:!1},loading:{type:Boolean},useWorkflowButton:{type:Boolean,default:!1},workflows:{type:Array},totalWorkflows:{type:Number}},mounted(){this.infiniteScrollEnabled&&window.addEventListener("scroll",this.onScroll)},destroyed(){window.removeEventListener("scroll",this.onScroll)},components:{TemplateCard:qy},methods:{onScroll(){const e=this.$refs.loader;if(!e||this.loading)return;const t=e.getBoundingClientRect(),s=t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth);s&&this.$emit("loadMore")},onCardClick(e,t){this.$emit("openTemplate",{event:e,id:t})},onUseWorkflow(e,t){this.$emit("useWorkflow",{event:e,id:t})}}}),Xy=Jy,Qy=s("56a4");function Zy(e){this["$style"]=Qy["default"].locals||Qy["default"]}var eb=Object(v["a"])(Xy,Oy,Py,!1,Zy,null,null),tb=eb.exports,sb=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.template},[s("div",{class:e.isMenuCollapsed?e.$style.menu:e.$style.expandedMenu}),s("div",{class:e.$style.container},[s("div",{class:e.$style.header},[e.goBackEnabled?s("div",{class:e.$style.goBack},[s("GoBackButton")],1):e._e(),e._t("header")],2),s("div",[e._t("content")],2)])])},nb=[],ab=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.wrapper,on:{click:e.navigateTo}},[s("font-awesome-icon",{class:e.$style.icon,attrs:{icon:"arrow-left"}}),s("div",{class:e.$style.text,domProps:{textContent:e._s(e.$locale.baseText("template.buttons.goBackButton"))}})],1)},ob=[],ib=n["default"].extend({name:"TemplateList",data(){return{routeHasHistory:!1}},methods:{navigateTo(){this.routeHasHistory?this.$router.go(-1):this.$router.push({name:N["ud"].TEMPLATES})}},mounted(){window.history.state?this.routeHasHistory=!0:this.routeHasHistory=!1}}),rb=ib,lb=s("42b9");function cb(e){this["$style"]=lb["default"].locals||lb["default"]}var db=Object(v["a"])(rb,ab,ob,!1,cb,null,null),ub=db.exports,pb=n["default"].extend({name:"TemplatesView",components:{GoBackButton:ub},props:{goBackEnabled:{type:Boolean,default:!1}},computed:{isMenuCollapsed(){return this.$store.getters["ui/sidebarMenuCollapsed"]}}}),hb=pb,mb=s("4167");function gb(e){this["$style"]=mb["default"].locals||mb["default"]}var fb=Object(v["a"])(hb,sb,nb,!1,gb,null,null),wb=fb.exports,yb=Object(K["a"])(we["a"]).extend({name:"TemplatesCollectionView",components:{TemplateDetails:Iy,TemplateList:tb,TemplatesView:wb},computed:{collection(){return this.$store.getters["templates/getCollectionById"](this.collectionId)},collectionId(){return this.$route.params.id},collectionWorkflows(){return this.collection?this.collection.workflows.map(({id:e})=>this.$store.getters["templates/getTemplateById"](e)):null}},data(){return{loading:!0,notFoundError:!1}},methods:{scrollToTop(){setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},50)},onOpenTemplate({event:e,id:t}){this.navigateTo(e,N["ud"].TEMPLATE,t)},onUseWorkflow({event:e,id:t}){const s={template_id:t,wf_template_repo_session_id:this.$store.getters["templates/currentSessionId"],source:"collection"};this.$externalHooks().run("templatesCollectionView.onUseWorkflow",s),this.$telemetry.track("User inserted workflow template",s),this.navigateTo(e,N["ud"].TEMPLATE_IMPORT,t)},navigateTo(e,t,s){if(e.metaKey||e.ctrlKey){const e=this.$router.resolve({name:t,params:{id:s}});window.open(e.href,"_blank")}else this.$router.push({name:t,params:{id:s}})}},watch:{collection(e){e?Object(We["o"])("n8n - Template collection: "+e.name):Object(We["o"])("n8n - Templates")}},async mounted(){if(this.scrollToTop(),this.collection&&this.collection.full)this.loading=!1;else{try{await this.$store.dispatch("templates/getCollectionById",this.collectionId)}catch(e){this.notFoundError=!0}this.loading=!1}}}),bb=yb,vb=s("c7ae");function xb(e){this["$style"]=vb["default"].locals||vb["default"]}var kb=Object(v["a"])(bb,my,gy,!1,xb,null,null),Tb=kb.exports,$b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("TemplatesView",{attrs:{goBackEnabled:!0},scopedSlots:e._u([{key:"header",fn:function(){return[e.notFoundError?s("div",{class:e.$style.notFound},[s("n8n-text",{attrs:{color:"text-base"}},[e._v(e._s(e.$locale.baseText("templates.workflowsNotFound")))])],1):s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.title},[e.template&&e.template.name?s("n8n-heading",{attrs:{tag:"h1",size:"2xlarge"}},[e._v(e._s(e.template.name))]):e._e(),e.template&&e.template.name?s("n8n-text",{attrs:{color:"text-base",size:"small"}},[e._v(" "+e._s(e.$locale.baseText("templates.workflow"))+" ")]):e._e(),s("n8n-loading",{attrs:{loading:!e.template||!e.template.name,rows:2,variant:"h1"}})],1),s("div",{class:e.$style.button},[e.template?s("n8n-button",{attrs:{label:e.$locale.baseText("template.buttons.useThisWorkflowButton"),size:"large"},on:{click:function(t){return e.openWorkflow(e.template.id,t)}}}):e._e(),s("n8n-loading",{attrs:{loading:!e.template,rows:1,variant:"button"}})],1)])]},proxy:!0},e.notFoundError?null:{key:"content",fn:function(){return[s("div",{class:e.$style.image},[e.showPreview?s("WorkflowPreview",{attrs:{loading:e.loading,workflow:e.template&&e.template.workflow},on:{close:e.onHidePreview}}):e._e()],1),s("div",{class:e.$style.content},[s("div",{class:e.$style.markdown},[s("n8n-markdown",{attrs:{content:e.template&&e.template.description,images:e.template&&e.template.image,loading:e.loading}})],1),s("div",{class:e.$style.details},[s("TemplateDetails",{attrs:{"block-title":e.$locale.baseText("template.details.appsInTheWorkflow"),loading:e.loading,template:e.template}})],1)])]},proxy:!0}],null,!0)})},_b=[],Cb=function(){var e,t=this,s=t.$createElement,n=t._self._c||s;return n("div",{class:t.$style.container},[n("n8n-loading",{attrs:{loading:!t.showPreview,rows:1,variant:"image"}}),n("iframe",{ref:"preview_iframe",class:(e={},e[t.$style.workflow]=!this.nodeViewDetailsOpened,e[t.$style.openNDV]=this.nodeViewDetailsOpened,e[t.$style.show]=this.showPreview,e),attrs:{src:"/workflows/demo"},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}})],1)},Nb=[],Eb=Object(K["a"])(Y["a"]).extend({name:"WorkflowPreview",props:["loading","workflow"],data(){return{nodeViewDetailsOpened:!1,ready:!1,insideIframe:!1,scrollX:0,scrollY:0}},computed:{showPreview(){return!this.loading&&!!this.workflow&&this.ready}},methods:{onMouseEnter(){this.insideIframe=!0,this.scrollX=window.scrollX,this.scrollY=window.scrollY},onMouseLeave(){this.insideIframe=!1},loadWorkflow(){try{if(!this.workflow)throw new Error(this.$locale.baseText("workflowPreview.showError.missingWorkflow"));if(!this.workflow.nodes||!Array.isArray(this.workflow.nodes))throw new Error(this.$locale.baseText("workflowPreview.showError.arrayEmpty"));const e=this.$refs.preview_iframe;e.contentWindow&&e.contentWindow.postMessage(JSON.stringify({command:"openWorkflow",workflow:this.workflow}),"*")}catch(e){this.$showError(e,this.$locale.baseText("workflowPreview.showError.previewError.title"),this.$locale.baseText("workflowPreview.showError.previewError.message"))}},receiveMessage({data:e}){try{const t=JSON.parse(e);"n8nReady"===t.command?this.ready=!0:"openNDV"===t.command?this.nodeViewDetailsOpened=!0:"closeNDV"===t.command?this.nodeViewDetailsOpened=!1:"error"===t.command&&this.$emit("close")}catch(t){}},onDocumentScroll(){this.insideIframe&&window.scrollTo(this.scrollX,this.scrollY)}},watch:{showPreview(e){e&&this.loadWorkflow()}},mounted(){window.addEventListener("message",this.receiveMessage),document.addEventListener("scroll",this.onDocumentScroll)},beforeDestroy(){window.removeEventListener("message",this.receiveMessage),document.removeEventListener("scroll",this.onDocumentScroll)}}),Sb=Eb,Db=s("ac00");function Ib(e){this["$style"]=Db["default"].locals||Db["default"]}var Ob=Object(v["a"])(Sb,Cb,Nb,!1,Ib,null,null),Pb=Ob.exports,Ab=Object(K["a"])(we["a"]).extend({name:"TemplatesWorkflowView",components:{TemplateDetails:Iy,TemplatesView:wb,WorkflowPreview:Pb},computed:{template(){return this.$store.getters["templates/getTemplateById"](this.templateId)},templateId(){return this.$route.params.id}},data(){return{loading:!0,showPreview:!0,notFoundError:!1}},methods:{openWorkflow(e,t){const s={source:"workflow",template_id:e,wf_template_repo_session_id:this.$store.getters["templates/currentSessionId"]};if(this.$externalHooks().run("templatesWorkflowView.openWorkflow",s),this.$telemetry.track("User inserted workflow template",s),t.metaKey||t.ctrlKey){const t=this.$router.resolve({name:N["ud"].TEMPLATE_IMPORT,params:{id:e}});window.open(t.href,"_blank")}else this.$router.push({name:N["ud"].TEMPLATE_IMPORT,params:{id:e}})},onHidePreview(){this.showPreview=!1},scrollToTop(){window.scrollTo({top:0})}},watch:{template(e){e?Object(We["o"])("n8n - Template template: "+e.name):Object(We["o"])("n8n - Templates")}},async mounted(){if(this.scrollToTop(),this.template&&this.template.full)this.loading=!1;else{try{await this.$store.dispatch("templates/getTemplateById",this.templateId)}catch(e){this.notFoundError=!0}this.loading=!1}}}),Mb=Ab,Lb=s("8288");function Rb(e){this["$style"]=Lb["default"].locals||Lb["default"]}var Wb=Object(v["a"])(Mb,$b,_b,!1,Rb,null,null),Bb=Wb.exports,Vb=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("TemplatesView",{scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.title},[s("n8n-heading",{attrs:{tag:"h1",size:"2xlarge"}},[e._v(" "+e._s(e.$locale.baseText("templates.heading"))+" ")])],1),s("div",{class:e.$style.button},[s("n8n-button",{attrs:{size:"large",label:e.$locale.baseText("templates.newButton")},on:{click:e.openNewWorkflow}})],1)])]},proxy:!0},{key:"content",fn:function(){return[s("div",{class:e.$style.contentWrapper},[s("div",{class:e.$style.filters},[s("TemplateFilters",{attrs:{categories:e.allCategories,sortOnPopulate:e.areCategoriesPrepopulated,loading:e.loadingCategories,selected:e.categories},on:{clear:e.onCategoryUnselected,clearAll:e.onCategoriesCleared,select:e.onCategorySelected}})],1),s("div",{class:e.$style.search},[s("n8n-input",{attrs:{value:e.search,placeholder:e.$locale.baseText("templates.searchPlaceholder"),clearable:""},on:{input:e.onSearchInput,blur:e.trackSearch}},[s("font-awesome-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.collections.length||e.loadingCollections,expression:"collections.length || loadingCollections"}],class:e.$style.carouselContainer},[s("div",{class:e.$style.header},[s("n8n-heading",{attrs:{bold:!0,size:"medium",color:"text-light"}},[e._v(" "+e._s(e.$locale.baseText("templates.collections"))+" "),e.loadingCollections?e._e():s("span",{domProps:{textContent:e._s("("+e.collections.length+")")}})])],1),s("CollectionsCarousel",{attrs:{collections:e.collections,loading:e.loadingCollections},on:{openCollection:e.onOpenCollection}})],1),s("TemplateList",{attrs:{"infinite-scroll-enabled":!0,loading:e.loadingWorkflows,"total-workflows":e.totalWorkflows,workflows:e.workflows},on:{loadMore:e.onLoadMore,openTemplate:e.onOpenTemplate}}),e.endOfSearchMessage?s("div",{class:e.$style.endText},[s("n8n-text",{attrs:{size:"medium",color:"text-base"}},[s("span",{domProps:{innerHTML:e._s(e.endOfSearchMessage)}})])],1):e._e()],1)])]},proxy:!0}])})},Ub=[],jb=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.loading||e.collections.length,expression:"loading || collections.length"}],class:e.$style.container},[s("agile",{ref:"slider",attrs:{dots:!1,navButtons:!1,infinite:!1,"slides-to-show":4},on:{"after-change":e.updateCarouselScroll}},[e._l(e.loading?4:0,(function(t){return s("Card",{key:"loading-"+t,attrs:{loading:e.loading}})})),e._l(e.loading?[]:e.collections,(function(t){return s("CollectionCard",{key:t.id,attrs:{collection:t},on:{click:function(s){return e.onCardClick(s,t.id)}}})}))],2),s("button",{directives:[{name:"show",rawName:"v-show",value:e.carouselScrollPosition>0,expression:"carouselScrollPosition > 0"}],class:e.$style.leftButton,on:{click:e.scrollLeft}},[s("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.scrollEnd,expression:"!scrollEnd"}],class:e.$style.rightButton,on:{click:e.scrollRight}},[s("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1)],1)},Fb=[],zb=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-card",e._g({class:e.$style.card,scopedSlots:e._u([e.loading?null:{key:"header",fn:function(){return[s("span",{class:e.$style.title,domProps:{textContent:e._s(e.title)}})]},proxy:!0},e.loading?null:{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},e.$listeners),[s("n8n-loading",{attrs:{loading:e.loading,rows:3,variant:"p"}})],1)},Hb=[],Gb=Object(K["a"])(cn["a"]).extend({name:"Card",props:{loading:{type:Boolean},title:{type:String}}}),Kb=Gb,Yb=s("27cf");function qb(e){this["$style"]=Yb["default"].locals||Yb["default"]}var Jb=Object(v["a"])(Kb,zb,Hb,!1,qb,null,null),Xb=Jb.exports,Qb=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Card",{attrs:{loading:e.loading,title:e.collection.name},on:{click:e.onClick},scopedSlots:e._u([{key:"footer",fn:function(){return[s("n8n-text",{attrs:{size:"small",color:"text-light"}},[e._v(" "+e._s(e.collection.workflows.length)+" "+e._s(e.$locale.baseText("templates.workflows"))+" ")]),s("NodeList",{attrs:{nodes:e.collection.nodes,showMore:!1}})]},proxy:!0}])})},Zb=[],ev=Object(K["a"])(cn["a"]).extend({name:"CollectionCard",props:{loading:{type:Boolean},collection:{type:Object}},components:{Card:Xb,NodeList:Fy},methods:{onClick(e){this.$emit("click",e)}}}),tv=ev,sv=Object(v["a"])(tv,Qb,Zb,!1,null,null,null),nv=sv.exports,av=Object(K["a"])(cn["a"]).extend({name:"CollectionsCarousel",props:{collections:{type:Array},loading:{type:Boolean}},watch:{collections(){setTimeout(()=>{this.updateCarouselScroll()},0)},loading(){setTimeout(()=>{this.updateCarouselScroll()},0)}},components:{Card:Xb,CollectionCard:nv,VueAgile:m["a"]},data(){return{carouselScrollPosition:0,cardWidth:240,scrollEnd:!1,listElement:null}},methods:{updateCarouselScroll(){if(this.listElement){this.carouselScrollPosition=Number(this.listElement.scrollLeft.toFixed());const e=this.listElement.clientWidth,t=this.listElement.scrollWidth,s=this.carouselScrollPosition;this.scrollEnd=t-e<=s+7}},onCardClick(e,t){this.$emit("openCollection",{event:e,id:t})},scrollLeft(){this.listElement&&this.listElement.scrollBy({left:-2*this.cardWidth,top:0,behavior:"smooth"})},scrollRight(){this.listElement&&this.listElement.scrollBy({left:2*this.cardWidth,top:0,behavior:"smooth"})}},mounted(){this.$nextTick(()=>{const e=this.$refs.slider;e&&(this.listElement=e.$el.querySelector(".agile__list"),this.listElement&&this.listElement.addEventListener("scroll",this.updateCarouselScroll))})},beforeDestroy(){this.$refs.slider&&this.$refs.slider.destroy(),window.removeEventListener("scroll",this.updateCarouselScroll)}}),ov=av,iv=s("bdd7");s("ab6b");function rv(e){this["$style"]=iv["default"].locals||iv["default"]}var lv=Object(v["a"])(ov,jb,Fb,!1,rv,null,null),cv=lv.exports,dv=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"template-filters",class:e.$style.filters},[s("div",{class:e.$style.title,domProps:{textContent:e._s(e.$locale.baseText("templates.categoriesHeading"))}}),e.loading?s("div",{class:e.$style.list},[s("n8n-loading",{attrs:{loading:e.loading,rows:e.expandLimit}})],1):e._e(),e.loading?e._e():s("ul",{class:e.$style.categories},[s("li",{class:e.$style.item},[s("el-checkbox",{attrs:{label:e.$locale.baseText("templates.allCategories"),value:e.allSelected},on:{change:function(t){return e.resetCategories(t)}}})],1),e._l(e.collapsed?e.sortedCategories.slice(0,e.expandLimit):e.sortedCategories,(function(t){return s("li",{key:t.id,class:e.$style.item},[s("el-checkbox",{attrs:{label:t.name,value:e.isSelected(t.id)},on:{change:function(s){return e.handleCheckboxChanged(s,t)}}})],1)}))],2),e.sortedCategories.length>e.expandLimit&&e.collapsed&&!e.loading?s("div",{class:e.$style.button,on:{click:e.collapseAction}},[s("n8n-text",{attrs:{size:"small",color:"primary"}},[e._v(" + "+e._s(e.sortedCategories.length-e.expandLimit+" more")+" ")])],1):e._e()])},uv=[],pv=Object(K["a"])(cn["a"]).extend({name:"TemplateFilters",props:{sortOnPopulate:{type:Boolean,default:!1},categories:{type:Array},expandLimit:{type:Number,default:12},loading:{type:Boolean},selected:{type:Array}},watch:{categories:{handler(e){if(this.sortOnPopulate){const t=this.selected||[],s=e.filter(({id:e})=>t.includes(e)),n=e.filter(({id:e})=>!t.includes(e));this.sortedCategories=s.concat(n)}else this.sortedCategories=e},immediate:!0}},data(){return{collapsed:!0,sortedCategories:[]}},computed:{allSelected(){return 0===this.selected.length}},methods:{collapseAction(){this.collapsed=!1},handleCheckboxChanged(e,t){this.$emit(e?"select":"clear",t.id)},isSelected(e){return this.selected.includes(e)},resetCategories(){this.$emit("clearAll")}}}),hv=pv,mv=s("c48f");s("3a23");function gv(e){this["$style"]=mv["default"].locals||mv["default"]}var fv=Object(v["a"])(hv,dv,uv,!1,gv,null,null),wv=fv.exports,yv=Object(K["a"])(cn["a"],wc["a"]).extend({name:"TemplatesSearchView",components:{CollectionsCarousel:cv,TemplateFilters:wv,TemplateList:tb,TemplatesView:wb},computed:{...Object(D["b"])("templates",["allCategories","getSearchedWorkflowsTotal","getSearchedWorkflows","getSearchedCollections"]),...Object(D["b"])("settings",["isTemplatesEndpointReachable"]),collections(){return this.getSearchedCollections(this.query)||[]},endOfSearchMessage(){return this.loadingWorkflows?null:this.workflows.length&&this.workflows.length>=this.totalWorkflows?this.$locale.baseText("templates.endResult"):this.loadingCollections||0!==this.workflows.length||0!==this.collections.length?null:!this.isTemplatesEndpointReachable&&this.errorLoadingWorkflows?this.$locale.baseText("templates.connectionWarning"):this.$locale.baseText("templates.noSearchResults")},query(){return{categories:this.categories,search:this.search}},nothingFound(){return!this.loadingWorkflows&&!this.loadingCollections&&0===this.workflows.length&&0===this.collections.length},totalWorkflows(){return this.getSearchedWorkflowsTotal(this.query)},workflows(){return this.getSearchedWorkflows(this.query)||[]}},data(){return{areCategoriesPrepopulated:!1,categories:[],loading:!0,loadingCategories:!0,loadingCollections:!0,loadingWorkflows:!0,search:"",searchEventToTrack:null,errorLoadingWorkflows:!1}},methods:{onOpenCollection({event:e,id:t}){this.navigateTo(e,N["ud"].COLLECTION,t)},onOpenTemplate({event:e,id:t}){this.navigateTo(e,N["ud"].TEMPLATE,t)},navigateTo(e,t,s){if(e.metaKey||e.ctrlKey){const e=this.$router.resolve({name:t,params:{id:s}});window.open(e.href,"_blank")}else this.$router.push({name:t,params:{id:s}})},updateSearch(){this.updateQueryParam(this.search,this.categories.join(",")),this.loadWorkflowsAndCollections(!1)},updateSearchTracking(e,t){e&&(this.searchEventToTrack&&this.searchEventToTrack.search_string.length>e.length||(this.searchEventToTrack={search_string:e,workflow_results_count:this.getSearchedWorkflowsTotal({search:e,categories:t}),collection_results_count:this.getSearchedCollections({search:e,categories:t}).length,categories_applied:t.map(e=>this.$store.getters["templates/getCategoryById"](e)),wf_template_repo_session_id:this.$store.getters["templates/currentSessionId"]}))},trackSearch(){this.searchEventToTrack&&(this.$telemetry.track("User searched workflow templates",this.searchEventToTrack),this.searchEventToTrack=null)},openNewWorkflow(){this.$router.push({name:N["ud"].NEW_WORKFLOW})},onSearchInput(e){this.loadingWorkflows=!0,this.loadingCollections=!0,this.search=e,this.callDebounced("updateSearch",{debounceTime:500,trailing:!0}),0===e.length&&this.trackSearch()},onCategorySelected(e){this.categories=this.categories.concat(e),this.updateSearch(),this.trackCategories()},onCategoryUnselected(e){this.categories=this.categories.filter(t=>t!==e),this.updateSearch(),this.trackCategories()},onCategoriesCleared(){this.categories=[],this.updateSearch()},trackCategories(){this.categories.length&&this.$telemetry.track("User changed template filters",{search_string:this.search,categories_applied:this.categories.map(e=>this.$store.getters["templates/getCategoryById"](e)),wf_template_repo_session_id:this.$store.getters["templates/currentSessionId"]})},updateQueryParam(e,t){const s=Object.assign({},this.$route.query);t.length?s.categories=t:delete s.categories,e.length?s.search=e:delete s.search,this.$router.replace({query:s})},async onLoadMore(){if(!(this.workflows.length>=this.totalWorkflows))try{this.loadingWorkflows=!0,await this.$store.dispatch("templates/getMoreWorkflows",{categories:this.categories,search:this.search})}catch(e){this.$showMessage({title:"Error",message:"Could not load more workflows",type:"error"})}finally{this.loadingWorkflows=!1}},async loadCategories(){try{await this.$store.dispatch("templates/getCategories")}catch(e){}this.loadingCategories=!1},async loadCollections(){try{this.loadingCollections=!0,await this.$store.dispatch("templates/getCollections",{categories:this.categories,search:this.search})}catch(e){}this.loadingCollections=!1},async loadWorkflows(){try{this.loadingWorkflows=!0,await this.$store.dispatch("templates/getWorkflows",{search:this.search,categories:this.categories}),this.errorLoadingWorkflows=!1}catch(e){this.errorLoadingWorkflows=!0}this.loadingWorkflows=!1},async loadWorkflowsAndCollections(e){const t=this.search,s=[...this.categories];await Promise.all([this.loadWorkflows(),this.loadCollections()]),e||this.updateSearchTracking(t,s)},scrollToTop(){setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}},watch:{workflows(e){0===e.length&&this.scrollToTop()}},beforeRouteLeave(e,t,s){this.trackSearch(),s()},async mounted(){Object(We["o"])("n8n - Templates"),this.loadCategories(),this.loadWorkflowsAndCollections(!0),this.$store.dispatch("users/showPersonalizationSurvey")},async created(){this.$route.query.search&&"string"===typeof this.$route.query.search&&(this.search=this.$route.query.search),"string"===typeof this.$route.query.categories&&this.$route.query.categories.length&&(this.categories=this.$route.query.categories.split(",").map(e=>parseInt(e,10)),this.areCategoriesPrepopulated=!0)}}),bv=yv,vv=s("1538");function xv(e){this["$style"]=vv["default"].locals||vv["default"]}var kv=Object(v["a"])(bv,Vb,Ub,!1,xv,null,null),Tv=kv.exports,$v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("page-view-layout",{scopedSlots:e._u([{key:"aside",fn:function(){return[s("div",{class:[e.$style["heading-wrapper"],"mb-xs"]},[s("n8n-heading",{attrs:{size:"2xlarge"}},[e._v(" "+e._s(e.$locale.baseText("credentials.heading"))+" ")])],1),s("div",{staticClass:"mt-xs mb-l"},[s("n8n-button",{attrs:{size:"large",block:""},on:{click:e.addCredential}},[e._v(" "+e._s(e.$locale.baseText("credentials.add"))+" ")])],1),s("enterprise-edition",{attrs:{features:[e.EnterpriseEditionFeature.Sharing]}},[s("n8n-menu",{ref:"selectOwnerMenu",attrs:{"default-active":"owner",type:"secondary"},on:{select:e.onSelectOwner}},[s("n8n-menu-item",{attrs:{index:"owner"},scopedSlots:e._u([{key:"title",fn:function(){return[s("n8n-icon",{attrs:{icon:"user"}}),s("span",{staticClass:"ml-xs"},[e._v(" "+e._s(e.$locale.baseText("credentials.menu.myCredentials"))+" ")])]},proxy:!0}])}),s("n8n-menu-item",{attrs:{index:"all"},scopedSlots:e._u([{key:"title",fn:function(){return[s("n8n-icon",{attrs:{icon:"globe-americas"}}),s("span",{staticClass:"ml-xs"},[e._v(" "+e._s(e.$locale.baseText("credentials.menu.allCredentials"))+" ")])]},proxy:!0}])})],1)],1)]},proxy:!0}])},[e.loading?s("div",[s("n8n-loading",{class:[e.$style["header-loading"],"mb-l"],attrs:{variant:"custom"}}),s("n8n-loading",{class:[e.$style["card-loading"],"mb-2xs"],attrs:{variant:"custom"}}),s("n8n-loading",{class:e.$style["card-loading"],attrs:{variant:"custom"}})],1):[0===e.allCredentials.length?s("div",{staticClass:"ph-no-capture"},[s("n8n-action-box",{attrs:{emoji:"",heading:e.$locale.baseText(e.currentUser.firstName?"credentials.empty.heading":"credentials.empty.heading.userNotSetup",{interpolate:{name:e.currentUser.firstName}}),description:e.$locale.baseText("credentials.empty.description"),buttonText:e.$locale.baseText("credentials.empty.button"),buttonType:"secondary"},on:{click:e.addCredential}})],1):s("page-view-layout-list",{scopedSlots:e._u([{key:"header",fn:function(){return[s("div",{staticClass:"mb-xs"},[s("div",{class:e.$style["filters-row"]},[s("n8n-input",{ref:"search",class:[e.$style["search"],"mr-2xs"],attrs:{placeholder:e.$locale.baseText("credentials.search.placeholder"),size:"medium",clearable:""},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}},[s("n8n-icon",{attrs:{slot:"prefix",icon:"search"},slot:"prefix"})],1),s("div",{class:e.$style["sort-and-filter"]},[s("n8n-select",{attrs:{size:"medium"},model:{value:e.filters.sortBy,callback:function(t){e.$set(e.filters,"sortBy",t)},expression:"filters.sortBy"}},[s("n8n-option",{attrs:{value:"lastUpdated",label:e.$locale.baseText("credentials.sort.lastUpdated")}}),s("n8n-option",{attrs:{value:"lastCreated",label:e.$locale.baseText("credentials.sort.lastCreated")}}),s("n8n-option",{attrs:{value:"nameAsc",label:e.$locale.baseText("credentials.sort.nameAsc")}}),s("n8n-option",{attrs:{value:"nameDesc",label:e.$locale.baseText("credentials.sort.nameDesc")}})],1),s("n8n-popover",{attrs:{trigger:"click"}},[s("template",{slot:"reference"},[s("n8n-button",{class:[e.$style["filter-button"],"ml-2xs"],attrs:{icon:"filter",type:"tertiary",size:"medium",active:e.hasFilters}},[s("n8n-badge",{directives:[{name:"show",rawName:"v-show",value:e.filtersLength>0,expression:"filtersLength > 0"}],staticClass:"mr-4xs",attrs:{theme:"primary"}},[e._v(" "+e._s(e.filtersLength)+" ")]),e._v(" "+e._s(e.$locale.baseText("credentials.filters"))+" ")],1)],1),s("div",{class:e.$style["filters-dropdown"]},[s("div",{staticClass:"mb-s"},[s("n8n-input-label",{staticClass:"mb-3xs",attrs:{label:e.$locale.baseText("credentials.filters.type"),bold:!1,size:"small",color:"text-base"}}),s("n8n-select",{ref:"typeInput",class:e.$style["type-input"],attrs:{size:"small",multiple:"",filterable:""},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.allCredentialTypes,(function(e){return s("n8n-option",{key:e.name,attrs:{value:e.name,label:e.displayName}})})),1)],1),s("enterprise-edition",{staticClass:"mb-s",attrs:{features:[e.EnterpriseEditionFeature.Sharing]}},[s("n8n-input-label",{staticClass:"mb-3xs",attrs:{label:e.$locale.baseText("credentials.filters.ownedBy"),bold:!1,size:"small",color:"text-base"}}),s("n8n-select",{staticClass:"ph-no-capture",class:e.$style["user-select"],attrs:{size:"small",filterable:""},model:{value:e.filters.ownedBy,callback:function(t){e.$set(e.filters,"ownedBy",t)},expression:"filters.ownedBy"}},[e._l(e.allUsers,(function(t){return[t.isPending?e._e():s("n8n-option",{key:t.id,attrs:{value:t.id,label:t.fullName,disabled:t.id===e.filters.sharedWith}},[s("n8n-user-info",e._b({class:e.$style["user-info"],attrs:{isCurrentUser:t.id===e.currentUser.id,disabled:t.id===e.filters.sharedWith}},"n8n-user-info",t,!1))],1)]}))],2)],1),s("enterprise-edition",{attrs:{features:[e.EnterpriseEditionFeature.Sharing]}},[s("n8n-input-label",{staticClass:"mb-3xs",attrs:{label:e.$locale.baseText("credentials.filters.sharedWith"),bold:!1,size:"small",color:"text-base"}}),s("n8n-select",{staticClass:"ph-no-capture",class:e.$style["user-select"],attrs:{size:"small",filterable:""},model:{value:e.filters.sharedWith,callback:function(t){e.$set(e.filters,"sharedWith",t)},expression:"filters.sharedWith"}},[e._l(e.allUsers,(function(t){return[t.isPending?e._e():s("n8n-option",{key:t.id,attrs:{value:t.id,label:t.fullName,disabled:t.id===e.filters.ownedBy}},[s("n8n-user-info",e._b({class:e.$style["user-info"],attrs:{isCurrentUser:t.id===e.currentUser.id,disabled:t.id===e.filters.ownedBy}},"n8n-user-info",t,!1))],1)]}))],2)],1),e.hasFilters?s("div",{class:[e.$style["filters-dropdown-footer"],"mt-s"]},[s("n8n-link",{on:{click:e.resetFilters}},[e._v(" "+e._s(e.$locale.baseText("credentials.filters.reset"))+" ")])],1):e._e()],1)],2)],1)],1)])]},proxy:!0}])},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasFilters,expression:"hasFilters"}],staticClass:"mt-xs"},[s("n8n-info-tip",{attrs:{bold:!1}},[e._v(" "+e._s(e.$locale.baseText("credentials.filters.active"))+" "),s("n8n-link",{attrs:{size:"small"},on:{click:e.resetFilters}},[e._v(" "+e._s(e.$locale.baseText("credentials.filters.active.reset"))+" ")])],1)],1),s("div",{staticClass:"mt-xs mb-l"},[e.filteredAndSortedSubviewCredentials.length>0?s("ul",{staticClass:"list-style-none"},e._l(e.filteredAndSortedSubviewCredentials,(function(e){return s("li",{key:e.id,staticClass:"mb-2xs"},[s("credential-card",{attrs:{data:e}})],1)})),0):s("n8n-text",{attrs:{color:"text-base",size:"medium"}},[e._v(" "+e._s(e.$locale.baseText("credentials.noResults"))+" "),!e.hasFilters&&e.filters.owner&&e.credentialsNotOwned.length>0?[e.filters.search?s("span",[e._v(" ("+e._s(e.$locale.baseText("credentials.noResults.withSearch.switchToShared.preamble"))+" "),s("n8n-link",{on:{click:function(t){return e.setOwnerFilter(!1)}}},[e._v(e._s(e.$locale.baseText("credentials.noResults.withSearch.switchToShared.link")))]),e._v(") ")],1):s("span",[e._v(" ("+e._s(e.$locale.baseText("credentials.noResults.switchToShared.preamble"))+" "),s("n8n-link",{on:{click:function(t){return e.setOwnerFilter(!1)}}},[e._v(e._s(e.$locale.baseText("credentials.noResults.switchToShared.link")))]),e._v(") ")],1)]:e._e()],2)],1)])]],2)},_v=[],Cv=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:[e.$style.wrapper,!e.sidebarMenuCollapsed&&e.$style.expandedSidebar]},[s("div",{class:e.$style.container},[e.$slots.aside?s("aside",{class:e.$style.aside},[e._t("aside")],2):e._e(),s("main",{class:e.$style.content},[e._t("default")],2)])])},Nv=[],Ev=n["default"].extend({name:"PageViewLayout",data(){return{loading:!1}},computed:{sidebarMenuCollapsed(){return this.$store.getters["ui/sidebarMenuCollapsed"]}}}),Sv=Ev,Dv=s("b5e9");function Iv(e){this["$style"]=Dv["default"].locals||Dv["default"]}var Ov=Object(v["a"])(Sv,Cv,Nv,!1,Iv,null,null),Pv=Ov.exports,Av=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.wrapper},[s("div",{class:e.$style.list},[e.$slots.header?s("div",[e._t("header")],2):e._e(),s("div",{class:e.$style.body},[e._t("default")],2)])])},Mv=[],Lv=s("5cdf"),Rv={};function Wv(e){this["$style"]=Lv["default"].locals||Lv["default"]}var Bv=Object(v["a"])(Rv,Av,Mv,!1,Wv,null,null),Vv=Bv.exports,Uv=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("n8n-card",{class:e.$style["card-link"],on:{click:e.onClick},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("credential-icon",{attrs:{"credential-type-name":e.credentialType?e.credentialType.name:""}})]},proxy:!0},{key:"header",fn:function(){return[s("n8n-heading",{staticClass:"ph-no-capture",class:e.$style["card-heading"],attrs:{tag:"h2",bold:""}},[e._v(" "+e._s(e.data.name)+" ")])]},proxy:!0},{key:"append",fn:function(){return[s("div",{class:e.$style["card-actions"]},[s("enterprise-edition",{attrs:{features:[e.EnterpriseEditionFeature.Sharing]}},[e.credentialPermissions.isOwner?s("n8n-badge",{staticClass:"mr-xs",attrs:{theme:"tertiary",bold:""}},[e._v(" "+e._s(e.$locale.baseText("credentials.item.owner"))+" ")]):e._e()],1),s("n8n-action-toggle",{attrs:{actions:e.actions,theme:"dark"},on:{action:e.onAction}})],1)]},proxy:!0}])},[s("n8n-text",{attrs:{color:"text-light",size:"small"}},[e.credentialType?s("span",[e._v(e._s(e.credentialType.displayName)+" | ")]):e._e(),s("span",{directives:[{name:"show",rawName:"v-show",value:e.data,expression:"data"}]},[e._v(e._s(e.$locale.baseText("credentials.item.updated"))+" "),s("time-ago",{attrs:{date:e.data.updatedAt}}),e._v(" | ")],1),s("span",{directives:[{name:"show",rawName:"v-show",value:e.data,expression:"data"}]},[e._v(e._s(e.$locale.baseText("credentials.item.created"))+" "+e._s(e.formattedCreatedAtDate)+" ")])])],1)},jv=[],Fv=s("e5bf"),zv=s.n(Fv);const Hv={OPEN:"open",DELETE:"delete"};var Gv=Object(K["a"])(Y["a"]).extend({data(){return{EnterpriseEditionFeature:N["gb"]}},components:{CredentialIcon:Ae},props:{data:{type:Object,required:!0,default:()=>({id:"",createdAt:"",updatedAt:"",type:"",name:"",nodesAccess:[],sharedWith:[],ownedBy:{}})},readonly:{type:Boolean,default:!1}},computed:{...Object(D["b"])("users",["currentUser"]),credentialType(){return this.$store.getters["credentials/getCredentialTypeByName"](this.data.type)},credentialPermissions(){return Object(Qs["a"])(this.currentUser,this.data,this.$store)},actions(){return[{label:this.$locale.baseText("credentials.item.open"),value:Hv.OPEN}].concat(this.credentialPermissions.delete?[{label:this.$locale.baseText("credentials.item.delete"),value:Hv.DELETE}]:[])},formattedCreatedAtDate(){const e=(new Date).getFullYear();return zv()(this.data.createdAt,"d mmmm"+(this.data.createdAt.startsWith(e)?"":", yyyy"))}},methods:{async onClick(){this.$store.dispatch("ui/openExistingCredential",{id:this.data.id})},async onAction(e){if(e===Hv.OPEN)this.onClick();else if(e===Hv.DELETE){const e=await this.confirmMessage(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.message",{interpolate:{savedCredentialName:this.data.name}}),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.headline"),null,this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.confirmButtonText"));e&&await this.$store.dispatch("credentials/deleteCredential",{id:this.data.id})}}}}),Kv=Gv,Yv=s("82a7");function qv(e){this["$style"]=Yv["default"].locals||Yv["default"]}var Jv=Object(v["a"])(Kv,Uv,jv,!1,qv,null,null),Xv=Jv.exports,Qv=Object(K["a"])(Y["a"],wc["a"]).extend({name:"SettingsPersonalView",components:{TemplateCard:qy,PageViewLayout:Pv,PageViewLayoutList:Vv,SettingsView:qf,CredentialCard:Xv},data(){return{loading:!0,filters:{owner:!0,sortBy:"lastUpdated",search:"",type:[],ownedBy:"",sharedWith:""},filtersInput:{type:[],ownedBy:"",sharedWith:""},resettingFilters:!1,EnterpriseEditionFeature:N["gb"]}},computed:{currentUser(){return this.$store.getters["users/currentUser"]},allUsers(){return this.$store.getters["users/allUsers"]},allCredentials(){return this.$store.getters["credentials/allCredentials"]},allCredentialTypes(){return this.$store.getters["credentials/allCredentialTypes"]},credentialTypesById(){return this.$store.getters["credentials/credentialTypesById"]},filtersLength(){let e=0;return this.filters.ownedBy&&(e+=1),this.filters.sharedWith&&(e+=1),this.filters.type.length>0&&(e+=1),e},subviewCredentials(){return this.allCredentials.filter(e=>!this.filters.owner||!this.$store.getters["settings/isEnterpriseFeatureEnabled"](N["gb"].Sharing)||!(!e.ownedBy||e.ownedBy.id!==this.currentUser.id))},filteredAndSortedSubviewCredentials(){const e=this.subviewCredentials.filter(e=>{let t=!0;if(this.filters.ownedBy&&(t=t&&!(!e.ownedBy||e.ownedBy.id!==this.filters.ownedBy)),this.filters.sharedWith&&(t=t&&!(!e.sharedWith||!e.sharedWith.find(e=>e.id===this.filters.sharedWith))),this.filters.type.length>0&&(t=t&&this.filters.type.includes(e.type)),this.filters.search){const s=this.filters.search.toLowerCase();t=t&&(e.name.toLowerCase().includes(s)||this.credentialTypesById[e.type]&&this.credentialTypesById[e.type].displayName.toLowerCase().includes(s))}return t});return e.sort((e,t)=>{switch(this.filters.sortBy){case"lastUpdated":return new Date(t.updatedAt).valueOf()-new Date(e.updatedAt).valueOf();case"lastCreated":return new Date(t.createdAt).valueOf()-new Date(e.createdAt).valueOf();case"nameAsc":return e.name.localeCompare(t.name);case"nameDesc":return t.name.localeCompare(e.name);default:return 0}})},credentialsNotOwned(){return this.allCredentials.filter(e=>e.ownedBy&&e.ownedBy.id!==this.currentUser.id)},hasFilters(){return this.filters.type.length>0||""!==this.filters.ownedBy||""!==this.filters.sharedWith}},methods:{addCredential(){this.$store.dispatch("ui/openModal",N["H"]),this.resetFilters(),this.$telemetry.track("User clicked add cred button",{source:"Creds list"})},async initialize(){await Promise.all([this.$store.dispatch("credentials/fetchAllCredentials"),this.$store.dispatch("credentials/fetchCredentialTypes"),this.$store.dispatch("nodeTypes/getNodeTypes")]),this.loading=!1,this.$nextTick(this.focusSearchInput),this.$store.dispatch("users/fetchUsers")},resetFilters(){this.filters.search="",this.filters.type=[],this.filters.ownedBy="",this.filters.sharedWith="",this.filtersInput.type=[],this.filtersInput.ownedBy="",this.filtersInput.sharedWith="",this.resettingFilters=!0,this.sendFiltersTelemetry("reset")},focusSearchInput(){this.$refs.search&&this.$refs.search.focus()},setOwnerFilter(e){this.$refs.selectOwnerMenu.$children[0].activeIndex=e?"owner":"all",this.filters.owner=e},onSelectOwner(e){this.filters.owner="owner"===e},sendSubviewTelemetry(){this.$telemetry.track("User changed credentials sub view",{sub_view:this.filters.owner?"My credentials":"All credentials"})},sendSortingTelemetry(){this.$telemetry.track("User changed sorting in cred list",{sub_view:this.filters.owner?"My credentials":"All credentials",sorting:this.filters.sortBy})},sendFiltersTelemetry(e){if(this.resettingFilters){if("reset"!==e)return;setTimeout(()=>this.resettingFilters=!1,1500)}const t=this.filters,s=[],n=[];["ownedBy","sharedWith","type","search"].forEach(e=>{t[e]&&(s.push(e),n.push("search"===e?null:t[e]))}),this.$telemetry.track("User set filters in cred list",{filters_set:s,filter_values:n,sub_view:this.filters.owner?"My credentials":"All credentials",creds_total_in_view:this.subviewCredentials.length,creds_after_filtering:this.filteredAndSortedSubviewCredentials.length})}},mounted(){this.initialize()},watch:{"filters.owner"(){this.sendSubviewTelemetry()},"filters.ownedBy"(e){e&&this.setOwnerFilter(!1),this.sendFiltersTelemetry("ownedBy")},"filters.sharedWith"(){this.sendFiltersTelemetry("sharedWith")},"filters.type"(){this.sendFiltersTelemetry("type")},"filters.search"(){this.callDebounced("sendFiltersTelemetry",{debounceTime:1e3,trailing:!0},"search")},"filters.sortBy"(){this.sendSortingTelemetry()}}}),Zv=Qv,ex=s("de2a");function tx(e){this["$style"]=ex["default"].locals||ex["default"]}var sx=Object(v["a"])(Zv,$v,_v,!1,tx,null,null),nx=sx.exports,ax=s("a185");async function ox(e,{onlyLatest:t}={onlyLatest:!1}){return Object(ax["b"])(e,"GET","/node-types",{onlyLatest:t})}async function ix(e){return Object(ax["b"])(e,"GET","/node-translation-headers")}async function rx(e,t){return Object(ax["b"])(e,"POST","/node-types",{nodeInfos:t})}async function lx(e,t){return Object(ax["b"])(e,"GET","/node-parameter-options",t)}async function cx(e,t){return Object(ax["b"])(e,"GET","/nodes-list-search",t)}const dx={namespaced:!0,state:{nodeTypes:{}},getters:{allNodeTypes:e=>Object.values(e.nodeTypes).reduce((e,t)=>{const s=Object.keys(t).map(Number),n=s.map(e=>t[e]);return[...e,...n]},[]),allLatestNodeTypes:e=>Object.values(e.nodeTypes).reduce((e,t)=>{const s=Object.keys(t).map(Number),n=t[Math.max(...s)];return n?[...e,n]:e},[]),getNodeType:e=>(t,s)=>{const n=e.nodeTypes[t];if(!n)return null;const a=Object.keys(n).map(Number),o=n[s||Math.max(...a)];return o||null}},mutations:{setNodeTypes(e,t){t.forEach(t=>{const s=ux(t);if(0!==s.length)for(const a of s)e.nodeTypes[t.name]?n["default"].set(e.nodeTypes[t.name],a,t):n["default"].set(e.nodeTypes,t.name,{[a]:t});else{const s={[N["R"]]:t};n["default"].set(e.nodeTypes,t.name,s)}})},removeNodeTypes(e,t){e.nodeTypes=t.reduce((e,t)=>Object(Ah["c"])(t.name,e),e.nodeTypes)}},actions:{async getFullNodesProperties(e,t){await e.dispatch("credentials/fetchCredentialTypes",!0);const s=await e.dispatch("getNodesInformation",t);e.commit("setNodeTypes",s)},async getNodeTypes(e){const t=await ox(e.rootGetters.getRestApiContext);t.length&&e.commit("setNodeTypes",t)},async getNodeTranslationHeaders(e){const t=await ix(e.rootGetters.getRestApiContext);t&&Qt(t,e.getters.defaultLocale)},async getNodesInformation(e,t){const s=await rx(e.rootGetters.getRestApiContext,t);s.forEach(t=>{if(t.translation){const s=t.name.replace("n8n-nodes-base.","");Jt({[s]:t.translation},e.getters.defaultLocale)}}),e.commit("setNodeTypes",s)},async getNodeParameterOptions(e,t){return lx(e.rootGetters.getRestApiContext,t)},async getResourceLocatorResults(e,t){return cx(e.rootGetters.getRestApiContext,t)}}};function ux(e){return Array.isArray(e.version)?e.version:[e.version]}var px=dx;async function hx(e){return await Object(ax["b"])(e,"GET","/credential-types")}async function mx(e,t){return await Object(ax["b"])(e,"GET","/credentials/new",t?{name:t}:{})}async function gx(e){return await Object(ax["b"])(e,"GET","/credentials")}async function fx(e,t){return Object(ax["b"])(e,"POST","/credentials",t)}async function wx(e,t){return Object(ax["b"])(e,"DELETE","/credentials/"+t)}async function yx(e,t,s){return Object(ax["b"])(e,"PATCH","/credentials/"+t,s)}async function bx(e,t){return Object(ax["b"])(e,"GET","/credentials/"+t,{includeData:!0})}async function vx(e,t){return Object(ax["b"])(e,"GET","/oauth1-credential/auth",t)}async function xx(e,t){return Object(ax["b"])(e,"GET","/oauth2-credential/auth",t)}async function kx(e,t){return Object(ax["b"])(e,"POST","/credentials/test",t)}async function Tx(e,t,s){return Object(ax["b"])(e,"PUT",`/credentials/${t}/share`,s)}const $x={mutations:{setCredentialOwnedBy(e,t){n["default"].set(e.credentials[t.credentialId],"ownedBy",t.ownedBy)},setCredentialSharedWith(e,t){n["default"].set(e.credentials[t.credentialId],"sharedWith",t.sharedWith)},addCredentialSharee(e,t){n["default"].set(e.credentials[t.credentialId],"sharedWith",(e.credentials[t.credentialId].sharedWith||[]).concat([t.sharee]))},removeCredentialSharee(e,t){n["default"].set(e.credentials[t.credentialId],"sharedWith",(e.credentials[t.credentialId].sharedWith||[]).filter(e=>e.id!==t.sharee.id))}},actions:{setCredentialSharedWith:async(e,t)=>{e.rootGetters["settings/isEnterpriseFeatureEnabled"](N["gb"].Sharing)&&(await Tx(e.rootGetters.getRestApiContext,t.credentialId,{shareWithIds:t.sharedWith.map(e=>e.id)}),e.commit("setCredentialSharedWith",{credentialId:t.credentialId,sharedWith:t.sharedWith}))}}},_x="Unnamed credential",Cx="account",Nx=["httpBasicAuth","oAuth2Api","httpDigestAuth","oAuth1Api"],Ex={namespaced:!0,state:{credentialTypes:{},credentials:{},...$x.state},mutations:{setCredentialTypes:(e,t)=>{e.credentialTypes=t.reduce((e,t)=>(e[t.name]=t,e),{})},setCredentials:(e,t)=>{e.credentials=t.reduce((e,t)=>(t.id&&(e[t.id]=t),e),{})},upsertCredential(e,t){t.id&&n["default"].set(e.credentials,t.id,{...e.credentials[t.id],...t})},deleteCredential(e,t){n["default"].delete(e.credentials,t)},enableOAuthCredential(e,t){},...$x.mutations},getters:{credentialTypesById(e){return e.credentialTypes},allCredentialTypes(e){return Object.values(e.credentialTypes).sort((e,t)=>e.displayName.localeCompare(t.displayName))},allCredentials(e){return Object.values(e.credentials).sort((e,t)=>e.name.localeCompare(t.name))},allCredentialsByType(e,t){const s=t.allCredentials,n=t.allCredentialTypes;return n.reduce((e,t)=>(e[t.name]=s.filter(e=>e.type===t.name),e),{})},getCredentialTypeByName:e=>t=>e.credentialTypes[t],getCredentialById:e=>t=>e.credentials[t],getCredentialByIdAndType:e=>(t,s)=>{const n=e.credentials[t];return n&&n.type===s?n:void 0},getCredentialsByType:(e,t)=>e=>t.allCredentialsByType[e]||[],getNodesWithAccess(e,t,s,n){return e=>{const t=n["nodeTypes/allLatestNodeTypes"];return t.filter(t=>{if(!t.credentials)return!1;for(const s of t.credentials)if(s.name===e)return!0;return!1})}},getScopesByCredentialType(e,t){return e=>{const s=t.getCredentialTypeByName(e),n=s.properties.find(e=>"scope"===e.name);if(!n||!n.default||"string"!==typeof n.default||""===n.default)return[];let{default:a}=n;return a=a.replace(/^=/,"").replace(/\{\{.*\}\}/,""),/ /.test(a)?a.split(" "):/,/.test(a)?a.split(","):[a]}},getCredentialOwnerName:(e,t)=>e=>{const s=t.getCredentialById(e);return s&&s.ownedBy&&s.ownedBy.firstName?`${s.ownedBy.firstName} ${s.ownedBy.lastName} (${s.ownedBy.email})`:Ft.baseText("credentialEdit.credentialSharing.info.sharee.fallback")},...$x.getters},actions:{fetchCredentialTypes:async(e,t)=>{if(e.getters.allCredentialTypes.length>0&&!0!==t)return;const s=await hx(e.rootGetters.getRestApiContext);e.commit("setCredentialTypes",s)},fetchAllCredentials:async e=>{const t=await gx(e.rootGetters.getRestApiContext);return e.commit("setCredentials",t),t},getCredentialData:async(e,{id:t})=>await bx(e.rootGetters.getRestApiContext,t),createNewCredential:async(e,t)=>{const s=await fx(e.rootGetters.getRestApiContext,t);return e.rootGetters["settings/isEnterpriseFeatureEnabled"](N["gb"].Sharing)?(e.commit("upsertCredential",s),t.ownedBy&&(e.commit("setCredentialOwnedBy",{credentialId:s.id,ownedBy:t.ownedBy}),t.sharedWith&&t.ownedBy.id===e.rootGetters["users/currentUserId"]&&await e.dispatch("setCredentialSharedWith",{credentialId:s.id,sharedWith:t.sharedWith}))):e.commit("upsertCredential",s),s},updateCredential:async(e,t)=>{const{id:s,data:n}=t,a=await yx(e.rootGetters.getRestApiContext,s,n);return e.rootGetters["settings/isEnterpriseFeatureEnabled"](N["gb"].Sharing)?(e.commit("upsertCredential",a),n.ownedBy&&(e.commit("setCredentialOwnedBy",{credentialId:a.id,ownedBy:n.ownedBy}),n.sharedWith&&n.ownedBy.id===e.rootGetters["users/currentUserId"]&&await e.dispatch("setCredentialSharedWith",{credentialId:a.id,sharedWith:n.sharedWith}))):e.commit("upsertCredential",a),a},deleteCredential:async(e,{id:t})=>{const s=await wx(e.rootGetters.getRestApiContext,t);s&&e.commit("deleteCredential",t)},oAuth2Authorize:async(e,t)=>xx(e.rootGetters.getRestApiContext,t),oAuth1Authorize:async(e,t)=>vx(e.rootGetters.getRestApiContext,t),testCredential:async(e,t)=>kx(e.rootGetters.getRestApiContext,{credentials:t}),getNewCredentialName:async(e,t)=>{try{const{credentialTypeName:s}=t;let n=_x;if(!Nx.includes(s)){const{displayName:t}=e.getters.getCredentialTypeByName(s);n=Object(We["f"])(t),n=n.length>0?`${n} ${Cx}`:_x}const a=await mx(e.rootGetters.getRestApiContext,n);return a.name}catch(s){return _x}},...$x.actions}};var Sx=Ex;function Dx(e){return Object(ax["b"])(e,"GET","/settings")}async function Ix(e,t){return await Object(ax["a"])(N["jc"],"/prompts",{},{"n8n-instance-id":e,"n8n-user-id":t})}async function Ox(e,t,s){return await Object(ax["c"])(N["jc"],"/prompt",{email:s},{"n8n-instance-id":e,"n8n-user-id":t})}async function Px(e,t,s){return await Object(ax["c"])(N["jc"],"/value-survey",s,{"n8n-instance-id":e,"n8n-user-id":t})}async function Ax(){const e=await Object(ax["a"])(N["oc"],"search?q=keywords:n8n-community-node-package");return e.total||0}function Mx(e){return e.join(",")}function Lx(e){return Object(ax["a"])(e,"/health")}function Rx(e,t){return Object(ax["a"])(e,"/templates/categories",void 0,t)}async function Wx(e,t,s){return await Object(ax["a"])(e,"/templates/collections",{category:Mx(t.categories||[]),search:t.search},s)}async function Bx(e,t,s){return Object(ax["a"])(e,"/templates/workflows",{skip:t.skip,rows:t.limit,category:Mx(t.categories),search:t.search},s)}async function Vx(e,t,s){return await Object(ax["a"])(e,"/templates/collections/"+t,void 0,s)}async function Ux(e,t,s){return await Object(ax["a"])(e,"/templates/workflows/"+t,void 0,s)}async function jx(e,t,s){return await Object(ax["a"])(e,"/workflows/templates/"+t,void 0,s)}function Fx(e){return Object(ax["b"])(e,"GET","/me/api-key")}function zx(e){return Object(ax["b"])(e,"POST","/me/api-key")}function Hx(e){return Object(ax["b"])(e,"DELETE","/me/api-key")}const Gx={namespaced:!0,state:{settings:{},promptsData:{},userManagement:{enabled:!1,showSetupOnFirstLoad:!1,smtpSetup:!1},templatesEndpointHealthy:!1,api:{enabled:!1,latestVersion:0,path:"/"},onboardingCallPromptEnabled:!1},getters:{isEnterpriseFeatureEnabled:e=>t=>e.settings.enterprise[t],versionCli(e){return e.settings.versionCli},isUserManagementEnabled(e){return e.userManagement.enabled},isPublicApiEnabled(e){return e.api.enabled},publicApiLatestVersion(e){return e.api.latestVersion},publicApiPath(e){return e.api.path},showSetupPage(e){return e.userManagement.showSetupOnFirstLoad},getPromptsData(e){return e.promptsData},isCloudDeployment(e){return e.settings.deployment&&"cloud"===e.settings.deployment.type},isSmtpSetup(e){return e.userManagement.smtpSetup},isPersonalizationSurveyEnabled(e){return e.settings.telemetry.enabled&&e.settings.personalizationSurveyEnabled},telemetry:e=>e.settings.telemetry,logLevel:e=>e.settings.logLevel,isTelemetryEnabled:e=>e.settings.telemetry&&e.settings.telemetry.enabled,areTagsEnabled:e=>void 0===e.settings.workflowTagsDisabled||!e.settings.workflowTagsDisabled,isHiringBannerEnabled:e=>e.settings.hiringBannerEnabled,isTemplatesEnabled:e=>Boolean(e.settings.templates&&e.settings.templates.enabled),isTemplatesEndpointReachable:e=>e.templatesEndpointHealthy,templatesHost:e=>e.settings.templates.host,isOnboardingCallPromptFeatureEnabled:e=>e.onboardingCallPromptEnabled,isCommunityNodesFeatureEnabled:e=>e.settings.communityNodesEnabled,isNpmAvailable:e=>e.settings.isNpmAvailable,isQueueModeEnabled:e=>"queue"===e.settings.executionMode},mutations:{setSettings(e,t){e.settings=t,e.userManagement.enabled=t.userManagement.enabled,e.userManagement.showSetupOnFirstLoad=!!t.userManagement.showSetupOnFirstLoad,e.userManagement.smtpSetup=t.userManagement.smtpSetup,e.api.enabled=t.publicApi.enabled,e.api.latestVersion=t.publicApi.latestVersion,e.api.path=t.publicApi.path,e.onboardingCallPromptEnabled=t.onboardingCallPromptEnabled},stopShowingSetupPage(e){n["default"].set(e.userManagement,"showSetupOnFirstLoad",!1)},setPromptsData(e,t){n["default"].set(e,"promptsData",t)},setTemplatesEndpointHealthy(e){e.templatesEndpointHealthy=!0},setCommunityNodesFeatureEnabled(e,t){e.settings.communityNodesEnabled=t}},actions:{async getSettings(e){const t=await Dx(e.rootGetters.getRestApiContext);e.commit("setSettings",t),e.commit("setUrlBaseWebhook",t.urlBaseWebhook,{root:!0}),e.commit("setUrlBaseEditor",t.urlBaseEditor,{root:!0}),e.commit("setEndpointWebhook",t.endpointWebhook,{root:!0}),e.commit("setEndpointWebhookTest",t.endpointWebhookTest,{root:!0}),e.commit("setSaveDataErrorExecution",t.saveDataErrorExecution,{root:!0}),e.commit("setSaveDataSuccessExecution",t.saveDataSuccessExecution,{root:!0}),e.commit("setSaveManualExecutions",t.saveManualExecutions,{root:!0}),e.commit("setTimezone",t.timezone,{root:!0}),e.commit("setExecutionTimeout",t.executionTimeout,{root:!0}),e.commit("setMaxExecutionTimeout",t.maxExecutionTimeout,{root:!0}),e.commit("setVersionCli",t.versionCli,{root:!0}),e.commit("setInstanceId",t.instanceId,{root:!0}),e.commit("setOauthCallbackUrls",t.oauthCallbackUrls,{root:!0}),e.commit("setN8nMetadata",t.n8nMetadata||{},{root:!0}),e.commit("setDefaultLocale",t.defaultLocale,{root:!0}),e.commit("setIsNpmAvailable",t.isNpmAvailable,{root:!0}),e.commit("versions/setVersionNotificationSettings",t.versionNotifications,{root:!0}),e.commit("setCommunityNodesFeatureEnabled",!0===t.communityNodesEnabled)},async fetchPromptsData(e){if(e.getters.isTelemetryEnabled)try{const t=e.state.settings.instanceId,s=e.rootGetters["users/currentUserId"],n=await Ix(t,s);n&&n.showContactPrompt?e.commit("ui/openModal",N["D"],{root:!0}):n&&n.showValueSurvey&&e.commit("ui/openModal",N["sd"],{root:!0}),e.commit("setPromptsData",n)}catch(t){return t}},async submitContactInfo(e,t){try{const s=e.state.settings.instanceId,n=e.rootGetters["users/currentUserId"];return await Ox(s,n,t)}catch(s){return s}},async submitValueSurvey(e,t){try{const s=e.state.settings.instanceId,n=e.rootGetters["users/currentUserId"];return await Px(s,n,t)}catch(s){return s}},async testTemplatesEndpoint(e){const t=new Promise((e,t)=>setTimeout(()=>t(),2e3));await Promise.race([Lx(e.getters.templatesHost),t]),e.commit("setTemplatesEndpointHealthy",!0)},async getApiKey(e){const{apiKey:t}=await Fx(e.rootGetters["getRestApiContext"]);return t},async createApiKey(e){const{apiKey:t}=await zx(e.rootGetters["getRestApiContext"]);return t},async deleteApiKey(e){await Hx(e.rootGetters["getRestApiContext"])}}};var Kx=Gx;async function Yx(e,t=!1){return await Object(ax["b"])(e,"GET","/tags",{withUsageCount:t})}async function qx(e,t){return await Object(ax["b"])(e,"POST","/tags",t)}async function Jx(e,t,s){return await Object(ax["b"])(e,"PATCH","/tags/"+t,s)}async function Xx(e,t){return await Object(ax["b"])(e,"DELETE","/tags/"+t)}const Qx={namespaced:!0,state:{tags:{},isLoading:!1,fetchedAll:!1,fetchedUsageCount:!1},mutations:{setLoading:(e,t)=>{e.isLoading=t},setAllTags:(e,t)=>{e.tags=t.reduce((e,t)=>(e[t.id]=t,e),{}),e.fetchedAll=!0},upsertTags(e,t){t.forEach(t=>{const s=t.id,a=e.tags[s];if(a){const o={...a,...t};n["default"].set(e.tags,s,o)}else n["default"].set(e.tags,s,t)})},deleteTag(e,t){n["default"].delete(e.tags,t)}},getters:{allTags(e){return Object.values(e.tags).sort((e,t)=>e.name.localeCompare(t.name))},isLoading:e=>e.isLoading,hasTags:e=>Object.keys(e.tags).length>0,getTagById:e=>t=>e.tags[t]},actions:{fetchAll:async(e,t)=>{const{force:s=!1,withUsageCount:n=!1}=t||{};if(!s&&e.state.fetchedAll&&e.state.fetchedUsageCount===n)return Object.values(e.state.tags);e.commit("setLoading",!0);const a=await Yx(e.rootGetters.getRestApiContext,Boolean(n));return e.commit("setAllTags",a),e.commit("setLoading",!1),a},create:async(e,t)=>{const s=await qx(e.rootGetters.getRestApiContext,{name:t});return e.commit("upsertTags",[s]),s},rename:async(e,{id:t,name:s})=>{const n=await Jx(e.rootGetters.getRestApiContext,t,{name:s});return e.commit("upsertTags",[n]),n},delete:async(e,t)=>{const s=await Xx(e.rootGetters.getRestApiContext,t);return s&&(e.commit("deleteTag",t),e.commit("removeWorkflowTagId",t,{root:!0})),s}}};var Zx=Qx;const ek="https://api.n8n.io/api",tk="/prompts/onboarding",sk="/accounts/onboarding";async function nk(e,t){return await Object(ax["a"])(ek,tk,{instance_id:e,user_id:`${e}#${t.id}`,is_owner:t.isOwner,survey_results:t.personalizationAnswers})}async function ak(e,t,s){try{const n=await Object(ax["c"])(ek,tk,{instance_id:e,user_id:`${e}#${t.id}`,email:s});return n}catch(n){throw n}}async function ok(e,t,s,n){return await Object(ax["c"])(ek,sk,{instance_id:e,user_id:`${e}#${t.id}`,email:s,agree:n})}const ik={namespaced:!0,state:{modals:{[N["a"]]:{open:!1},[N["l"]]:{open:!1},[N["D"]]:{open:!1},[N["F"]]:{open:!1,mode:"",activeId:null},[N["G"]]:{open:!1},[N["H"]]:{open:!1},[N["U"]]:{open:!1,activeId:null},[N["W"]]:{open:!1},[N["rc"]]:{open:!1},[N["Ac"]]:{open:!1},[N["yb"]]:{open:!1},[N["fd"]]:{open:!1},[N["Ad"]]:{open:!1},[N["sd"]]:{open:!1},[N["td"]]:{open:!1},[N["Bd"]]:{open:!1},[N["fb"]]:{open:!1},[N["zd"]]:{open:!1},[N["s"]]:{open:!1},[N["r"]]:{open:!1,mode:"",activeId:null}},modalStack:[],sidebarMenuCollapsed:!0,isPageLoading:!0,currentView:"",mainPanelDimensions:{},ndv:{sessionId:"",input:{displayMode:"table"},output:{displayMode:"table",editMode:{enabled:!1,value:""}},focusedMappableInput:"",mappingTelemetry:{}},mainPanelPosition:.5,draggable:{isDragging:!1,type:"",data:"",canDrop:!1,stickyPosition:null},fakeDoorFeatures:[{id:N["hb"].ENVIRONMENTS,featureName:"fakeDoor.settings.environments.name",icon:"server",infoText:"fakeDoor.settings.environments.infoText",actionBoxTitle:"fakeDoor.settings.environments.actionBox.title",actionBoxDescription:"fakeDoor.settings.environments.actionBox.description",linkURL:"https://n8n-community.typeform.com/to/l7QOrERN#f=environments",uiLocations:["settings"]},{id:N["hb"].LOGGING,featureName:"fakeDoor.settings.logging.name",icon:"sign-in-alt",infoText:"fakeDoor.settings.logging.infoText",actionBoxTitle:"fakeDoor.settings.logging.actionBox.title",actionBoxDescription:"fakeDoor.settings.logging.actionBox.description",linkURL:"https://n8n-community.typeform.com/to/l7QOrERN#f=logging",uiLocations:["settings"]},{id:N["hb"].SHARING,featureName:"fakeDoor.credentialEdit.sharing.name",actionBoxTitle:"fakeDoor.credentialEdit.sharing.actionBox.title",actionBoxDescription:"fakeDoor.credentialEdit.sharing.actionBox.description",linkURL:"https://n8n-community.typeform.com/to/l7QOrERN#f=sharing",uiLocations:["credentialsModal"]}]},getters:{areExpressionsDisabled(e){return e.currentView===N["ud"].DEMO},isVersionsOpen:e=>e.modals[N["td"]].open,isModalOpen:e=>t=>e.modals[t].open,isModalActive:e=>t=>e.modalStack.length>0&&t===e.modalStack[0],getModalActiveId:e=>t=>e.modals[t].activeId,getModalMode:e=>t=>e.modals[t].mode,sidebarMenuCollapsed:e=>e.sidebarMenuCollapsed,ndvSessionId:e=>e.ndv.sessionId,getPanelDisplayMode:e=>t=>e.ndv[t].displayMode,inputPanelDisplayMode:e=>e.ndv.input.displayMode,outputPanelDisplayMode:e=>e.ndv.output.displayMode,outputPanelEditMode:e=>e.ndv.output.editMode,mainPanelPosition:e=>e.mainPanelPosition,getFakeDoorFeatures:e=>e.fakeDoorFeatures,getFakeDoorByLocation:(e,t)=>e=>t.getFakeDoorFeatures.filter(t=>t.uiLocations.includes(e)),getFakeDoorById:(e,t)=>e=>t.getFakeDoorFeatures.find(t=>t.id.toString()===e),focusedMappableInput:e=>e.ndv.focusedMappableInput,isDraggableDragging:e=>e.draggable.isDragging,draggableType:e=>e.draggable.type,draggableData:e=>e.draggable.data,canDraggableDrop:e=>e.draggable.canDrop,mainPanelDimensions:e=>t=>{const s={relativeRight:1,relativeLeft:1,relativeWidth:1};return{...s,...e.mainPanelDimensions[t]}},draggableStickyPos:e=>e.draggable.stickyPosition,mappingTelemetry:e=>e.ndv.mappingTelemetry},mutations:{setMainPanelDimensions:(e,t)=>{n["default"].set(e.mainPanelDimensions,t.panelType,{...e.mainPanelDimensions[t.panelType],...t.dimensions})},setMode:(e,t)=>{const{name:s,mode:a}=t;n["default"].set(e.modals[s],"mode",a)},setFakeDoorFeatures:(e,t)=>{e.fakeDoorFeatures=t},setActiveId:(e,t)=>{const{name:s,id:a}=t;n["default"].set(e.modals[s],"activeId",a)},openModal:(e,t)=>{n["default"].set(e.modals[t],"open",!0),e.modalStack=[t].concat(e.modalStack)},closeModal:(e,t)=>{n["default"].set(e.modals[t],"open",!1),e.modalStack=e.modalStack.filter(e=>t!==e)},closeAllModals:e=>{Object.keys(e.modals).forEach(t=>{e.modals[t].open&&n["default"].set(e.modals[t],"open",!1)}),e.modalStack=[]},toggleSidebarMenuCollapse:e=>{e.sidebarMenuCollapsed=!e.sidebarMenuCollapsed},setCurrentView:(e,t)=>{e.currentView=t},setNDVSessionId:e=>{n["default"].set(e.ndv,"sessionId","ndv-"+Math.random().toString(36).slice(-8))},resetNDVSessionId:e=>{n["default"].set(e.ndv,"sessionId","")},setPanelDisplayMode:(e,t)=>{n["default"].set(e.ndv[t.pane],"displayMode",t.mode)},setOutputPanelEditModeEnabled:(e,t)=>{n["default"].set(e.ndv.output.editMode,"enabled",t)},setOutputPanelEditModeValue:(e,t)=>{n["default"].set(e.ndv.output.editMode,"value",t)},setMappableNDVInputFocus(e,t){n["default"].set(e.ndv,"focusedMappableInput",t)},draggableStartDragging(e,{type:t,data:s}){e.draggable={isDragging:!0,type:t,data:s,canDrop:!1,stickyPosition:null}},draggableStopDragging(e){e.draggable={isDragging:!1,type:"",data:"",canDrop:!1,stickyPosition:null}},setDraggableStickyPos(e,t){n["default"].set(e.draggable,"stickyPosition",t)},setDraggableCanDrop(e,t){n["default"].set(e.draggable,"canDrop",t)},setMappingTelemetry(e,t){e.ndv.mappingTelemetry={...e.ndv.mappingTelemetry,...t}},resetMappingTelemetry(e){e.ndv.mappingTelemetry={}}},actions:{openModal:async(e,t)=>{e.commit("openModal",t)},openDeleteUserModal:async(e,{id:t})=>{e.commit("setActiveId",{name:N["U"],id:t}),e.commit("openModal",N["U"])},openExistingCredential:async(e,{id:t})=>{e.commit("setActiveId",{name:N["F"],id:t}),e.commit("setMode",{name:N["F"],mode:"edit"}),e.commit("openModal",N["F"])},openNewCredential:async(e,{type:t})=>{e.commit("setActiveId",{name:N["F"],id:t}),e.commit("setMode",{name:N["F"],mode:"new"}),e.commit("openModal",N["F"])},getNextOnboardingPrompt:async e=>{const t=e.rootGetters.instanceId,s=e.rootGetters["users/currentUser"];return await nk(t,s)},applyForOnboardingCall:async(e,{email:t})=>{const s=e.rootGetters.instanceId,n=e.rootGetters["users/currentUser"];return await ak(s,n,t)},submitContactEmail:async(e,{email:t,agree:s})=>{const n=e.rootGetters.instanceId,a=e.rootGetters["users/currentUser"];return await ok(n,a,t||a.email,s)},async openCommunityPackageUninstallConfirmModal(e,t){e.commit("setActiveId",{name:N["r"],id:t}),e.commit("setMode",{name:N["r"],mode:N["t"].UNINSTALL}),e.commit("openModal",N["r"])},async openCommunityPackageUpdateConfirmModal(e,t){e.commit("setActiveId",{name:N["r"],id:t}),e.commit("setMode",{name:N["r"],mode:N["t"].UPDATE}),e.commit("openModal",N["r"])}}};var rk=ik;function lk(e){return Object(ax["b"])(e,"GET","/login")}function ck(e){return Object(ax["b"])(e,"GET","/me")}function dk(e,t){return Object(ax["b"])(e,"POST","/login",t)}async function uk(e){await Object(ax["b"])(e,"POST","/logout")}function pk(e,t){return Object(ax["b"])(e,"POST","/owner",t)}function hk(e){return Object(ax["b"])(e,"POST","/owner/skip-setup")}function mk(e,t){return Object(ax["b"])(e,"GET","/resolve-signup-token",t)}function gk(e,t){const{inviteeId:s,...n}=t;return Object(ax["b"])(e,"POST","/users/"+t.inviteeId,n)}async function fk(e,t){await Object(ax["b"])(e,"POST","/forgot-password",t)}async function wk(e,t){await Object(ax["b"])(e,"GET","/resolve-password-token",t)}async function yk(e,t){await Object(ax["b"])(e,"POST","/change-password",t)}function bk(e,t){return Object(ax["b"])(e,"PATCH","/me",t)}function vk(e,t){return Object(ax["b"])(e,"PATCH","/me/password",t)}async function xk(e,{id:t,transferId:s}){await Object(ax["b"])(e,"DELETE","/users/"+t,s?{transferId:s}:{})}function kk(e){return Object(ax["b"])(e,"GET","/users")}function Tk(e,t){return Object(ax["b"])(e,"POST","/users",t)}async function $k(e,{id:t}){await Object(ax["b"])(e,"POST",`/users/${t}/reinvite`)}async function _k(e,t){await Object(ax["b"])(e,"POST","/me/survey",t)}const Ck=e=>Boolean(e&&e.isPending&&e.globalRole&&e.globalRole.name===wn.Owner),Nk=e=>Boolean(e&&e.isPending),Ek={namespaced:!0,state:{currentUserId:null,users:{}},mutations:{addUsers:(e,t)=>{t.forEach(t=>{const s=e.users[t.id]||{},a={...s,...t},o={...a,fullName:t.firstName?`${a.firstName} ${a.lastName||""}`:void 0,isDefaultUser:Ck(a),isPendingUser:Nk(a),isOwner:Boolean(a.globalRole&&a.globalRole.name===wn.Owner)};n["default"].set(e.users,o.id,o)})},setCurrentUserId:(e,t)=>{e.currentUserId=t},clearCurrentUserId:e=>{e.currentUserId=null},deleteUser:(e,t)=>{n["default"].delete(e.users,t)},setPersonalizationAnswers(e,t){if(!e.currentUserId)return;const s=e.users[e.currentUserId];s&&n["default"].set(s,"personalizationAnswers",t)}},getters:{allUsers(e){return Object.values(e.users)},currentUserId(e){return e.currentUserId},currentUser(e){return e.currentUserId?e.users[e.currentUserId]:null},getUserById(e){return t=>e.users[t]},globalRoleName(e,t){return t.currentUser.globalRole.name},canUserDeleteTags(e,t,s,n){const a=t.currentUser;return vn(bn.TAGS.CAN_DELETE_TAGS,a)},canUserAccessSidebarUserInfo(e,t,s,n){const a=t.currentUser;return vn(bn.PRIMARY_MENU.CAN_ACCESS_USER_INFO,a)},showUMSetupWarning(e,t,s,n){const a=t.currentUser;return vn(bn.USER_SETTINGS.VIEW_UM_SETUP_WARNING,a)},personalizedNodeTypes(e,t){const s=t.currentUser;if(!s)return[];const n=s.personalizationAnswers;return n?xn(n):[]}},actions:{async loginWithCookie(e){const t=await lk(e.rootGetters.getRestApiContext);t&&(e.commit("addUsers",[t]),e.commit("setCurrentUserId",t.id))},async getCurrentUser(e){const t=await ck(e.rootGetters.getRestApiContext);t&&(e.commit("addUsers",[t]),e.commit("setCurrentUserId",t.id))},async loginWithCreds(e,t){const s=await dk(e.rootGetters.getRestApiContext,t);s&&(e.commit("addUsers",[s]),e.commit("setCurrentUserId",s.id))},async logout(e){await uk(e.rootGetters.getRestApiContext),e.commit("clearCurrentUserId")},async createOwner(e,t){const s=await pk(e.rootGetters.getRestApiContext,t);s&&(e.commit("addUsers",[s]),e.commit("setCurrentUserId",s.id),e.commit("settings/stopShowingSetupPage",null,{root:!0}))},async validateSignupToken(e,t){return await mk(e.rootGetters.getRestApiContext,t)},async signup(e,t){const s=await gk(e.rootGetters.getRestApiContext,t);s&&(e.commit("addUsers",[s]),e.commit("setCurrentUserId",s.id))},async sendForgotPasswordEmail(e,t){await fk(e.rootGetters.getRestApiContext,t)},async validatePasswordToken(e,t){await wk(e.rootGetters.getRestApiContext,t)},async changePassword(e,t){await yk(e.rootGetters.getRestApiContext,t)},async updateUser(e,t){const s=await bk(e.rootGetters.getRestApiContext,t);e.commit("addUsers",[s])},async updateCurrentUserPassword(e,{password:t,currentPassword:s}){await vk(e.rootGetters.getRestApiContext,{newPassword:t,currentPassword:s})},async deleteUser(e,t){await xk(e.rootGetters.getRestApiContext,t),e.commit("deleteUser",t.id)},async fetchUsers(e){const t=await kk(e.rootGetters.getRestApiContext);e.commit("addUsers",t)},async inviteUsers(e,t){const s=await Tk(e.rootGetters.getRestApiContext,t);return e.commit("addUsers",s.map(({user:e})=>({isPending:!0,...e}))),s},async reinviteUser(e,t){await $k(e.rootGetters.getRestApiContext,t)},async submitPersonalizationSurvey(e,t){await _k(e.rootGetters.getRestApiContext,t),e.commit("setPersonalizationAnswers",t)},async showPersonalizationSurvey(e){const t=e.rootGetters["settings/isPersonalizationSurveyEnabled"],s=e.getters.currentUser;t&&s&&!s.personalizationAnswers&&e.dispatch("ui/openModal",N["Ac"],{root:!0})},async skipOwnerSetup(e){try{e.commit("settings/stopShowingSetupPage",null,{root:!0}),await hk(e.rootGetters.getRestApiContext)}catch(t){}}}};var Sk=Ek;async function Dk(e,t){const s=await Object(ax["b"])(e,"GET","/workflows/new",t?{name:t}:{});return{name:s.name,onboardingFlowEnabled:!0===s.onboardingFlowEnabled}}const Ik={namespaced:!0,state:{},actions:{getNewWorkflowData:async(e,t)=>{let s={name:"",onboardingFlowEnabled:!1};try{s=await Dk(e.rootGetters.getRestApiContext,t)}catch(n){s.name=t||N["Q"]}return e.commit("setWorkflowName",{newName:s.name},{root:!0}),s},getDuplicateCurrentWorkflowName:async e=>{const t=e.rootGetters.workflowName;if(t&&t.length+N["X"].length>=N["Zb"])return t;let s=`${t}${N["X"]}`;try{const t=await Dk(e.rootGetters.getRestApiContext,s);s=t.name}catch(n){}return s}}};var Ok=Ik;async function Pk(e,t,s){const n={[N["wb"]]:s};return await Object(ax["a"])(e,t,{},n)}const Ak={namespaced:!0,state:{versionNotificationSettings:{enabled:!1,endpoint:"",infoUrl:""},nextVersions:[],currentVersion:void 0},getters:{hasVersionUpdates(e){return e.nextVersions.length>0},nextVersions(e){return e.nextVersions},currentVersion(e){return e.currentVersion},areNotificationsEnabled(e){return e.versionNotificationSettings.enabled},infoUrl(e){return e.versionNotificationSettings.infoUrl}},mutations:{setVersions(e,{versions:t,currentVersion:s}){e.nextVersions=t.filter(e=>e.name!==s),e.currentVersion=t.find(e=>e.name===s)},setVersionNotificationSettings(e,t){e.versionNotificationSettings=t}},actions:{async fetchVersions(e){try{const{enabled:t,endpoint:s}=e.state.versionNotificationSettings;if(t&&s){const t=e.rootState.versionCli,n=e.rootState.instanceId,a=await Pk(s,t,n);e.commit("setVersions",{versions:a,currentVersion:t})}}catch(t){}}}};var Mk=Ak;const Lk=10;function Rk(e){return JSON.stringify([e.search||"",[...e.categories].sort()])}const Wk={namespaced:!0,state:{categories:{},collections:{},workflows:{},collectionSearches:{},workflowSearches:{},currentSessionId:"",previousSessionId:""},getters:{allCategories(e){return Object.values(e.categories).sort((e,t)=>e.name>t.name?1:-1)},getTemplateById(e){return t=>e.workflows[t]},getCollectionById(e){return t=>e.collections[t]},getCategoryById(e){return t=>e.categories[t]},getSearchedCollections(e){return t=>{const s=Rk(t),n=e.collectionSearches[s];return n?n.collectionIds.map(t=>e.collections[t]):null}},getSearchedWorkflows(e){return t=>{const s=Rk(t),n=e.workflowSearches[s];return n?n.workflowIds.map(t=>e.workflows[t]):null}},getSearchedWorkflowsTotal(e){return t=>{const s=Rk(t),n=e.workflowSearches[s];return n?n.totalWorkflows:0}},isSearchLoadingMore(e){return t=>{const s=Rk(t),n=e.workflowSearches[s];return Boolean(n&&n.loadingMore)}},isSearchFinished(e){return t=>{const s=Rk(t),n=e.workflowSearches[s];return Boolean(n&&!n.loadingMore&&n.totalWorkflows===n.workflowIds.length)}},currentSessionId(e){return e.currentSessionId},previousSessionId(e){return e.previousSessionId}},mutations:{addCategories(e,t){t.forEach(t=>{n["default"].set(e.categories,t.id,t)})},addCollections(e,t){t.forEach(t=>{const s=(t.workflows||[]).map(e=>({id:e.id})),a=e.collections[t.id]||{};n["default"].set(e.collections,t.id,{...a,...t,workflows:s})})},addWorkflows(e,t){t.forEach(t=>{const s=e.workflows[t.id]||{};n["default"].set(e.workflows,t.id,{...s,...t})})},addCollectionSearch(e,t){const s=t.collections.map(e=>e.id),a=Rk(t.query);n["default"].set(e.collectionSearches,a,{collectionIds:s})},addWorkflowsSearch(e,t){const s=t.workflows.map(e=>e.id),a=Rk(t.query),o=e.workflowSearches[a];o?n["default"].set(e.workflowSearches,a,{workflowIds:[...o.workflowIds,...s],totalWorkflows:t.totalWorkflows}):n["default"].set(e.workflowSearches,a,{workflowIds:s,totalWorkflows:t.totalWorkflows})},setWorkflowSearchLoading(e,t){const s=Rk(t),a=e.workflowSearches[s];a&&n["default"].set(e.workflowSearches[s],"loadingMore",!0)},setWorkflowSearchLoaded(e,t){const s=Rk(t),a=e.workflowSearches[s];a&&n["default"].set(e.workflowSearches[s],"loadingMore",!1)},resetSessionId(e){e.previousSessionId=e.currentSessionId,e.currentSessionId=""},setSessionId(e){e.currentSessionId||(e.currentSessionId="templates-"+Date.now())}},actions:{async getTemplateById(e,t){const s=e.rootGetters["settings/templatesHost"],n=e.rootGetters["versionCli"],a=await Ux(s,t,{"n8n-version":n}),o={...a.workflow,full:!0};return e.commit("addWorkflows",[o]),o},async getCollectionById(e,t){const s=e.rootGetters["settings/templatesHost"],n=e.rootGetters["versionCli"],a=await Vx(s,t,{"n8n-version":n}),o={...a.collection,full:!0};return e.commit("addCollections",[o]),e.commit("addWorkflows",a.collection.workflows),e.getters.getCollectionById(t)},async getCategories(e){const t=e.getters.allCategories;if(t.length)return t;const s=e.rootGetters["settings/templatesHost"],n=e.rootGetters["versionCli"],a=await Rx(s,{"n8n-version":n}),o=a.categories;return e.commit("addCategories",o),o},async getCollections(e,t){const s=e.getters.getSearchedCollections(t);if(s)return s;const n=e.rootGetters["settings/templatesHost"],a=e.rootGetters["versionCli"],o=await Wx(n,t,{"n8n-version":a}),i=o.collections;return e.commit("addCollections",i),e.commit("addCollectionSearch",{query:t,collections:i}),i.forEach(t=>e.commit("addWorkflows",t.workflows)),i},async getWorkflows(e,t){const s=e.getters.getSearchedWorkflows(t);if(s)return s;const n=e.rootGetters["settings/templatesHost"],a=e.rootGetters["versionCli"],o=await Bx(n,{...t,skip:0,limit:Lk},{"n8n-version":a});return e.commit("addWorkflows",o.workflows),e.commit("addWorkflowsSearch",{...o,query:t}),e.getters.getSearchedWorkflows(t)},async getMoreWorkflows(e,t){if(e.getters.isSearchLoadingMore(t)&&!e.getters.isSearchFinished(t))return[];const s=e.getters.getSearchedWorkflows(t)||[],n=e.rootGetters["settings/templatesHost"];e.commit("setWorkflowSearchLoading",t);try{const a=await Bx(n,{...t,skip:s.length,limit:Lk});return e.commit("setWorkflowSearchLoaded",t),e.commit("addWorkflows",a.workflows),e.commit("addWorkflowsSearch",{...a,query:t}),e.getters.getSearchedWorkflows(t)}catch(a){throw e.commit("setWorkflowSearchLoaded",t),a}},getWorkflowTemplate:async(e,t)=>{const s=e.rootGetters["settings/templatesHost"],n=e.rootGetters["versionCli"];return await jx(s,t,{"n8n-version":n})}}};var Bk=Wk;async function Vk(e){const t=await Object(ax["a"])(e.baseUrl,"/nodes");return t.data||[]}async function Uk(e,t){return await Object(ax["c"])(e.baseUrl,"/nodes",{name:t})}async function jk(e,t){return await Object(ax["b"])(e,"DELETE","/nodes",{name:t})}async function Fk(e,t){return await Object(ax["b"])(e,"PATCH","/nodes",{name:t})}const zk=300,Hk={namespaced:!0,state:{availablePackageCount:-1,installedPackages:{}},mutations:{setAvailablePackageCount:(e,t)=>{e.availablePackageCount=t},setInstalledPackages:(e,t)=>{e.installedPackages=t.reduce((e,t)=>(e[t.packageName]=t,e),{})},removePackageByName(e,t){n["default"].delete(e.installedPackages,t)},updatePackageObject(e,t){e.installedPackages[t.packageName]=t}},getters:{availablePackageCount(e){return e.availablePackageCount},getInstalledPackages(e){return Object.values(e.installedPackages).sort((e,t)=>e.packageName.localeCompare(t.packageName))},getInstalledPackageByName(e){return t=>e.installedPackages[t]}},actions:{async fetchAvailableCommunityPackageCount(e){if(-1===e.state.availablePackageCount){const t=await Ax();e.commit("setAvailablePackageCount",t)}},async fetchInstalledPackages(e){const t=await Vk(e.rootGetters.getRestApiContext);e.commit("setInstalledPackages",t);const s=t.length>0?0:zk;setTimeout(()=>{},s)},async installPackage(e,t){try{await Uk(e.rootGetters.getRestApiContext,t),await e.dispatch("communityNodes/fetchInstalledPackages")}catch(s){throw s}},async uninstallPackage(e,t){try{await jk(e.rootGetters.getRestApiContext,t),e.commit("removePackageByName",t)}catch(s){throw s}},async updatePackage(e,t){try{const s=e.getters.getInstalledPackageByName(t),n=await Fk(e.rootGetters.getRestApiContext,s.packageName);e.commit("updatePackageObject",n)}catch(s){throw s}}}};var Gk=Hk;n["default"].use(D["a"]);const Kk={activeExecutions:[],activeWorkflows:[],activeActions:[],activeNode:null,activeCredentialType:null,baseUrl:Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_URL_BASE_API?Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_URL_BASE_API:"/%BASE_PATH%/"===window.BASE_PATH?"/":window.BASE_PATH,defaultLocale:"en",endpointWebhook:"webhook",endpointWebhookTest:"webhook-test",executionId:null,executingNode:"",executionWaitingForWebhook:!1,pushConnectionActive:!0,saveDataErrorExecution:"all",saveDataSuccessExecution:"all",saveManualExecutions:!1,timezone:"America/New_York",stateIsDirty:!1,executionTimeout:-1,maxExecutionTimeout:Number.MAX_SAFE_INTEGER,versionCli:"0.0.0",oauthCallbackUrls:{},n8nMetadata:{},workflowExecutionData:null,lastSelectedNode:null,lastSelectedNodeOutputIndex:null,nodeViewOffsetPosition:[0,0],nodeViewMoveInProgress:!1,selectedNodes:[],sessionId:Math.random().toString(36).substring(2,15),urlBaseEditor:"http://localhost:5678",urlBaseWebhook:"http://localhost:5678/",isNpmAvailable:!1,workflow:{id:N["Fc"],name:"",active:!1,createdAt:-1,updatedAt:-1,connections:{},nodes:[],settings:{},tags:[],pinData:{}},sidebarMenuItems:[],instanceId:"",nodeMetadata:{}},Yk={nodeTypes:px,credentials:Sx,tags:Zx,settings:Kx,templates:Bk,workflows:Ok,versions:Mk,users:Sk,ui:rk,communityNodes:Gk},qk=new D["a"].Store({strict:!1,modules:Yk,state:Kk,mutations:{addActiveAction(e,t){e.activeActions.includes(t)||e.activeActions.push(t)},removeActiveAction(e,t){const s=e.activeActions.indexOf(t);-1!==s&&e.activeActions.splice(s,1)},addActiveExecution(e,t){const s=e.activeExecutions.find(e=>e.id===t.id);void 0===s?e.activeExecutions.unshift(t):void 0===s.workflowName&&(s.workflowName=t.workflowName)},finishActiveExecution(e,t){const s=e.activeExecutions.find(e=>e.id===t.executionId);void 0!==s&&(void 0!==t.executionId&&n["default"].set(s,"id",t.executionId),n["default"].set(s,"finished",t.data.finished),n["default"].set(s,"stoppedAt",t.data.stoppedAt))},setActiveExecutions(e,t){n["default"].set(e,"activeExecutions",t)},setActiveWorkflows(e,t){e.activeWorkflows=t},setWorkflowActive(e,t){e.stateIsDirty=!1;const s=e.activeWorkflows.indexOf(t);-1===s&&e.activeWorkflows.push(t)},setWorkflowInactive(e,t){const s=e.activeWorkflows.indexOf(t);-1!==s&&e.activeWorkflows.splice(s,1)},setStateDirty(e,t){e.stateIsDirty=t},addSelectedNode(e,t){e.selectedNodes.push(t)},removeNodeFromSelection(e,t){let s;for(s in e.selectedNodes)if(e.selectedNodes[s].name===t.name){e.selectedNodes.splice(parseInt(s,10),1);break}},resetSelectedNodes(e){n["default"].set(e,"selectedNodes",[])},pinData(e,t){e.workflow.pinData||n["default"].set(e.workflow,"pinData",{}),Array.isArray(t.data)||(t.data=[t.data]);const s=t.data.map(e=>Object(Ah["a"])(e)?e:{json:e});n["default"].set(e.workflow.pinData,t.node.name,s),e.stateIsDirty=!0,hp.$emit("pin-data",{[t.node.name]:s})},unpinData(e,t){e.workflow.pinData||n["default"].set(e.workflow,"pinData",{}),n["default"].set(e.workflow.pinData,t.node.name,void 0),delete e.workflow.pinData[t.node.name],e.stateIsDirty=!0,hp.$emit("unpin-data",{[t.node.name]:void 0})},setActive(e,t){e.workflow.active=t},addConnection(e,t){if(2!==t.connection.length)return;!0===t.setStateDirty&&(e.stateIsDirty=!0);const s=t.connection[0],a=t.connection[1];if(e.workflow.connections.hasOwnProperty(s.node)||n["default"].set(e.workflow.connections,s.node,{}),e.workflow.connections[s.node].hasOwnProperty(s.type)||n["default"].set(e.workflow.connections[s.node],s.type,[]),e.workflow.connections[s.node][s.type].length<s.index+1)for(let n=e.workflow.connections[s.node][s.type].length;n<=s.index;n++)e.workflow.connections[s.node][s.type].push([]);const o=["index","node","type"];let i,r=!1;e:for(const n of e.workflow.connections[s.node][s.type][s.index]){for(i of o)if(n[i]!==a[i])continue e;r=!0;break}!1===r&&e.workflow.connections[s.node][s.type][s.index].push(a)},removeConnection(e,t){const s=t.connection[0],n=t.connection[1];if(!e.workflow.connections.hasOwnProperty(s.node))return;if(!e.workflow.connections[s.node].hasOwnProperty(s.type))return;if(e.workflow.connections[s.node][s.type].length<s.index+1)return;e.stateIsDirty=!0;const a=e.workflow.connections[s.node][s.type][s.index];for(const o in a)a[o].node===n.node&&a[o].type===n.type&&a[o].index===n.index&&a.splice(parseInt(o,10),1)},removeAllConnections(e,t){t&&!0===t.setStateDirty&&(e.stateIsDirty=!0),e.workflow.connections={}},removeAllNodeConnection(e,t){e.stateIsDirty=!0,e.workflow.connections.hasOwnProperty(t.name)&&delete e.workflow.connections[t.name];const s=[];let n,a,o,i,r;for(n of Object.keys(e.workflow.connections))for(a of Object.keys(e.workflow.connections[n]))for(o of Object.keys(e.workflow.connections[n][a])){for(i of(s.length=0,Object.keys(e.workflow.connections[n][a][parseInt(o,10)])))r=e.workflow.connections[n][a][parseInt(o,10)][parseInt(i,10)],r.node===t.name&&s.push(i);s.forEach(t=>{e.workflow.connections[n][a][parseInt(o,10)].splice(parseInt(t,10),1)})}},renameNodeSelectedAndExecution(e,t){e.stateIsDirty=!0,null!==e.workflowExecutionData&&e.workflowExecutionData.data&&e.workflowExecutionData.data.resultData.runData.hasOwnProperty(t.old)&&(e.workflowExecutionData.data.resultData.runData[t.new]=e.workflowExecutionData.data.resultData.runData[t.old],delete e.workflowExecutionData.data.resultData.runData[t.old]),e.lastSelectedNode===t.old&&(e.lastSelectedNode=t.new),n["default"].set(e.nodeMetadata,t.new,e.nodeMetadata[t.old]),n["default"].delete(e.nodeMetadata,t.old),e.workflow.pinData&&e.workflow.pinData.hasOwnProperty(t.old)&&(n["default"].set(e.workflow.pinData,t.new,e.workflow.pinData[t.old]),n["default"].delete(e.workflow.pinData,t.old))},resetAllNodesIssues(e){return e.workflow.nodes.forEach(e=>{e.issues=void 0}),!0},setNodeIssue(e,t){const s=e.workflow.nodes.find(e=>e.name===t.node);if(!s)return!1;if(null===t.value){if(void 0===s.issues||void 0===s.issues[t.type])return!0;n["default"].delete(s.issues,t.type)}else void 0===s.issues&&n["default"].set(s,"issues",{}),n["default"].set(s.issues,t.type,t.value);return!0},setWorkflowId(e,t){e.workflow.id=t},setWorkflowName(e,t){!0===t.setStateDirty&&(e.stateIsDirty=!0),e.workflow.name=t.newName},replaceInvalidWorkflowCredentials(e,{credentials:t,invalid:s,type:n}){e.workflow.nodes.forEach(e=>{if(!e.credentials||!e.credentials[n])return;const a=e.credentials[n];"string"!==typeof a||a!==s.name?null!==a.id?a.id===s.id&&(e.credentials[n]=t):a.name===s.name&&(e.credentials[n]=t):e.credentials[n]=t})},addNode(e,t){t.hasOwnProperty("name")&&e.workflow.nodes.push(t)},removeNode(e,t){n["default"].delete(e.nodeMetadata,t.name),e.workflow.pinData&&e.workflow.pinData.hasOwnProperty(t.name)&&n["default"].delete(e.workflow.pinData,t.name);for(let s=0;s<e.workflow.nodes.length;s++)if(e.workflow.nodes[s].name===t.name)return e.workflow.nodes.splice(s,1),void(e.stateIsDirty=!0)},removeAllNodes(e,t){!0===t.setStateDirty&&(e.stateIsDirty=!0),t.removePinData&&n["default"].set(e.workflow,"pinData",{}),e.workflow.nodes.splice(0,e.workflow.nodes.length),e.nodeMetadata={}},updateNodeProperties(e,t){const s=e.workflow.nodes.find(e=>e.name===t.name);if(s)for(const a of Object.keys(t.properties))e.stateIsDirty=!0,n["default"].set(s,a,t.properties[a])},setNodeValue(e,t){const s=e.workflow.nodes.find(e=>e.name===t.name);if(void 0===s||null===s)throw new Error(`Node with the name "${t.name}" could not be found to set parameter.`);e.stateIsDirty=!0,n["default"].set(s,t.key,t.value)},setNodeParameters(e,t){const s=e.workflow.nodes.find(e=>e.name===t.name);if(void 0===s||null===s)throw new Error(`Node with the name "${t.name}" could not be found to set parameter.`);e.stateIsDirty=!0,n["default"].set(s,"parameters",t.value),e.nodeMetadata[s.name]||n["default"].set(e.nodeMetadata,s.name,{}),n["default"].set(e.nodeMetadata[s.name],"parametersLastUpdatedAt",Date.now())},setNodeViewMoveInProgress(e,t){e.nodeViewMoveInProgress=t},setNodeViewOffsetPosition(e,t){e.nodeViewOffsetPosition=t.newOffset},setExecutingNode(e,t){e.executingNode=t},setExecutionWaitingForWebhook(e,t){e.executionWaitingForWebhook=t},setActiveExecutionId(e,t){e.executionId=t},setPushConnectionActive(e,t){e.pushConnectionActive=t},setUrlBaseWebhook(e,t){const s=t.endsWith("/")?t:t+"/";n["default"].set(e,"urlBaseWebhook",s)},setUrlBaseEditor(e,t){const s=t.endsWith("/")?t:t+"/";n["default"].set(e,"urlBaseEditor",s)},setEndpointWebhook(e,t){n["default"].set(e,"endpointWebhook",t)},setEndpointWebhookTest(e,t){n["default"].set(e,"endpointWebhookTest",t)},setSaveDataErrorExecution(e,t){n["default"].set(e,"saveDataErrorExecution",t)},setSaveDataSuccessExecution(e,t){n["default"].set(e,"saveDataSuccessExecution",t)},setSaveManualExecutions(e,t){n["default"].set(e,"saveManualExecutions",t)},setTimezone(e,t){n["default"].set(e,"timezone",t)},setExecutionTimeout(e,t){n["default"].set(e,"executionTimeout",t)},setMaxExecutionTimeout(e,t){n["default"].set(e,"maxExecutionTimeout",t)},setVersionCli(e,t){n["default"].set(e,"versionCli",t)},setInstanceId(e,t){n["default"].set(e,"instanceId",t)},setOauthCallbackUrls(e,t){n["default"].set(e,"oauthCallbackUrls",t)},setN8nMetadata(e,t){n["default"].set(e,"n8nMetadata",t)},setDefaultLocale(e,t){n["default"].set(e,"defaultLocale",t)},setIsNpmAvailable(e,t){n["default"].set(e,"isNpmAvailable",t)},setActiveNode(e,t){e.activeNode=t},setActiveCredentialType(e,t){e.activeCredentialType=t},setLastSelectedNode(e,t){e.lastSelectedNode=t},setLastSelectedNodeOutputIndex(e,t){e.lastSelectedNodeOutputIndex=t},setWorkflowExecutionData(e,t){e.workflowExecutionData=t},addNodeExecutionData(e,t){if(null===e.workflowExecutionData||!e.workflowExecutionData.data)throw new Error('The "workflowExecutionData" is not initialized!');void 0===e.workflowExecutionData.data.resultData.runData[t.nodeName]&&n["default"].set(e.workflowExecutionData.data.resultData.runData,t.nodeName,[]),e.workflowExecutionData.data.resultData.runData[t.nodeName].push(t.data)},clearNodeExecutionData(e,t){null!==e.workflowExecutionData&&e.workflowExecutionData.data&&n["default"].delete(e.workflowExecutionData.data.resultData.runData,t)},setWorkflowSettings(e,t){n["default"].set(e.workflow,"settings",t)},setWorkflowPinData(e,t){n["default"].set(e.workflow,"pinData",t||{}),hp.$emit("pin-data",t||{})},setWorkflowTagIds(e,t){n["default"].set(e.workflow,"tags",t)},addWorkflowTagIds(e,t){n["default"].set(e.workflow,"tags",[...new Set([...e.workflow.tags||[],...t])])},removeWorkflowTagId(e,t){const s=e.workflow.tags,a=s.filter(e=>e!==t);n["default"].set(e.workflow,"tags",a)},setWorkflow(e,t){n["default"].set(e,"workflow",t),e.workflow.hasOwnProperty("active")||n["default"].set(e.workflow,"active",!1),e.workflow.hasOwnProperty("connections")||n["default"].set(e.workflow,"connections",{}),e.workflow.hasOwnProperty("createdAt")||n["default"].set(e.workflow,"createdAt",-1),e.workflow.hasOwnProperty("updatedAt")||n["default"].set(e.workflow,"updatedAt",-1),e.workflow.hasOwnProperty("id")||n["default"].set(e.workflow,"id",N["Fc"]),e.workflow.hasOwnProperty("nodes")||n["default"].set(e.workflow,"nodes",[]),e.workflow.hasOwnProperty("settings")||n["default"].set(e.workflow,"settings",{})},addSidebarMenuItems(e,t){const s=e.sidebarMenuItems.concat(t);n["default"].set(e,"sidebarMenuItems",s)}},getters:{executedNode:e=>e.workflowExecutionData?e.workflowExecutionData.executedNode:void 0,activeCredentialType:e=>e.activeCredentialType,isActionActive:e=>t=>e.activeActions.includes(t),isNewWorkflow:e=>e.workflow.id===N["Fc"],currentWorkflowHasWebhookNode:e=>!!e.workflow.nodes.find(e=>!!e.webhookId),getActiveExecutions:e=>e.activeExecutions,getParametersLastUpdated:e=>t=>e.nodeMetadata[t]&&e.nodeMetadata[t].parametersLastUpdatedAt,getBaseUrl:e=>e.baseUrl,getRestUrl:e=>{let t="rest";return Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST&&(t=Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST),`${e.baseUrl}${t}`},getRestApiContext(e){let t="rest";return Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST&&(t=Object({VUE_APP_PUBLIC_PATH:"/%BASE_PATH%/",NODE_ENV:"production",BASE_URL:"/%BASE_PATH%/"}).VUE_APP_ENDPOINT_REST),{baseUrl:`${e.baseUrl}${t}`,sessionId:e.sessionId}},getWebhookBaseUrl:e=>e.urlBaseWebhook,getWebhookUrl:e=>`${e.urlBaseWebhook}${e.endpointWebhook}`,getWebhookTestUrl:e=>`${e.urlBaseEditor}${e.endpointWebhookTest}`,getStateIsDirty:e=>e.stateIsDirty,instanceId:e=>e.instanceId,saveDataErrorExecution:e=>e.saveDataErrorExecution,saveDataSuccessExecution:e=>e.saveDataSuccessExecution,saveManualExecutions:e=>e.saveManualExecutions,timezone:e=>e.timezone,executionTimeout:e=>e.executionTimeout,maxExecutionTimeout:e=>e.maxExecutionTimeout,versionCli:e=>e.versionCli,oauthCallbackUrls:e=>e.oauthCallbackUrls,n8nMetadata:e=>e.n8nMetadata,defaultLocale:e=>e.defaultLocale,pushConnectionActive:e=>e.pushConnectionActive,sessionId:e=>e.sessionId,getActiveWorkflows:e=>e.activeWorkflows,workflowTriggerNodes:(e,t)=>e.workflow.nodes.filter(e=>{const s=t["nodeTypes/getNodeType"](e.type,e.typeVersion);return s&&s.group.includes("trigger")}),getNodeViewOffsetPosition:e=>e.nodeViewOffsetPosition,isNodeViewMoveInProgress:e=>e.nodeViewMoveInProgress,getSelectedNodes:e=>{const t=new Set;return e.selectedNodes.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))},isNodeSelected:e=>t=>{let s;for(s in e.selectedNodes)if(e.selectedNodes[s].name===t)return!0;return!1},isActive:e=>e.workflow.active,allConnections:e=>e.workflow.connections,outgoingConnectionsByNodeName:e=>t=>e.workflow.connections.hasOwnProperty(t)?e.workflow.connections[t]:{},allNodes:e=>e.workflow.nodes,nodesByName:e=>e.workflow.nodes.reduce((e,t)=>(e[t.name]=t,e),{}),getNodeByName:(e,t)=>e=>t.nodesByName[e]||null,getNodeById:(e,t)=>t=>e.workflow.nodes.find(e=>e.id===t),nodesIssuesExist:e=>{for(const t of e.workflow.nodes)if(void 0!==t.issues&&0!==Object.keys(t.issues).length)return!0;return!1},pinData:e=>e.workflow.pinData,pinDataByNodeName:e=>t=>{if(e.workflow.pinData&&e.workflow.pinData[t])return e.workflow.pinData[t].map(e=>e.json)},pinDataSize:e=>e.workflow.nodes.reduce((t,s)=>("undefined"!==typeof s.pinData&&s.name!==e.activeNode&&(t+=Object(We["q"])(s.pinData)),t),0),nativelyNumberSuffixedDefaults:(e,t)=>{const{"nodeTypes/allNodeTypes":s}=t;return s.reduce((e,t)=>(/\d$/.test(t.defaults.name)&&e.push(t.defaults.name),e),[])},activeNode:(e,t)=>t.getNodeByName(e.activeNode),lastSelectedNode:(e,t)=>t.getNodeByName(e.lastSelectedNode),lastSelectedNodeOutputIndex:(e,t)=>e.lastSelectedNodeOutputIndex,executingNode:e=>e.executingNode,activeExecutionId:e=>e.executionId,executionWaitingForWebhook:e=>e.executionWaitingForWebhook,workflowName:e=>e.workflow.name,workflowId:e=>e.workflow.id,workflowSettings:e=>void 0===e.workflow.settings?{}:e.workflow.settings,workflowTags:e=>e.workflow.tags,getWorkflowExecution:e=>e.workflowExecutionData,getWorkflowRunData:e=>e.workflowExecutionData&&e.workflowExecutionData.data&&e.workflowExecutionData.data.resultData?e.workflowExecutionData.data.resultData.runData:null,getWorkflowResultDataByNodeName:(e,t)=>e=>{const s=t.getWorkflowRunData;return null===s?null:s.hasOwnProperty(e)?s[e]:null},sidebarMenuItems:e=>e.sidebarMenuItems}});function Jk(e){const t=e.getters["settings/isTemplatesEnabled"];return!t&&{name:N["ud"].NOT_FOUND}}n["default"].use(hy["a"]);const Xk=new hy["a"]({mode:"history",base:"/%BASE_PATH%/"===window.BASE_PATH?"/":window.BASE_PATH,routes:[{path:"/",name:N["ud"].HOMEPAGE,meta:{getRedirect(e){return{name:N["ud"].NEW_WORKFLOW}},permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/collections/:id",name:N["ud"].COLLECTION,components:{default:Tb,sidebar:cd},meta:{templatesEnabled:!0,telemetry:{getProperties(e,t){return{collection_id:e.params.id,wf_template_repo_session_id:t.getters["templates/currentSessionId"]}}},getRedirect:Jk,permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/execution/:id",name:N["ud"].EXECUTION,components:{default:If,header:jc,sidebar:cd},meta:{nodeView:!0,permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/templates/:id",name:N["ud"].TEMPLATE,components:{default:Bb,sidebar:cd},meta:{templatesEnabled:!0,getRedirect:Jk,telemetry:{getProperties(e,t){return{template_id:e.params.id,wf_template_repo_session_id:t.getters["templates/currentSessionId"]}}},permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/templates/",name:N["ud"].TEMPLATES,components:{default:Tv,sidebar:cd},meta:{templatesEnabled:!0,getRedirect:Jk,telemetry:{getProperties(e,t){return{wf_template_repo_session_id:t.getters["templates/currentSessionId"]}}},permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/credentials",name:N["ud"].CREDENTIALS,components:{default:nx,sidebar:cd},meta:{permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/workflow",name:N["ud"].NEW_WORKFLOW,components:{default:If,header:jc,sidebar:cd},meta:{nodeView:!0,permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/workflow/:name",name:N["ud"].WORKFLOW,components:{default:If,header:jc,sidebar:cd},meta:{nodeView:!0,permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/workflows/demo",name:N["ud"].DEMO,components:{default:If},meta:{permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/workflows/templates/:id",name:N["ud"].TEMPLATE_IMPORT,components:{default:If,header:jc,sidebar:cd},meta:{templatesEnabled:!0,getRedirect:Jk,permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"/signin",name:N["ud"].SIGNIN,components:{default:iy},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[yn.LoggedOut]}}}},{path:"/signup",name:N["ud"].SIGNUP,components:{default:py},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[yn.LoggedOut]}}}},{path:"/setup",name:N["ud"].SETUP,components:{default:ey},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{role:[wn.Default]},deny:{shouldDeny:()=>!1===qk.getters["settings/isUserManagementEnabled"]}}}},{path:"/forgot-password",name:N["ud"].FORGOT_PASSWORD,components:{default:$l},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[yn.LoggedOut]}}}},{path:"/change-password",name:N["ud"].CHANGE_PASSWORD,components:{default:dl},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[yn.LoggedOut]}}}},{path:"/settings",redirect:"/settings/personal"},{path:"/settings/users",name:N["ud"].USERS_SETTINGS,components:{default:gw},meta:{telemetry:{pageCategory:"settings",getProperties(e,t){return{feature:"users"}}},permissions:{allow:{role:[wn.Default,wn.Owner]},deny:{shouldDeny:()=>!1===qk.getters["settings/isUserManagementEnabled"]}}}},{path:"/settings/personal",name:N["ud"].PERSONAL_SETTINGS,components:{default:tw},meta:{telemetry:{pageCategory:"settings",getProperties(e,t){return{feature:"personal"}}},permissions:{allow:{loginStatus:[yn.LoggedIn]},deny:{role:[wn.Default]}}}},{path:"/settings/api",name:N["ud"].API_SETTINGS,components:{default:Vw},meta:{telemetry:{pageCategory:"settings",getProperties(e,t){return{feature:"api"}}},permissions:{allow:{loginStatus:[yn.LoggedIn]},deny:{shouldDeny:()=>!1===qk.getters["settings/isPublicApiEnabled"]}}}},{path:"/settings/community-nodes",name:N["ud"].COMMUNITY_NODES,components:{default:Ow},meta:{telemetry:{pageCategory:"settings"},permissions:{allow:{role:[wn.Default,wn.Owner]},deny:{shouldDeny:()=>!1===qk.getters["settings/isCommunityNodesFeatureEnabled"]}}}},{path:"/settings/coming-soon/:featureId",name:N["ud"].FAKE_DOOR,component:Yw,props:!0,meta:{telemetry:{pageCategory:"settings",getProperties(e,t){return{feature:e.params["featureId"]}}},permissions:{allow:{loginStatus:[yn.LoggedIn]}}}},{path:"*",name:N["ud"].NOT_FOUND,component:yl,props:{messageKey:"error.pageNotFound",errorCode:404,redirectTextKey:"error.goBack",redirectPage:N["ud"].HOMEPAGE},meta:{nodeView:!0,telemetry:{disabled:!0},permissions:{allow:{loginStatus:[yn.LoggedIn,yn.LoggedOut]}}}}]});var Qk=Xk;function Zk(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eT(e){const t=new tT;Object.defineProperty(e,"$telemetry",{get(){return t}}),Object.defineProperty(e.prototype,"$telemetry",{get(){return t}})}class tT{get rudderStack(){return window.rudderanalytics}constructor(){Zk(this,"pageEventQueue",void 0),Zk(this,"previousPath",void 0),Zk(this,"store",void 0),Zk(this,"userNodesPanelSession",{sessionId:"",data:{nodeFilter:"",resultsNodes:[],filterMode:"Regular"}}),this.pageEventQueue=[],this.previousPath="",this.store=null}init(e,{instanceId:t,userId:s,store:n,versionCli:a}){if(!e.enabled||!e.config||this.rudderStack)return;const{config:{key:o,url:i}}=e;this.store=n;const r=n.getters["settings/logLevel"],l="debug"===r?{logLevel:"DEBUG"}:{};this.initRudderStack(o,i,{integrations:{All:!1},loadIntegration:!1,...l}),this.identify(t,s,a),this.flushPageEvents(),this.track("Session started",{session_id:n.getters.sessionId})}identify(e,t,s){const n={instance_id:e,version_cli:s};t?this.rudderStack.identify(`${e}#${t}`,n):(this.rudderStack.reset(),this.rudderStack.identify(void 0,n))}track(e,t){if(!this.rudderStack)return;const s={...t,version_cli:this.store&&this.store.getters.versionCli};this.rudderStack.track(e,s)}page(e){if(this.rudderStack){if(e.path===this.previousPath)return;this.previousPath=e.path;const t=e.name;let s={};this.store&&e.meta&&e.meta.telemetry&&"function"===typeof e.meta.telemetry.getProperties&&(s=e.meta.telemetry.getProperties(e,this.store));const n=e.meta&&e.meta.telemetry&&e.meta.telemetry.pageCategory||"Editor";this.rudderStack.page(n,t,s)}else this.pageEventQueue.push({route:e})}flushPageEvents(){const e=this.pageEventQueue;this.pageEventQueue=[],e.forEach(({route:e})=>{this.page(e)})}trackNodesPanel(e,t={}){if(this.rudderStack)switch(t.nodes_panel_session_id=this.userNodesPanelSession.sessionId,e){case"nodeView.createNodeActiveChanged":!1!==t.createNodeActive&&(this.resetNodesPanelSession(),t.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.track("User opened nodes panel",t));break;case"nodeCreateList.selectedTypeChanged":this.userNodesPanelSession.data.filterMode=t.new_filter,this.track("User changed nodes panel filter",t);break;case"nodeCreateList.destroyed":this.userNodesPanelSession.data.nodeFilter.length>0&&""!==this.userNodesPanelSession.data.nodeFilter&&this.track("User entered nodes panel search term",this.generateNodesPanelEvent());break;case"nodeCreateList.nodeFilterChanged":0===t.newValue.length&&this.userNodesPanelSession.data.nodeFilter.length>0&&this.track("User entered nodes panel search term",this.generateNodesPanelEvent()),t.newValue.length>(t.oldValue||"").length&&(this.userNodesPanelSession.data.nodeFilter=t.newValue,this.userNodesPanelSession.data.resultsNodes=(t.filteredNodes||[]).map(e=>e.key));break;case"nodeCreateList.onCategoryExpanded":t.is_subcategory=!1,this.track("User viewed node category",t);break;case"nodeCreateList.onSubcategorySelected":const e=t.selected.properties;e&&e.subcategory&&(t.category_name=e.subcategory),t.is_subcategory=!0,delete t.selected,this.track("User viewed node category",t);break;case"nodeView.addNodeButton":this.track("User added node to workflow canvas",t);break;case"nodeView.addSticky":this.track("User inserted workflow note",t);break;default:break}}resetNodesPanelSession(){this.userNodesPanelSession.sessionId="nodes_panel_session_"+(new Date).valueOf(),this.userNodesPanelSession.data={nodeFilter:"",resultsNodes:[],filterMode:"All"}}generateNodesPanelEvent(){return{search_string:this.userNodesPanelSession.data.nodeFilter,results_count:this.userNodesPanelSession.data.resultsNodes.length,filter_mode:this.userNodesPanelSession.data.filterMode,nodes_panel_session_id:this.userNodesPanelSession.sessionId}}initRudderStack(e,t,s){window.rudderanalytics=window.rudderanalytics||[],this.rudderStack.methods=["load","page","track","identify","alias","group","ready","reset","getAnonymousId","setAnonymousId"],this.rudderStack.factory=e=>(...t)=>{const s=[e,...t];return this.rudderStack.push(s),this.rudderStack};for(const n of this.rudderStack.methods)this.rudderStack[n]=this.rudderStack.factory(n);this.rudderStack.loadJS=()=>{const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.rudderlabs.com/v1/rudder-analytics.min.js";const t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t)},this.rudderStack.loadJS(),this.rudderStack.load(e,t,s)}}n["default"].config.productionTip=!1,Qk.afterEach((e,t)=>{Object(ln["b"])("main.routeChange",qk,{from:t,to:e})}),n["default"].use(eT),n["default"].use(e=>zt(e,qk)),new n["default"]({i18n:Gt,router:Qk,store:qk,render:e=>e(jr)}).$mount("#app")},cded:function(e,t,s){"use strict";var n=s("5c08"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},ced5:function(e,t,s){"use strict";s("8d20")},cfae:function(e,t,s){},cfd5:function(e,t,s){"use strict";s("8a6c")},d021:function(e,t,s){e.exports={content:"DuplicateWorkflowDialog_content_Asx89",footer:"DuplicateWorkflowDialog_footer_2r30D"}},d03a:function(e,t,s){"use strict";s("a78a")},d052:function(e,t,s){},d1a5:function(e,t,s){},d1e0:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"titled-list"},[s("p",{domProps:{textContent:e._s(e.title)}}),s("ul",e._l(e.items,(function(t){return s("li",{key:t,staticClass:"titled-list-item",domProps:{textContent:e._s(t)}})})),0)])},a=[],o=s("9869"),i=o["default"].extend({name:"TitledList",props:{title:{type:String},items:{type:Array,default:()=>[]}}}),r=i,l=(s("2d99"),s("2be6")),c=Object(l["a"])(r,n,a,!1,null,"771671ec",null);t["a"]=c.exports},d29b:function(e,t,s){},d2e2:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var n=s("85ee"),a=s("ac96"),o=s("debe"),i=s("7b04"),r=s("6fae"),l=s("77f0"),c=s("9ec3"),d=s("aaf5"),u=s("2159");let p="",h=null;const m=Object(d["a"])(o["a"],r["a"],i["a"],l["a"]).extend({methods:{executeData(e,t,s,n){const a={node:{},data:{},source:null};if(e.length){const o=e[0],i=this.$store.getters.getWorkflowRunData;if(null===i)return a;!i[o]||i[o].length<=n||!i[o][n].hasOwnProperty("data")||void 0===i[o][n].data||!i[o][n].data.hasOwnProperty(s)?a.data={}:(a.data=i[o][n].data,i[t]&&i[t][n]?a.source={[s]:i[t][n].source}:a.source={[s]:[{previousNode:o}]})}return a},connectionInputData(e,t,s,n,a={sourceIndex:0,destinationIndex:0}){let o=null;const i=this.executeData(e,t,s,n);e.length&&(!Object.keys(i.data).length||i.data[s].length<=a.sourceIndex?o=[]:(o=i.data[s][a.sourceIndex],null!==o&&(o=o.map((e,t)=>({...e,pairedItem:{item:t,input:a.destinationIndex}})))));const r=e.reduce((e,t,s)=>{const n=this.$store.getters["pinDataByNodeName"](t);return n&&e.push({json:n[0],pairedItem:{item:s,input:1}}),e},[]);return r.length>0&&(o&&o.length>0?r.forEach(e=>{o[0].json={...o[0].json,...e.json}}):o=r),o},getNodes(){const e=this.$store.getters.allNodes,t=[];for(const s of e)t.push(Object.assign({},s));return t},getNodeTypesMaxCount(){const e=this.$store.getters.allNodes,t={},s=this.$store.getters["nodeTypes/allNodeTypes"];for(const n of s)void 0!==n.maxNodes&&(t[n.name]={exist:0,max:n.maxNodes,nodeNames:[]});for(const n of e)void 0!==t[n.type]&&(t[n.type].exist+=1,t[n.type].nodeNames.push(n.name));return t},getNodeTypeCount(e){const t=this.$store.getters.allNodes;let s=0;for(const n of t)n.type===e&&s++;return s},checkReadyForExecution(e,t){let s,a,o=null;const i={};let r=Object.keys(e.nodes);if(t)r=e.getParentNodes(t),r.push(t);else{let t=[];for(const s of Object.keys(e.nodes))!0!==e.nodes[s].disabled&&e.nodes[s].type===n["wd"]&&(t=[s,...t,...e.getChildNodes(s)]);if(t.length)r=t;else{const t=e.getStartNode();void 0!==t&&(r=e.getChildNodes(t.name),r.push(t.name))}}for(const n of r)o=null,s=e.nodes[n],!0!==s.disabled&&(a=e.nodeTypes.getByNameAndVersion(s.type,s.typeVersion),o=void 0===a?{typeUnknown:!0}:this.getNodeIssues(a.description,s,["execution"]),null!==o&&(i[s.name]=o));return 0===Object.keys(i).length?null:i},getNodeTypes(){const e={nodeTypes:{},init:async e=>{},getAll:()=>[],getByNameAndVersion:(e,t)=>{const s=this.$store.getters["nodeTypes/getNodeType"](e,t);if(null!==s)return{description:s,trigger:![n["db"],n["ad"]].includes(e)&&0===s.inputs.length&&!s.webhooks||void 0}}};return e},getCurrentWorkflow(e){const t=this.getNodes(),s=this.$store.getters.allConnections,n=JSON.stringify({nodes:t,connections:s});return!e&&h&&n===p?h:(p=n,this.getWorkflow(t,s,e))},getWorkflow(e,t,s){const o=this.getNodeTypes();let i=this.$store.getters.workflowId;i===n["Fc"]&&(i=void 0);const r=this.$store.getters.workflowName;return h=new a["Workflow"]({id:i,name:r,nodes:s?JSON.parse(JSON.stringify(e)):e,connections:s?JSON.parse(JSON.stringify(t)):t,active:!1,nodeTypes:o,settings:this.$store.getters.workflowSettings,pinData:this.$store.getters.pinData}),h},getWorkflowDataToSave(){const e=this.$store.getters.allNodes,t=this.$store.getters.allConnections;let s;const a=[];for(let n=0;n<e.length;n++){try{s=this.getNodeDataToSave(e[n])}catch(r){return Promise.reject(r)}a.push(s)}const o={name:this.$store.getters.workflowName,nodes:a,pinData:this.$store.getters.pinData,connections:t,active:this.$store.getters.isActive,settings:this.$store.getters.workflowSettings,tags:this.$store.getters.workflowTags},i=this.$store.getters.workflowId;return i!==n["Fc"]&&(o.id=i),Promise.resolve(o)},getNodeDataToSave(e){const t=["color","continueOnFail","credentials","disabled","issues","notes","parameters","status"],s={parameters:{}};for(const a in e)"_"!==a.charAt(0)&&-1===t.indexOf(a)&&(s[a]=e[a]);const n=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion);if(null!==n){const t=a["NodeHelpers"].getNodeParameters(n.properties,e.parameters,!1,!1,e);if(s.parameters=null!==t?t:{},void 0!==e.credentials&&void 0!==n.credentials){const t={};for(const s of Object.keys(e.credentials)){if(this.hasProxyAuth(e)||Object.keys(e.parameters).includes("genericAuthType")){t[s]=e.credentials[s];continue}const a=n.credentials.filter(t=>this.displayParameter(e.parameters,t,"",e)).find(e=>e.name===s);void 0!==a&&(!1!==this.displayParameter(e.parameters,a,"",e)&&(t[s]=e.credentials[s]))}0!==Object.keys(t).length&&(s.credentials=t)}}else s.credentials=e.credentials,s.parameters=e.parameters,void 0!==s.color&&(s.color=e.color);return!0===e.disabled&&(s.disabled=!0),!0===e.continueOnFail&&(s.continueOnFail=!0),[void 0,""].includes(e.notes)||(s.notes=e.notes),s},getWebhookExpressionValue(e,t){if(void 0===e[t])return"empty";try{return this.resolveExpression(e[t])}catch(s){return this.$locale.baseText("nodeWebhooks.invalidExpression")}},getWebhookUrl(e,t,s){if(!0===e.restartWebhook)return"$resumeWebhookUrl";let n=this.$store.getters.getWebhookUrl;"test"===s&&(n=this.$store.getters.getWebhookTestUrl);const o=this.$store.getters.workflowId,i=this.getWebhookExpressionValue(e,"path"),r=this.getWebhookExpressionValue(e,"isFullPath")||!1;return a["NodeHelpers"].getNodeWebhookUrl(n,o,t,i,r)},resolveParameter(e){const t=0,s="main",a=this.$store.getters.activeNode,o=this.getCurrentWorkflow(),i=o.getParentNodes(a.name,s,1),r=this.$store.getters.getWorkflowExecution,l=this.$store.getters.getWorkflowRunData;let c=0;if(null!==l&&i.length){const e=i.find(e=>l[e]);e&&(c=l[e].length-1)}const d=o.getNodeConnectionIndexes(a.name,i[0]);let u,p=this.connectionInputData(i,a.name,s,c,d);u=null!==r&&r.data?r.data:{resultData:{runData:{}}},i.forEach(e=>{const t=this.$store.getters["pinDataByNodeName"](e);t&&(u={...u,resultData:{...u.resultData,runData:{...u.resultData.runData,[e]:[{startTime:(new Date).valueOf(),executionTime:0,source:[],data:{main:[t.map(e=>({json:e}))]}}]}}})}),null===p&&(p=[]);const h={$executionId:n["Gc"],$resumeWebhookUrl:n["Gc"]};let m=0;null!==l&&l[a.name]&&(m=l[a.name].length-1);const g=this.executeData(i,a.name,s,m);return o.expression.getParameterValue(e,u,m,t,a.name,p,"manual",this.$store.getters.timezone,h,g,!1)},resolveExpression(e,t={}){const s={__xxxxxxx__:e,...t},n=this.resolveParameter(s);if("object"===typeof n["__xxxxxxx__"]){const e=this.getCurrentWorkflow();return e.expression.convertObjectValueToString(n["__xxxxxxx__"])}return n["__xxxxxxx__"]},async updateWorkflow({workflowId:e,active:t}){let s={};const n=e===this.$store.getters.workflowId;n&&(s=await this.getWorkflowDataToSave()),void 0!==t&&(s.active=t);const a=await this.restApi().updateWorkflow(e,s);n&&(this.$store.commit("setActive",!!a.active),this.$store.commit("setStateDirty",!1)),a.active?this.$store.commit("setWorkflowActive",e):this.$store.commit("setWorkflowInactive",e)},async saveCurrentWorkflow({name:e,tags:t}={},s=!0){const n=this.$route.params.name;if(!n)return this.saveAsNewWorkflow({name:e,tags:t},s);try{this.$store.commit("addActiveAction","workflowSaving");const s=await this.getWorkflowDataToSave();e&&(s.name=e.trim()),t&&(s.tags=t);const a=await this.restApi().updateWorkflow(n,s);if(e&&this.$store.commit("setWorkflowName",{newName:a.name}),t){const e=a.tags||[],t=e.map(e=>e.id);this.$store.commit("setWorkflowTagIds",t)}return this.$store.commit("setStateDirty",!1),this.$store.commit("removeActiveAction","workflowSaving"),this.$externalHooks().run("workflow.afterUpdate",{workflowData:a}),!0}catch(a){return this.$store.commit("removeActiveAction","workflowSaving"),this.$showMessage({title:this.$locale.baseText("workflowHelpers.showMessage.title"),message:a.message,type:"error"}),!1}},async saveAsNewWorkflow({name:e,tags:t,resetWebhookUrls:s,resetNodeIds:a,openInNewWindow:o}={},i=!0){try{this.$store.commit("addActiveAction","workflowSaving");const r=await this.getWorkflowDataToSave();r.active=!1;const l={};a&&(r.nodes=r.nodes.map(e=>(e.id=Object(u["a"])(),e))),s&&(r.nodes=r.nodes.map(e=>(e.webhookId&&(e.webhookId=Object(u["a"])(),l[e.name]=e.webhookId),e))),e&&(r.name=e.trim()),t&&(r.tags=t);const c=await this.restApi().createNewWorkflow(r);if(o){const e=this.$router.resolve({name:n["ud"].WORKFLOW,params:{name:c.id}});return window.open(e.href,"_blank"),this.$store.commit("removeActiveAction","workflowSaving"),!0}this.$store.commit("setActive",c.active||!1),this.$store.commit("setWorkflowId",c.id),this.$store.commit("setWorkflowName",{newName:c.name,setStateDirty:!1}),this.$store.commit("setWorkflowSettings",c.settings||{}),this.$store.commit("setStateDirty",!1),Object.keys(l).forEach(e=>{const t={key:"webhookId",value:l[e],name:e};this.$store.commit("setNodeValue",t)});const d=c.tags||[],p=d.map(e=>e.id);this.$store.commit("setWorkflowTagIds",p);const h=this.$route.query.templateId;return h&&this.$telemetry.track("User saved new workflow from template",{template_id:h,workflow_id:c.id,wf_template_repo_session_id:this.$store.getters["templates/previousSessionId"]}),i&&this.$router.push({name:n["ud"].WORKFLOW,params:{name:c.id,action:"workflowSave"}}),this.$store.commit("removeActiveAction","workflowSaving"),this.$store.commit("setStateDirty",!1),this.$externalHooks().run("workflow.afterUpdate",{workflowData:c}),!0}catch(r){return this.$store.commit("removeActiveAction","workflowSaving"),this.$showMessage({title:this.$locale.baseText("workflowHelpers.showMessage.title"),message:r.message,type:"error"}),!1}},updateNodePositions(e,t){if(void 0===e.nodes)return;const s=[99999999,99999999];for(const a of e.nodes)(a.position[1]<s[1]||a.position[1]===s[1]&&a.position[0]<s[0])&&(s[0]=a.position[0],s[1]=a.position[1]);const n=[t[0]-s[0],t[1]-s[1]];for(const a of e.nodes)a.position[0]+=n[0],a.position[1]+=n[1]},async dataHasChanged(e){const t=await this.getWorkflowDataToSave(),s=await this.restApi().getWorkflow(e);if(void 0!==s){const e={nodes:s.nodes,connections:s.connections,settings:s.settings,name:s.name},n={nodes:t.nodes,connections:t.connections,settings:t.settings,name:t.name};return!Object(c["isEqual"])(e,n)}return!0}}})},d412:function(e,t,s){e.exports={infoIcon:"RunData_infoIcon_28KCm",center:"RunData_center_1rGs7",container:"RunData_container_1D35L","pinned-data-callout":"RunData_pinned-data-callout_mZgP9",header:"RunData_header_3e6gI","data-container":"RunData_data-container_3sAYQ","actions-group":"RunData_actions-group_3SDRU","copy-dropdown-open":"RunData_copy-dropdown-open_ITwhK",dataDisplay:"RunData_dataDisplay_2BOY9",errorDisplay:"RunData_errorDisplay_3G8jr RunData_dataDisplay_2BOY9",jsonDisplay:"RunData_jsonDisplay_23jE_ RunData_dataDisplay_2BOY9",tabs:"RunData_tabs_3VDBu",itemsCount:"RunData_itemsCount_318n9",runSelector:"RunData_runSelector_QTKUc",pagination:"RunData_pagination_mdh6X",binaryIndex:"RunData_binaryIndex_2agy8",binaryRow:"RunData_binaryRow_1bh_6",binaryCell:"RunData_binaryCell__KitF",binaryHeader:"RunData_binaryHeader_3gn96",binaryButtonContainer:"RunData_binaryButtonContainer_3HYy_",binaryValue:"RunData_binaryValue_2b4ci",pageSizeSelector:"RunData_pageSizeSelector_3OTXA",displayModes:"RunData_displayModes_3VkaB","tooltip-container":"RunData_tooltip-container_3exVR","pin-data-button":"RunData_pin-data-button_17VnE",spinner:"RunData_spinner_15Uej","edit-mode":"RunData_edit-mode_2U6be","edit-mode-body":"RunData_edit-mode-body_1zP1V","edit-mode-footer":"RunData_edit-mode-footer_3-BT3","edit-mode-footer-infotip":"RunData_edit-mode-footer-infotip_eg7UX","edit-mode-actions":"RunData_edit-mode-actions_1Qtx6",stretchVertically:"RunData_stretchVertically_2xmOs"}},d4bd:function(e,t,s){"use strict";var n=s("a147"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},d4cb:function(e,t,s){"use strict";var n=s("2553"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},d62a:function(e,t,s){"use strict";var n=s("bd4f"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},d7d2:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n=e=>void 0!==e.modes&&1===e.modes.length&&"list"===e.modes[0].name},d87a:function(e,t,s){e.exports={buttonsContainer:"OnboardingCallSignupModal_buttonsContainer_1pvp6"}},d8b7:function(e,t,s){"use strict";s("22a2")},d8f7:function(e,t,s){"use strict";s("a6cb")},d996:function(e,t,s){"use strict";var n=s("eac3"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},da52:function(e,t,s){"use strict";var n=s("57e6"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},daf0:function(e,t,s){e.exports={"gift-icon":"GiftNotificationIcon_gift-icon_3fgdv",notification:"GiftNotificationIcon_notification_2lElS"}},dbd9:function(e,t,s){},dc0b:function(e,t,s){"use strict";var n=s("daf0"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},de2a:function(e,t,s){"use strict";var n=s("27b4"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},de96:function(e,t,s){"use strict";var n=s("5d9d"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},debe:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return o}));var n=s("9869");async function a(e,t,s){if(!window.n8nExternalHooks)return;const[n,a]=e.split(".");if(window.n8nExternalHooks[n]&&window.n8nExternalHooks[n][a]){const e=window.n8nExternalHooks[n][a];for(const n of e)await n(t,s)}}const o=n["default"].extend({methods:{$externalHooks(){return{run:async(e,t)=>{await a.call(this,e,this.$store,t)}}}}})},df0b:function(e,t,s){},e0e2:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.credentialTypesNodeDescriptionDisplayed.length?s("div",{class:["node-credentials",e.$style.container]},e._l(e.credentialTypesNodeDescriptionDisplayed,(function(t){return s("div",{key:t.name},[s("n8n-input-label",{attrs:{label:e.$locale.baseText("nodeCredentials.credentialFor",{interpolate:{credentialType:e.credentialTypeNames[t.name]}}),bold:!1,set:e.issues=e.getIssues(t.name),size:"small"}},[e.isReadOnly?s("div",[s("n8n-input",{attrs:{value:e.selected&&e.selected[t.name]&&e.selected[t.name].name,disabled:"",size:"small"}})],1):s("div",{class:e.issues.length?e.$style.hasIssues:e.$style.input},[s("n8n-select",{attrs:{value:e.getSelectedId(t.name),placeholder:e.$locale.baseText("nodeCredentials.selectCredential"),size:"small"},on:{change:function(s){return e.onCredentialSelected(t.name,s)}}},[e._l(e.getCredentialOptions(t.name),(function(e){return s("n8n-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),s("n8n-option",{key:e.NEW_CREDENTIALS_TEXT,attrs:{value:e.NEW_CREDENTIALS_TEXT,label:e.NEW_CREDENTIALS_TEXT}})],2),e.issues.length?s("div",{class:e.$style.warning},[s("n8n-tooltip",{attrs:{placement:"top"}},[s("titled-list",{attrs:{slot:"content",title:e.$locale.baseText("nodeCredentials.issues")+":",items:e.issues},slot:"content"}),s("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1)],1):e._e(),e.selected[t.name]&&e.isCredentialExisting(t.name)?s("div",{class:e.$style.edit},[s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"pen",title:e.$locale.baseText("nodeCredentials.updateCredential")},on:{click:function(s){return e.editCredential(t.name)}}})],1):e._e()],1)])],1)})),0):e._e()},a=[],o=s("7b04"),i=s("4971"),r=s("6fae"),l=s("77f0"),c=s("d1e0"),d=s("9ce4"),u=s("aaf5"),p=s("be18"),h=Object(u["a"])(i["a"],r["a"],o["a"],l["a"]).extend({name:"NodeCredentials",props:["node","overrideCredType"],components:{TitledList:c["a"]},data(){return{NEW_CREDENTIALS_TEXT:`- ${this.$locale.baseText("nodeCredentials.createNew")} -`,newCredentialUnsubscribe:null}},computed:{...Object(d["b"])("users",["currentUser"]),...Object(d["b"])("credentials",{allCredentialsByType:"allCredentialsByType",getCredentialTypeByName:"getCredentialTypeByName"}),credentialTypesNode(){return this.credentialTypesNodeDescription.map(e=>e.name)},credentialTypesNodeDescriptionDisplayed(){return this.credentialTypesNodeDescription.filter(e=>this.displayCredentials(e))},credentialTypesNodeDescription(){const e=this.node,t=this.getCredentialTypeByName(this.overrideCredType);if(t)return[t];const s=this.$store.getters["nodeTypes/getNodeType"](e.type,e.typeVersion);return s&&s.credentials?s.credentials:[]},credentialTypeNames(){const e={};let t;for(const s of this.credentialTypesNode)t=this.$store.getters["credentials/getCredentialTypeByName"](s),e[s]=null!==t?t.displayName:s;return e},selected(){return this.node.credentials||{}}},methods:{getCredentialOptions(e){return this.allCredentialsByType[e].filter(e=>{const t=Object(p["a"])(this.currentUser,e,this.$store);return t.use})},getSelectedId(e){if(this.isCredentialExisting(e))return this.selected[e].id},credentialInputWrapperStyle(e){let t=0;const s={width:"100%"};return this.getIssues(e).length&&(t+=20),0!==t&&(s.width=`calc(100% - ${t}px)`),s},listenForNewCredentials(e){this.stopListeningForNewCredentials(),this.newCredentialUnsubscribe=this.$store.subscribe((t,s)=>{"credentials/upsertCredential"!==t.type&&"credentials/enableOAuthCredential"!==t.type||this.onCredentialSelected(e,t.payload.id),"credentials/deleteCredential"===t.type&&(this.clearSelectedCredential(e),this.stopListeningForNewCredentials())})},stopListeningForNewCredentials(){this.newCredentialUnsubscribe&&this.newCredentialUnsubscribe()},clearSelectedCredential(e){const t=this.node,s={...t.credentials||{}};delete s[e];const n={name:this.node.name,properties:{credentials:s}};this.$emit("credentialSelected",n)},onCredentialSelected(e,t){if(t===this.NEW_CREDENTIALS_TEXT)return this.listenForNewCredentials(e),this.$store.dispatch("ui/openNewCredential",{type:e}),void this.$telemetry.track("User opened Credential modal",{credential_type:e,source:"node",new_credential:!0,workflow_id:this.$store.getters.workflowId});this.$telemetry.track("User selected credential from node modal",{credential_type:e,node_type:this.node.type,...this.hasProxyAuth(this.node)?{is_service_specific:!0}:{},workflow_id:this.$store.getters.workflowId,credential_id:t});const s=this.$store.getters["credentials/getCredentialById"](t),n=this.node.credentials&&this.node.credentials[e]?this.node.credentials[e]:{},a={id:s.id,name:s.name};(null===n.id||n.id&&!this.$store.getters["credentials/getCredentialByIdAndType"](n.id,e))&&(this.$store.commit("replaceInvalidWorkflowCredentials",{credentials:a,invalid:n,type:e}),this.updateNodesCredentialsIssues(),this.$showMessage({title:this.$locale.baseText("nodeCredentials.showMessage.title"),message:this.$locale.baseText("nodeCredentials.showMessage.message",{interpolate:{oldCredentialName:n.name,newCredentialName:a.name}}),type:"success"}));const o=this.node,i={...o.credentials||{},[e]:a},r={name:this.node.name,properties:{credentials:i}};this.$emit("credentialSelected",r)},displayCredentials(e){return void 0===e.displayOptions||this.displayParameter(this.node.parameters,e,"",this.node)},getIssues(e){const t=this.node;return void 0===t.issues||void 0===t.issues.credentials?[]:t.issues.credentials.hasOwnProperty(e)?t.issues.credentials[e]:[]},isCredentialExisting(e){if(!this.node.credentials||!this.node.credentials[e]||!this.node.credentials[e].id)return!1;const{id:t}=this.node.credentials[e],s=this.getCredentialOptions(e);return!!s.find(e=>e.id===t)},editCredential(e){const{id:t}=this.node.credentials[e];this.$store.dispatch("ui/openExistingCredential",{id:t}),this.$telemetry.track("User opened Credential modal",{credential_type:e,source:"node",new_credential:!1,workflow_id:this.$store.getters.workflowId}),this.listenForNewCredentials(e)}},beforeDestroy(){this.stopListeningForNewCredentials()}}),m=h,g=s("a10d"),f=s("2be6");function w(e){this["$style"]=g["default"].locals||g["default"]}var y=Object(f["a"])(m,n,a,!1,w,null,null);t["a"]=y.exports},e3ff:function(e,t,s){e.exports={"card-link":"CredentialCard_card-link_1gpnX","card-heading":"CredentialCard_card-heading_2rJlM","card-actions":"CredentialCard_card-actions_2YcyI"}},e854:function(e,t,s){"use strict";var n=s("9c71"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},e89f:function(e,t,s){},e8d2:function(e,t,s){"use strict";s("99ee")},e93f:function(e,t,s){},e97f:function(e,t,s){e.exports={container:"AuthView_container_3aunR",logoContainer:"AuthView_logoContainer_3aYS8",textContainer:"AuthView_textContainer_3c1xk",formContainer:"AuthView_formContainer_2-Ukr"}},eac3:function(e,t,s){e.exports={container:"SettingsUsersView_container_2xN4S",usersContainer:"SettingsUsersView_usersContainer_pRTl7",buttonContainer:"SettingsUsersView_buttonContainer_VpWkj",setupInfoContainer:"SettingsUsersView_setupInfoContainer_3wMbW",alert:"SettingsUsersView_alert_1vUAc"}},eb25:function(e,t,s){"use strict";s("c21f")},eb49:function(e,t,s){"use strict";var n=s("5346"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},eccd:function(e){e.exports=JSON.parse('{"_reusableBaseText.cancel":"Cancel","_reusableBaseText.name":"Name","_reusableBaseText.save":"Save","_reusableDynamicText.readMore":"Read more","_reusableDynamicText.learnMore":"Learn more","_reusableDynamicText.moreInfo":"More info","_reusableDynamicText.oauth2.clientId":"Client ID","_reusableDynamicText.oauth2.clientSecret":"Client Secret","generic.learnMore":"Learn more","generic.confirm":"Confirm","generic.cancel":"Cancel","generic.communityNode":"Community Node","generic.communityNode.tooltip":"This is a node from our community. It\'s part of the {packageName} package. <a href=\\"{docURL}\\" target=\\"_blank\\" title=\\"Read the n8n docs\\">Learn more</a>","generic.delete":"Delete","generic.copy":"Copy","generic.or":"or","generic.clickToCopy":"Click to copy","generic.copiedToClipboard":"Copied to clipboard","generic.beta":"beta","generic.yes":"Yes","generic.no":"No","about.aboutN8n":"About n8n","about.close":"Close","about.license":"License","about.n8nLicense":"Sustainable Use License + n8n Enterprise License","about.n8nVersion":"n8n Version","about.sourceCode":"Source Code","about.instanceID":"Instance ID","activationModal.butYouCanSeeThem":"but you can see them in the","activationModal.dontShowAgain":"Don\'t show again","activationModal.executionList":"execution list","activationModal.gotIt":"Got it","activationModal.ifYouChooseTo":"if you choose to","activationModal.saveExecutions":"save executions.","activationModal.theseExecutionsWillNotShowUp":"These executions will not show up immediately in the editor,","activationModal.workflowActivated":"Workflow activated","activationModal.yourTriggerWillNowFire":"Your trigger will now fire production executions automatically.","activationModal.yourTriggersWillNowFire":"Your triggers will now fire production executions automatically.","activationModal.yourWorkflowWillNowListenForEvents":"Your workflow will now listen for events from {serviceName} and trigger executions.","activationModal.yourWorkflowWillNowRegularlyCheck":"Your workflow will now regularly check {serviceName} for events and trigger executions for them.","auth.changePassword":"Change Password","auth.changePassword.currentPassword":"Current Password","auth.changePassword.error":"Problem changing the password","auth.changePassword.missingTokenError":"Missing token","auth.changePassword.missingUserIdError":"Missing user ID","auth.changePassword.passwordUpdated":"Password updated","auth.changePassword.passwordUpdatedMessage":"You can now sign in with your new password","auth.changePassword.passwordsMustMatchError":"Passwords must match","auth.changePassword.reenterNewPassword":"Re-enter New Password","auth.changePassword.tokenValidationError":"Issue validating invite token","auth.defaultPasswordRequirements":"8+ characters, at least 1 number and 1 capital letter","auth.email":"Email","auth.firstName":"First Name","auth.lastName":"Last Name","auth.newPassword":"New Password","auth.password":"Password","auth.role":"Role","auth.roles.member":"Member","auth.roles.owner":"Owner","auth.agreement.label":"Id be OK sharing my opinion on n8n (no marketing emails though)","auth.setup.confirmOwnerSetup":"Set up owner account?","auth.setup.confirmOwnerSetupMessage":"To give others access to your <b>{entities}</b>, youll need to share these account details with them. Or you can continue as before with no account, by going back and skipping this setup. <a href=\\"https://docs.n8n.io/reference/user-management.html\\" target=\\"_blank\\">More info</a>","auth.setup.createAccount":"Create account","auth.setup.goBack":"Go back","auth.setup.next":"Next","auth.setup.ownerAccountBenefits":"Setting up an owner account allows you to invite others, and prevents people using n8n without an account","auth.setup.settingUpOwnerError":"Problem setting up owner","auth.setup.setupConfirmation.concatEntities":"{workflows} and {credentials}","auth.setup.setupConfirmation.credentials":"{count} credential | {count} credentials","auth.setup.setupConfirmation.existingWorkflows":"{count} existing workflow | {count} existing workflows","auth.setup.setupOwner":"Set up owner account","auth.setup.skipOwnerSetupQuestion":"Skip owner account setup?","auth.setup.skipSetup":"Skip setup","auth.setup.skipSetupTemporarily":"Skip setup for now","auth.signin":"Sign in","auth.signin.error":"Problem logging in","auth.signout":"Sign out","auth.signout.error":"Could not sign out","auth.signup.finishAccountSetup":"Finish account setup","auth.signup.missingTokenError":"Missing token","auth.signup.setupYourAccount":"Set up your account","auth.signup.setupYourAccountError":"Problem setting up your account","auth.signup.tokenValidationError":"Issue validating invite token","binaryDataDisplay.backToList":"Back to list","binaryDataDisplay.backToOverviewPage":"Back to overview page","binaryDataDisplay.noDataFoundToDisplay":"No data found to display","binaryDataDisplay.yourBrowserDoesNotSupport":"Your browser does not support the video element. Kindly update it to latest version.","codeEdit.edit":"Edit","collectionParameter.choose":"Choose...","collectionParameter.noProperties":"No properties","credentialEdit.credentialConfig.accountConnected":"Account connected","credentialEdit.credentialConfig.clickToCopy":"Click To Copy","credentialEdit.credentialConfig.connectionTestedSuccessfully":"Connection tested successfully","credentialEdit.credentialConfig.couldntConnectWithTheseSettings":"Couldnt connect with these settings","credentialEdit.credentialConfig.needHelpFillingOutTheseFields":"Need help filling out these fields?","credentialEdit.credentialConfig.oAuthRedirectUrl":"OAuth Redirect URL","credentialEdit.credentialConfig.openDocs":"Open docs","credentialEdit.credentialConfig.pleaseCheckTheErrorsBelow":"Please check the errors below","credentialEdit.credentialConfig.reconnect":"Reconnect","credentialEdit.credentialConfig.reconnectOAuth2Credential":"Reconnect OAuth2 Credential","credentialEdit.credentialConfig.redirectUrlCopiedToClipboard":"Redirect URL copied to clipboard","credentialEdit.credentialConfig.retry":"Retry","credentialEdit.credentialConfig.retryCredentialTest":"Retry credential test","credentialEdit.credentialConfig.retrying":"Retrying","credentialEdit.credentialConfig.subtitle":"In {appName}, use the URL above when prompted to enter an OAuth callback or redirect URL","credentialEdit.credentialConfig.theServiceYouReConnectingTo":"the service you\'re connecting to","credentialEdit.credentialConfig.missingCredentialType":"This credential\'s type isn\'t available. This usually happens when a previously installed community or custom node was uninstalled.","credentialEdit.credentialEdit.confirmMessage.beforeClose1.cancelButtonText":"Keep Editing","credentialEdit.credentialEdit.confirmMessage.beforeClose1.confirmButtonText":"Close","credentialEdit.credentialEdit.confirmMessage.beforeClose1.headline":"Close without saving?","credentialEdit.credentialEdit.confirmMessage.beforeClose1.message":"Are you sure you want to throw away the changes you made to the {credentialDisplayName} credential?","credentialEdit.credentialEdit.confirmMessage.beforeClose2.cancelButtonText":"Keep Editing","credentialEdit.credentialEdit.confirmMessage.beforeClose2.confirmButtonText":"Close","credentialEdit.credentialEdit.confirmMessage.beforeClose2.headline":"Close without connecting?","credentialEdit.credentialEdit.confirmMessage.beforeClose2.message":"You need to connect your credential for it to work","credentialEdit.credentialEdit.confirmMessage.deleteCredential.cancelButtonText":"","credentialEdit.credentialEdit.confirmMessage.deleteCredential.confirmButtonText":"Yes, delete","credentialEdit.credentialEdit.confirmMessage.deleteCredential.headline":"Delete Credential?","credentialEdit.credentialEdit.confirmMessage.deleteCredential.message":"Are you sure you want to delete \\"{savedCredentialName}\\"? This may break any workflows that use it.","credentialEdit.credentialEdit.connection":"Connection","credentialEdit.credentialEdit.sharing":"Sharing","credentialEdit.credentialEdit.couldNotFindCredentialOfType":"Could not find credential of type","credentialEdit.credentialEdit.couldNotFindCredentialWithId":"Could not find credential with ID","credentialEdit.credentialEdit.delete":"Delete","credentialEdit.credentialEdit.details":"Details","credentialEdit.credentialEdit.saving":"Saving","credentialEdit.credentialEdit.showError.createCredential.title":"Problem creating credential","credentialEdit.credentialEdit.showError.deleteCredential.title":"Problem deleting credential","credentialEdit.credentialEdit.showError.generateAuthorizationUrl.message":"There was a problem generating the authorization URL","credentialEdit.credentialEdit.showError.generateAuthorizationUrl.title":"OAuth Authorization Error","credentialEdit.credentialEdit.showError.loadCredential.title":"Problem loading credential","credentialEdit.credentialEdit.showError.updateCredential.title":"Problem updating credential","credentialEdit.credentialEdit.showMessage.title":"Credential deleted","credentialEdit.credentialEdit.testing":"Testing","credentialEdit.credentialEdit.info.sharee":"Only {credentialOwnerName} can edit this connection","credentialEdit.credentialInfo.allowUseBy":"Allow use by","credentialEdit.credentialInfo.created":"Created","credentialEdit.credentialInfo.id":"ID","credentialEdit.credentialInfo.lastModified":"Last modified","credentialEdit.oAuthButton.connectMyAccount":"Connect my account","credentialEdit.oAuthButton.signInWithGoogle":"Sign in with Google","credentialEdit.credentialSharing.info.owner":"Sharing a credential allows people to use it in their workflows. They cannot access credential details.","credentialEdit.credentialSharing.info.instanceOwner":"You have access to this credential because youre the Instance Owner. You can view partial data, update the credential title, or delete the credential.","credentialEdit.credentialSharing.info.sharee":"Only {credentialOwnerName} can change who this credential is shared with","credentialEdit.credentialSharing.info.sharee.fallback":"the owner","credentialEdit.credentialSharing.select.placeholder":"Add people","credentialEdit.credentialSharing.list.delete":"Remove","credentialEdit.credentialSharing.list.delete.confirm.title":"Remove access?","credentialEdit.credentialSharing.list.delete.confirm.message":"This may break any workflows in which {name} has used this credential","credentialEdit.credentialSharing.list.delete.confirm.confirmButtonText":"Remove","credentialEdit.credentialSharing.list.delete.confirm.cancelButtonText":"Cancel","credentialSelectModal.addNewCredential":"Add new credential","credentialSelectModal.continue":"Continue","credentialSelectModal.searchForApp":"Search for app...","credentialSelectModal.selectAnAppOrServiceToConnectTo":"Select an app or service to connect to","credentialsList.addNew":"Add New","credentialsList.confirmMessage.cancelButtonText":"","credentialsList.confirmMessage.confirmButtonText":"Yes, delete","credentialsList.confirmMessage.headline":"Delete Credential?","credentialsList.confirmMessage.message":"Are you sure you want to delete {credentialName}?","credentialsList.createNewCredential":"Create New Credential","credentialsList.created":"Created","credentialsList.credentials":"Credentials","credentialsList.deleteCredential":"Delete Credential","credentialsList.editCredential":"Edit Credential","credentialsList.errorLoadingCredentials":"Error loading credentials","credentialsList.name":"@:_reusableBaseText.name","credentialsList.operations":"Operations","credentialsList.showError.deleteCredential.title":"Problem deleting credential","credentialsList.showMessage.title":"Credential deleted","credentialsList.type":"Type","credentialsList.updated":"Updated","credentialsList.yourSavedCredentials":"Your saved credentials","credentials.heading":"Credentials","credentials.add":"Add Credential","credentials.empty.heading":"{name}, let\'s set up a credential","credentials.empty.heading.userNotSetup":"Set up a credential","credentials.empty.description":"Credentials let workflows interact with your apps and services","credentials.empty.button":"Add first credential","credentials.menu.myCredentials":"My credentials","credentials.menu.allCredentials":"All credentials","credentials.item.open":"Open","credentials.item.delete":"Delete","credentials.item.updated":"Last updated","credentials.item.created":"Created","credentials.item.owner":"Owner","credentials.search.placeholder":"Search credentials...","credentials.filters":"Filters","credentials.filters.type":"Type","credentials.filters.ownedBy":"Owned by","credentials.filters.sharedWith":"Shared with","credentials.filters.apply":"Apply filters","credentials.filters.reset":"Reset all","credentials.filters.active":"Some credentials may be hidden since filters are applied.","credentials.filters.active.reset":"Remove filters","credentials.sort.lastUpdated":"Sort by last updated","credentials.sort.lastCreated":"Sort by last created","credentials.sort.nameAsc":"Sort by name (A-Z)","credentials.sort.nameDesc":"Sort by name (Z-A)","credentials.noResults":"No credentials found","credentials.noResults.withSearch.switchToShared.preamble":"some credentials may be","credentials.noResults.withSearch.switchToShared.link":"hidden","credentials.noResults.switchToShared.preamble":"but there are some","credentials.noResults.switchToShared.link":"shared with you","dataDisplay.needHelp":"Need help?","dataDisplay.nodeDocumentation":"Node Documentation","dataDisplay.openDocumentationFor":"Open {nodeTypeDisplayName} documentation","dataMapping.dragColumnToFieldHint":"Drag onto a field to map column to that field","dataMapping.dragFromPreviousHint":"Map data from previous nodes to <b>{name}</b><br/> by first clicking this button","dataMapping.success.title":"You just mapped some data!","dataMapping.success.moreInfo":"Check out our <a href=\\"https://docs.n8n.io/data/data-mapping\\" target=\\"_blank\\">docs</a> for more details on mapping data in n8n","dataMapping.tableHint":"<img src=\'/static/data-mapping-gif.gif\'/> Drag a column onto <b>{name}</b> to map it","dataMapping.mapSpecificColumnToField":"Map \'{name}\' to a field","dataMapping.mapAllKeysToField":"Map every \'{name}\' to a field","displayWithChange.cancelEdit":"Cancel Edit","displayWithChange.clickToChange":"Click to Change","displayWithChange.setValue":"Set Value","duplicateWorkflowDialog.cancel":"@:_reusableBaseText.cancel","duplicateWorkflowDialog.chooseOrCreateATag":"Choose or create a tag","duplicateWorkflowDialog.duplicateWorkflow":"Duplicate Workflow","duplicateWorkflowDialog.enterWorkflowName":"Enter workflow name","duplicateWorkflowDialog.save":"@:_reusableBaseText.save","duplicateWorkflowDialog.showMessage.message":"Please enter a name.","duplicateWorkflowDialog.showMessage.title":"Name missing","error":"Error","error.goBack":"Go back","error.pageNotFound":"Oops, couldnt find that","executionDetails.executionFailed":"Execution failed","executionDetails.executionId":"Execution ID","executionDetails.executionWaiting":"Execution waiting","executionDetails.executionWasSuccessful":"Execution was successful","executionDetails.of":"of","executionDetails.openWorkflow":"Open Workflow","executionDetails.readOnly.readOnly":"Read only","executionDetails.readOnly.youreViewingTheLogOf":"You\'re viewing the log of a previous execution. You cannot<br />\\n\\t\\tmake changes since this execution already occurred. Make changes<br />\\n\\t\\tto this workflow by clicking on its name on the left.","executionDetails.workflow":"workflow","executionsList.allWorkflows":"All Workflows","executionsList.anyStatus":"Any Status","executionsList.autoRefresh":"Auto refresh","executionsList.confirmMessage.cancelButtonText":"","executionsList.confirmMessage.confirmButtonText":"Yes, delete","executionsList.confirmMessage.headline":"Delete Executions?","executionsList.confirmMessage.message":"Are you sure that you want to delete the {numSelected} selected execution(s)?","executionsList.deleteSelected":"Delete Selected","executionsList.error":"Error","executionsList.filters":"Filters","executionsList.loadMore":"Load More","executionsList.mode":"Mode","executionsList.modes.error":"error","executionsList.modes.integrated":"integrated","executionsList.modes.manual":"manual","executionsList.modes.retry":"retry","executionsList.modes.trigger":"trigger","executionsList.modes.webhook":"webhook","executionsList.name":"@:_reusableBaseText.name","executionsList.openPastExecution":"Open Past Execution","executionsList.retryExecution":"Retry execution","executionsList.retryOf":"Retry of","executionsList.retryWithCurrentlySavedWorkflow":"Retry with currently saved workflow","executionsList.retryWithOriginalworkflow":"Retry with original workflow","executionsList.running":"Running","executionsList.runningTime":"Running Time","executionsList.selectStatus":"Select Status","executionsList.selectWorkflow":"Select Workflow","executionsList.selected":"Selected","executionsList.showError.handleDeleteSelected.title":"Problem deleting executions","executionsList.showError.loadMore.title":"Problem loading executions","executionsList.showError.loadWorkflows.title":"Problem loading workflows","executionsList.showError.refreshData.title":"Problem loading data","executionsList.showError.retryExecution.title":"Problem with retry","executionsList.showError.stopExecution.title":"Problem stopping execution","executionsList.showMessage.handleDeleteSelected.title":"Execution deleted","executionsList.showMessage.retrySuccessfulFalse.title":"Retry unsuccessful","executionsList.showMessage.retrySuccessfulTrue.title":"Retry successful","executionsList.showMessage.stopExecution.message":"Execution ID {activeExecutionId}","executionsList.showMessage.stopExecution.title":"Execution stopped","executionsList.startedAtId":"Started At / ID","executionsList.status":"Status","executionsList.statusTooltipText.theWorkflowExecutionFailed":"The workflow execution failed.","executionsList.statusTooltipText.theWorkflowExecutionFailedButTheRetryWasSuccessful":"The workflow execution failed but the retry {entryRetrySuccessId} was successful.","executionsList.statusTooltipText.theWorkflowExecutionIsProbablyStillRunning":"The workflow execution is probably still running but it may have crashed and n8n cannot safely tell. ","executionsList.statusTooltipText.theWorkflowExecutionWasARetryOfAndFailed":"The workflow execution was a retry of {entryRetryOf} and failed.<br />New retries have to be started from the original execution.","executionsList.statusTooltipText.theWorkflowExecutionWasARetryOfAndItWasSuccessful":"The workflow execution was a retry of {entryRetryOf} and it was successful.","executionsList.statusTooltipText.theWorkflowExecutionWasSuccessful":"The worklow execution was successful.","executionsList.statusTooltipText.theWorkflowIsCurrentlyExecuting":"The worklow is currently executing.","executionsList.statusTooltipText.theWorkflowIsWaitingIndefinitely":"The workflow is waiting indefinitely for an incoming webhook call.","executionsList.statusTooltipText.theWorkflowIsWaitingTill":"The worklow is waiting till {waitDateDate} {waitDateTime}.","executionsList.stopExecution":"Stop Execution","executionsList.success":"Success","executionsList.successRetry":"Success retry","executionsList.unknown":"Unknown","executionsList.unsavedWorkflow":"[UNSAVED WORKFLOW]","executionsList.waiting":"Waiting","executionsList.workflowExecutions":"Workflow Executions","expressionEdit.editExpression":"Edit Expression","expressionEdit.expression":"Expression","expressionEdit.result":"Result","expressionEdit.variableSelector":"Variable Selector","fakeDoor.credentialEdit.sharing.name":"Sharing","fakeDoor.credentialEdit.sharing.actionBox.title":"Sharing is only available on <a href=\\"https://n8n.io/cloud/\\" target=\\"_blank\\">n8n Cloud</a> right now","fakeDoor.credentialEdit.sharing.actionBox.description":"Were working on bringing it to this edition of n8n, as a paid feature. If youd like to be the first to hear when its ready, join the list.","fakeDoor.credentialEdit.sharing.actionBox.title.cloud.upgrade":"Upgrade to add users","fakeDoor.credentialEdit.sharing.actionBox.description.cloud.upgrade":"Power and Pro plan users can create multiple user accounts and share credentials. (Sharing workflows is coming soon)","fakeDoor.credentialEdit.sharing.actionBox.button.cloud.upgrade":"Upgrade","fakeDoor.settings.environments.name":"Environments","fakeDoor.settings.environments.infoText":"Environments allow you to use different settings and credentials in a workflow when you\'re building it vs when it\'s running in production","fakeDoor.settings.environments.actionBox.title":"Were working on environments (as a paid feature)","fakeDoor.settings.environments.actionBox.title.cloud":"Were working on this","fakeDoor.settings.environments.actionBox.description":"If you\'d like to be the first to hear when it\'s ready, join the list.","fakeDoor.settings.logging.name":"Logging","fakeDoor.settings.logging.infoText":"You can already write logs to a file or the console using environment variables. <a href=\\"https://docs.n8n.io/hosting/logging/\\" target=\\"_blank\\">More info</a>","fakeDoor.settings.logging.actionBox.title":"We\'re working on advanced logging (as a paid feature)","fakeDoor.settings.logging.actionBox.title.cloud":"We\'re working on advanced logging","fakeDoor.settings.logging.actionBox.description":"This also includes audit logging. If you\'d like to be the first to hear when it\'s ready, join the list.","fakeDoor.settings.users.name":"Users","fakeDoor.settings.users.actionBox.title":"Upgrade to add users","fakeDoor.settings.users.actionBox.description":"Power and Pro plan users can create multiple user accounts and share credentials. (Sharing workflows is coming soon)","fakeDoor.settings.users.actionBox.button":"Upgrade","fakeDoor.actionBox.button.label":"Join the list","fixedCollectionParameter.choose":"Choose...","fixedCollectionParameter.currentlyNoItemsExist":"Currently no items exist","fixedCollectionParameter.deleteItem":"Delete item","fixedCollectionParameter.moveDown":"Move down","fixedCollectionParameter.moveUp":"Move up","forgotPassword":"Forgot my password","forgotPassword.emailSentIfExists":"Weve emailed {email} (if theres a matching account)","forgotPassword.getRecoveryLink":"Email me a recovery link","forgotPassword.noSMTPToSendEmailWarning":"Please contact your admin. n8n isnt set up to send email right now.","forgotPassword.recoverPassword":"Recover password","forgotPassword.recoveryEmailSent":"Recovery email sent","forgotPassword.returnToSignIn":"Back to sign in","forgotPassword.sendingEmailError":"Problem sending email","forgotPassword.smtpErrorContactAdministrator":"Please contact your administrator (problem with your SMTP setup)","generic.oauth1Api":"OAuth1 API","generic.oauth2Api":"OAuth2 API","genericHelpers.loading":"Loading","genericHelpers.min":"min","genericHelpers.sec":"sec","genericHelpers.showMessage.message":"This is a read-only version of the workflow. To make changes, either open the original workflow or save it under a new name.","genericHelpers.showMessage.title":"Workflow cannot be changed","mainSidebar.aboutN8n":"About n8n","mainSidebar.confirmMessage.workflowDelete.cancelButtonText":"","mainSidebar.confirmMessage.workflowDelete.confirmButtonText":"Yes, delete","mainSidebar.confirmMessage.workflowDelete.headline":"Delete Workflow?","mainSidebar.confirmMessage.workflowDelete.message":"Are you sure that you want to delete \'{workflowName}\'?","mainSidebar.confirmMessage.workflowNew.cancelButtonText":"Leave without saving","mainSidebar.confirmMessage.workflowNew.confirmButtonText":"Save","mainSidebar.confirmMessage.workflowNew.headline":"Save changes before leaving?","mainSidebar.confirmMessage.workflowNew.message":"If you don\'t save, you will lose your changes.","mainSidebar.credentials":"Credentials","mainSidebar.delete":"Delete","mainSidebar.download":"Download","mainSidebar.duplicate":"Duplicate","mainSidebar.executions":"Executions","mainSidebar.help":"Help","mainSidebar.helpMenuItems.course":"Course","mainSidebar.helpMenuItems.documentation":"Documentation","mainSidebar.helpMenuItems.forum":"Forum","mainSidebar.helpMenuItems.quickstart":"Quickstart","mainSidebar.importFromFile":"Import from File","mainSidebar.importFromUrl":"Import from URL","mainSidebar.new":"New","mainSidebar.newTemplate":"New from template","mainSidebar.open":"Open","mainSidebar.prompt.cancel":"@:_reusableBaseText.cancel","mainSidebar.prompt.import":"Import","mainSidebar.prompt.importWorkflowFromUrl":"Import Workflow from URL","mainSidebar.prompt.invalidUrl":"Invalid URL","mainSidebar.prompt.workflowUrl":"Workflow URL","mainSidebar.save":"@:_reusableBaseText.save","mainSidebar.settings":"Settings","mainSidebar.showError.stopExecution.title":"Problem stopping execution","mainSidebar.showMessage.handleFileImport.message":"The file does not contain valid JSON data","mainSidebar.showMessage.handleFileImport.title":"Could not import file","mainSidebar.showMessage.handleSelect1.title":"Workflow deleted","mainSidebar.showMessage.handleSelect2.title":"Workflow created","mainSidebar.showMessage.handleSelect3.title":"Workflow created","mainSidebar.showMessage.stopExecution.title":"Execution stopped","mainSidebar.templates":"Templates","mainSidebar.workflows":"Workflows","multipleParameter.addItem":"Add item","multipleParameter.currentlyNoItemsExist":"Currently no items exist","multipleParameter.deleteItem":"Delete item","multipleParameter.moveDown":"Move down","multipleParameter.moveUp":"Move up","ndv.backToCanvas":"Back to canvas","ndv.backToCanvas.waitingForTriggerWarning":"Waiting for a Trigger node to execute. Close this view to see the Workflow Canvas.","ndv.execute.executeNode":"Execute node","ndv.execute.executing":"Executing","ndv.execute.fetchEvent":"Fetch Test Event","ndv.execute.fixPrevious":"Fix previous node first","ndv.execute.listenForEvent":"Listen For Event","ndv.execute.listenForTestEvent":"Listen For Test Event","ndv.execute.stopListening":"Stop Listening","ndv.execute.nodeIsDisabled":"Enable node to execute","ndv.execute.requiredFieldsMissing":"Complete required fields first","ndv.execute.stopWaitingForWebhook.error":"Problem deleting test webhook","ndv.execute.workflowAlreadyRunning":"Workflow is already running","ndv.featureRequest":"I wish this node would...","ndv.input":"Input","ndv.input.nodeDistance":"({count} node back) | ({count} nodes back)","ndv.input.noNodesFound":"No nodes found","ndv.input.parentNodes":"Parent nodes","ndv.input.tooMuchData.title":"Input data is huge","ndv.input.noOutputDataInBranch":"No input data in this branch","ndv.input.noOutputDataInNode":"Node did not output any data. n8n stops executing the workflow when a node has no output data.","ndv.input.noOutputData":"No data","ndv.input.noOutputData.executePrevious":"Execute previous nodes","ndv.input.noOutputData.title":"No input data yet","ndv.input.noOutputData.hint":"(From the earliest node that has no output data yet)","ndv.input.executingPrevious":"Executing previous nodes...","ndv.input.notConnected.title":"Wire me up","ndv.input.notConnected.message":"This node can only receive input data if you connect it to another node.","ndv.input.notConnected.learnMore":"Learn more","ndv.input.disabled":"The \'{nodeName}\' node is disabled and wont execute.","ndv.input.disabled.cta":"Enable it","ndv.output":"Output","ndv.output.edit":"Edit Output","ndv.output.all":"all","ndv.output.branch":"Branch","ndv.output.executing":"Executing node...","ndv.output.items":"item | items","ndv.output.noOutputData.message":"n8n stops executing the workflow when a node has no output data. You can change this default behaviour via","ndv.output.noOutputData.message.settings":"Settings","ndv.output.noOutputData.message.settingsOption":"> Always Output Data.","ndv.output.noOutputData.title":"No output data returned","ndv.output.noOutputDataInBranch":"No output data in this branch","ndv.output.of":" of ","ndv.output.pageSize":"Page Size","ndv.output.run":"Run","ndv.output.runNodeHint":"Execute this node to output data","ndv.output.insertTestData":"insert test data","ndv.output.staleDataWarning.regular":"Node parameters have changed.<br>Execute node again to refresh output.","ndv.output.staleDataWarning.pinData":"Node parameter changes will not affect pinned output data.","ndv.output.tooMuchData.message":"The node contains {size} MB of data. Displaying it may cause problems. <br /> If you do decide to display it, avoid the JSON view.","ndv.output.tooMuchData.showDataAnyway":"Show data anyway","ndv.output.tooMuchData.title":"Output data is huge!","ndv.output.waitingToRun":"Waiting to execute...","ndv.title.cancel":"Cancel","ndv.title.rename":"Rename","ndv.title.renameNode":"Rename node","ndv.pinData.pin.title":"Pin data","ndv.pinData.pin.description":"Node will always output this data instead of executing. You can also pin data from previous executions.","ndv.pinData.pin.link":"More info","ndv.pinData.pin.multipleRuns.title":"Run #{index} was pinned","ndv.pinData.pin.multipleRuns.description":"This run will be outputted each time the node is run.","ndv.pinData.unpinAndExecute.title":"Unpin output data?","ndv.pinData.unpinAndExecute.description":"Executing a node overwrites pinned data.","ndv.pinData.unpinAndExecute.cancel":"Cancel","ndv.pinData.unpinAndExecute.confirm":"Unpin and execute","ndv.pinData.beforeClosing.title":"Save output changes before closing?","ndv.pinData.beforeClosing.cancel":"Discard","ndv.pinData.beforeClosing.confirm":"Save","ndv.pinData.error.tooLarge.title":"Output data is too large to pin","ndv.pinData.error.tooLarge.description":"You can pin at most 12MB of output per workflow.","noTagsView.readyToOrganizeYourWorkflows":"Ready to organize your workflows?","noTagsView.withWorkflowTagsYouReFree":"With workflow tags, you\'re free to create the perfect tagging system for your flows","node.activateDeactivateNode":"Activate/Deactivate Node","node.deleteNode":"Delete Node","node.disabled":"Disabled","node.duplicateNode":"Duplicate Node","node.editNode":"Edit Node","node.executeNode":"Execute Node","node.issues":"Issues","node.nodeIsExecuting":"Node is executing","node.nodeIsWaitingTill":"Node is waiting until {date} {time}","node.theNodeIsWaitingIndefinitelyForAnIncomingWebhookCall":"The node is waiting for an incoming webhook call (indefinitely)","node.waitingForYouToCreateAnEventIn":"Waiting for you to create an event in {nodeType}","node.discovery.pinData.canvas":"You can pin this output instead of waiting for a test event. Open node to do so.","node.discovery.pinData.ndv":"You can pin this output instead of waiting for a test event.","nodeBase.clickToAddNodeOrDragToConnect":"Click to add node<br />or drag to connect","nodeCreator.categoryNames.analytics":"Analytics","nodeCreator.categoryNames.communication":"Communication","nodeCreator.categoryNames.coreNodes":"Core Nodes","nodeCreator.categoryNames.customNodes":"Custom Nodes","nodeCreator.categoryNames.dataStorage":"Data & Storage","nodeCreator.categoryNames.development":"Development","nodeCreator.categoryNames.financeAccounting":"Finance & Accounting","nodeCreator.categoryNames.marketingContent":"Marketing & Content","nodeCreator.categoryNames.miscellaneous":"Miscellaneous","nodeCreator.categoryNames.productivity":"Productivity","nodeCreator.categoryNames.sales":"Sales","nodeCreator.categoryNames.suggestedNodes":"Suggested Nodes ","nodeCreator.categoryNames.utility":"Utility","nodeCreator.mainPanel.all":"All","nodeCreator.mainPanel.regular":"Regular","nodeCreator.mainPanel.trigger":"Trigger","nodeCreator.noResults.dontWorryYouCanProbablyDoItWithThe":"Dont worry, you can probably do it with the","nodeCreator.noResults.httpRequest":"HTTP Request","nodeCreator.noResults.node":"node","nodeCreator.noResults.or":"or","nodeCreator.noResults.requestTheNode":"Request the node","nodeCreator.noResults.wantUsToMakeItFaster":"Want us to make it faster?","nodeCreator.noResults.weDidntMakeThatYet":"We didn\'t make that... yet","nodeCreator.noResults.webhook":"Webhook","nodeCreator.searchBar.searchNodes":"Search nodes...","nodeCreator.subcategoryDescriptions.dataTransformation":"Manipulate data fields, run code","nodeCreator.subcategoryDescriptions.files":"Work with CSV, XML, text, images etc.","nodeCreator.subcategoryDescriptions.flow":"Branches, core triggers, merge data","nodeCreator.subcategoryDescriptions.helpers":"HTTP Requests (API calls), date and time, scrape HTML","nodeCreator.subcategoryNames.dataTransformation":"Data Transformation","nodeCreator.subcategoryNames.files":"Files","nodeCreator.subcategoryNames.flow":"Flow","nodeCreator.subcategoryNames.helpers":"Helpers","nodeCredentials.createNew":"Create New","nodeCredentials.credentialFor":"Credential for {credentialType}","nodeCredentials.issues":"Issues","nodeCredentials.selectCredential":"Select Credential","nodeCredentials.showMessage.message":"Nodes that used credential \\"{oldCredentialName}\\" have been updated to use \\"{newCredentialName}\\"","nodeCredentials.showMessage.title":"Node credential updated","nodeCredentials.updateCredential":"Update Credential","nodeErrorView.cause":"Cause","nodeErrorView.copyToClipboard":"Copy to Clipboard","nodeErrorView.dataBelowMayContain":"Data below may contain sensitive information. Proceed with caution when sharing.","nodeErrorView.details":"Details","nodeErrorView.error":"ERROR","nodeErrorView.httpCode":"HTTP Code","nodeErrorView.inParameter":"In or underneath Parameter","nodeErrorView.itemIndex":"Item Index","nodeErrorView.runIndex":"Run Index","nodeErrorView.showMessage.title":"Copied to clipboard","nodeErrorView.stack":"Stack","nodeErrorView.theErrorCauseIsTooLargeToBeDisplayed":"The error cause is too large to be displayed","nodeErrorView.time":"Time","nodeErrorView.inputPanel.previousNodeError.title":"Error running node \'{nodeName}\'","nodeErrorView.inputPanel.previousNodeError.text":"View error","nodeHelpers.credentialsUnset":"Credentials for \'{credentialType}\' are not set.","nodeSettings.alwaysOutputData.description":"If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node.","nodeSettings.alwaysOutputData.displayName":"Always Output Data","nodeSettings.clickOnTheQuestionMarkIcon":"Click the \'?\' icon to open this node on n8n.io","nodeSettings.continueOnFail.description":"If active, the workflow continues even if this node\'s execution fails. When this occurs, the node passes along input data from previous nodes - so your workflow should account for unexpected output data.","nodeSettings.continueOnFail.displayName":"Continue On Fail","nodeSettings.docs":"Docs","nodeSettings.executeOnce.description":"If active, the node executes only once, with data from the first item it receives","nodeSettings.executeOnce.displayName":"Execute Once","nodeSettings.maxTries.description":"Number of times to attempt to execute the node before failing the execution","nodeSettings.maxTries.displayName":"Max. Tries","nodeSettings.noDescriptionFound":"No description found","nodeSettings.nodeDescription":"Node Description","nodeSettings.notes.description":"Optional note to save with the node","nodeSettings.notes.displayName":"Notes","nodeSettings.notesInFlow.description":"If active, the note above will display in the flow as a subtitle","nodeSettings.notesInFlow.displayName":"Display Note in Flow?","nodeSettings.parameters":"Parameters","nodeSettings.communityNodeTooltip":"This is a <a href=\\"{docUrl}\\" target=\\"_blank\\"/>community node</a>","nodeSettings.retryOnFail.description":"If active, the node tries to execute again when it fails","nodeSettings.retryOnFail.displayName":"Retry On Fail","nodeSettings.scopes.expandedNoticeWithScopes":"<a data-key=\\"toggle-expand\\">{count} scope</a> available for {activeCredential} credentials<br>{scopes}<br><a data-key=\\"show-less\\">Show less</a> | <a data-key=\\"toggle-expand\\">{count} scopes</a> available for {activeCredential} credentials<br>{scopes}<br><a data-key=\\"show-less\\">Show less</a>","nodeSettings.scopes.notice":"<a data-key=\\"toggle-expand\\">{count} scope</a> available for {activeCredential} credentials | <a data-key=\\"toggle-expand\\">{count} scopes</a> available for {activeCredential} credentials","nodeSettings.theNodeIsNotValidAsItsTypeIsUnknown":"The node is not valid as its type ({nodeType}) is unknown","nodeSettings.communityNodeUnknown.title":"Install this node to use it","nodeSettings.communityNodeUnknown.description":"This node is not currently installed. It\'s part of the {action} community package.","nodeSettings.communityNodeUnknown.installLink.text":"How to install community nodes","nodeSettings.nodeTypeUnknown.description":"This node is not currently installed. It is either from a newer version of n8n, a {action}, or has an invalid structure","nodeSettings.nodeTypeUnknown.description.customNode":"custom node","nodeSettings.thisNodeDoesNotHaveAnyParameters":"This node does not have any parameters","nodeSettings.useTheHttpRequestNode":"Use the <b>HTTP Request</b> node to make a custom API call. We\'ll take care of the {nodeTypeDisplayName} auth for you. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/integrations/custom-operations/\\">Learn more</a>","nodeSettings.waitBetweenTries.description":"How long to wait between each attempt (in milliseconds)","nodeSettings.waitBetweenTries.displayName":"Wait Between Tries (ms)","nodeView.addNode":"Add node","nodeView.addSticky":"Click to add sticky note","nodeView.confirmMessage.beforeRouteLeave.cancelButtonText":"Leave without saving","nodeView.confirmMessage.beforeRouteLeave.confirmButtonText":"Save","nodeView.confirmMessage.beforeRouteLeave.headline":"Save changes before leaving?","nodeView.confirmMessage.beforeRouteLeave.message":"If you don\'t save, you will lose your changes.","nodeView.confirmMessage.initView.cancelButtonText":"Leave without saving","nodeView.confirmMessage.initView.confirmButtonText":"Save","nodeView.confirmMessage.initView.headline":"Save changes before leaving?","nodeView.confirmMessage.initView.message":"If you don\'t save, you will lose your changes.","nodeView.confirmMessage.receivedCopyPasteData.cancelButtonText":"","nodeView.confirmMessage.receivedCopyPasteData.confirmButtonText":"Yes, import","nodeView.confirmMessage.receivedCopyPasteData.headline":"Import Workflow?","nodeView.confirmMessage.receivedCopyPasteData.message":"Workflow will be imported from<br /><i>{plainTextData}<i>","nodeView.couldntImportWorkflow":"Could not import workflow","nodeView.deletesTheCurrentExecutionData":"Deletes the current execution data","nodeView.executesTheWorkflowFromTheStartOrWebhookNode":"Executes the workflow from the \'start\' or \'webhook\' node","nodeView.itLooksLikeYouHaveBeenEditingSomething":"It looks like you made some edits. If you leave before saving, your changes will be lost.","nodeView.loadingTemplate":"Loading template","nodeView.moreInfo":"More info","nodeView.noNodesGivenToAdd":"No nodes to add specified","nodeView.prompt.cancel":"@:_reusableBaseText.cancel","nodeView.prompt.invalidName":"Invalid Name","nodeView.prompt.newName":"New Name","nodeView.prompt.rename":"Rename","nodeView.prompt.renameNode":"Rename Node","nodeView.redirecting":"Redirecting","nodeView.refresh":"Refresh","nodeView.resetZoom":"Reset Zoom","nodeView.runButtonText.executeWorkflow":"Execute Workflow","nodeView.runButtonText.executingWorkflow":"Executing Workflow","nodeView.runButtonText.waitingForTriggerEvent":"Waiting for Trigger Event","nodeView.showError.getWorkflowDataFromUrl.title":"Problem loading workflow","nodeView.showError.importWorkflowData.title":"Problem importing workflow","nodeView.showError.mounted1.message":"There was a problem loading init data","nodeView.showError.mounted1.title":"Init Problem","nodeView.showError.mounted2.message":"There was a problem initializing the workflow","nodeView.showError.mounted2.title":"Init Problem","nodeView.showError.openExecution.title":"Problem loading execution","nodeView.showError.openWorkflow.title":"Problem opening workflow","nodeView.showError.stopExecution.title":"Problem stopping execution","nodeView.showError.stopWaitingForWebhook.title":"Problem deleting test webhook","nodeView.showMessage.addNodeButton.message":"\'{nodeTypeName}\' is an unknown node type","nodeView.showMessage.addNodeButton.title":"Could not create node","nodeView.showMessage.keyDown.title":"Workflow created","nodeView.showMessage.showMaxNodeTypeError.message":"Only {count} \'{nodeTypeDataDisplayName}\' node is allowed in a workflow | Only {count} \'{nodeTypeDataDisplayName}\' nodes are allowed in a workflow","nodeView.showMessage.showMaxNodeTypeError.title":"Could not create node","nodeView.showMessage.stopExecutionCatch.message":"It completed before it could be stopped","nodeView.showMessage.stopExecutionCatch.title":"Workflow finished executing","nodeView.showMessage.stopExecutionTry.title":"Execution stopped","nodeView.stopCurrentExecution":"Stop current execution","nodeView.stopWaitingForWebhookCall":"Stop waiting for webhook call","nodeView.stoppingCurrentExecution":"Stopping current execution","nodeView.thereWasAProblemLoadingTheNodeParametersOfNode":"There was a problem loading the parameters of the node","nodeView.thisExecutionHasntFinishedYet":"This execution hasn\'t finished yet","nodeView.toSeeTheLatestStatus":"to see the latest status","nodeView.workflowTemplateWithIdCouldNotBeFound":"Workflow template with ID \\"{templateId}\\" could not be found","nodeView.workflowWithIdCouldNotBeFound":"Workflow with ID \\"{workflowId}\\" could not be found","nodeView.zoomIn":"Zoom In","nodeView.zoomOut":"Zoom Out","nodeView.zoomToFit":"Zoom to Fit","nodeWebhooks.clickToCopyWebhookUrls":"Click to copy webhook URLs","nodeWebhooks.clickToDisplayWebhookUrls":"Click to display webhook URLs","nodeWebhooks.clickToHideWebhookUrls":"Click to hide webhook URLs","nodeWebhooks.invalidExpression":"[INVALID EXPRESSION]","nodeWebhooks.productionUrl":"Production URL","nodeWebhooks.showMessage.title":"URL copied","nodeWebhooks.testUrl":"Test URL","nodeWebhooks.webhookUrls":"Webhook URLs","onboardingCallSignupModal.title":"Your onboarding session","onboardingCallSignupModal.description":"Pop in your email and we\'ll send you some scheduling options","onboardingCallSignupModal.emailInput.placeholder":"Your work email","onboardingCallSignupModal.signupButton.label":"Submit","onboardingCallSignupModal.cancelButton.label":"Cancel","onboardingCallSignupModal.infoText.emailError":"This doesn\'t seem to be a valid email address","onboardingCallSignupSucess.title":"Check your email for the final step","onboardingCallSignupSucess.message":"You should receive a message from us shortly","onboardingCallSignupFailed.title":"Something went wrong","onboardingCallSignupFailed.message":"Your request could not be sent","onboardingCallSignupModal.confirmExit.title":"Are you sure?","onboardingWorkflow.stickyContent":"##  Get started faster \\nLightning tour of the key concepts [3 min] \\n\\n[![n8n quickstart video](/static/quickstart_thumbnail.png#full-width)](https://www.youtube.com/watch?v=RpjQTGKm-ok)","openWorkflow.workflowImportError":"Could not import workflow","openWorkflow.workflowNotFoundError":"Could not find workflow","parameterInput.customApiCall":"Custom API Call","parameterInput.error":"ERROR","parameterInput.expression":"Expression","parameterInput.fixed":"Fixed","parameterInput.issues":"Issues","parameterInput.loadingOptions":"Loading options...","parameterInput.openEditWindow":"Open Edit Window","parameterInput.parameter":"Parameter: \\"{shortPath}\\"","parameterInput.parameterHasExpression":"Parameter: \\"{shortPath}\\" has an expression","parameterInput.parameterHasIssues":"Parameter: \\"{shortPath}\\" has issues","parameterInput.parameterHasIssuesAndExpression":"Parameter: \\"{shortPath}\\" has issues and an expression","parameterInput.refreshList":"Refresh List","parameterInput.resetValue":"Reset Value","parameterInput.select":"Select","parameterInput.selectDateAndTime":"Select date and time","parameterInput.selectACredentialTypeFromTheDropdown":"Select a credential type from the dropdown","parameterInput.theValueIsNotSupported":"The value \\"{checkValue}\\" is not supported!","parameterInputExpanded.openDocs":"Open docs","parameterInputExpanded.thisFieldIsRequired":"This field is required","parameterInputList.delete":"Delete","parameterInputList.deleteParameter":"Delete Parameter","parameterInputList.parameterOptions":"Parameter Options","personalizationModal.continue":"Continue","personalizationModal.customerIntegrations":"Customer integrations","personalizationModal.customerSupport":"Customer support","personalizationModal.customizeN8n":"Customize n8n to you","personalizationModal.digitalAgencyOrConsultant":"Marketing agency / consultancy","personalizationModal.eCommerce":"eCommerce","personalizationModal.education":"Education","personalizationModal.engineeringOrDevops":"Engineering / Devops","personalizationModal.errorWhileSubmittingResults":"Error while submitting results","personalizationModal.financeOrAccounting":"Finance / Accounting","personalizationModal.financeOrInsurance":"Finance / Insurance","personalizationModal.getStarted":"Get started","personalizationModal.government":"Government","personalizationModal.healthcare":"Healthcare","personalizationModal.howAreYourCodingSkills":"How are your coding skills?","personalizationModal.howBigIsYourCompany":"How big is your company?","personalizationModal.hr":"HR","personalizationModal.imNotUsingN8nForWork":"I\'m not using n8n for work","personalizationModal.it":"IT","personalizationModal.legal":"Legal","personalizationModal.lessThan20People":"Less than 20 people","personalizationModal.lookOutForThingsMarked":"Look out for things marked with a . They are personalized to make n8n more relevant to you.","personalizationModal.managedServiceProvider":"Managed service provider","personalizationModal.manufacturing":"Manufacturing","personalizationModal.marketing":"Marketing","personalizationModal.media":"Media","personalizationModal.notSureYet":"Not sure yet","personalizationModal.operations":"Operations","personalizationModal.other":"Other","personalizationModal.otherPleaseSpecify":"Other (please specify)","personalizationModal.people":"people","personalizationModal.physicalRetailOrServices":"Physical retail or services","personalizationModal.product":"Product (e.g. fast prototyping)","personalizationModal.realEstateOrConstruction":"Real estate / Construction","personalizationModal.saas":"Software as a service","personalizationModal.salesAndMarketing":"Sales and Marketing","personalizationModal.security":"Security","personalizationModal.select":"Select...","personalizationModal.specifyYourAutomationGoal":"Please specify your automation goal","personalizationModal.specifyYourCompanysIndustry":"Specify your company\'s industry","personalizationModal.support":"Support","personalizationModal.systemsIntegrator":"Systems integrator / Automation agency","personalizationModal.telecoms":"Telecoms","personalizationModal.thanks":"Thanks!","personalizationModal.theseQuestionsHelpUs":"These questions help us tailor n8n to you","personalizationModal.whatAreYouLookingToAutomate":"What are you looking to automate?","personalizationModal.whatBestDescribesYourCompany":"What best describes your company?","personalizationModal.whichIndustriesIsYourCompanyIn":"Which industries is your company in?","personalizationModal.specifySalesMarketingGoal":"Which parts of Sales and Marketing?","personalizationModal.leadGeneration":"Lead generation, enrichment, routing","personalizationModal.customerCommunication":"Customer communication","personalizationModal.customerActions":"Actions when lead changes status","personalizationModal.adCampaign":"Ad campaign management","personalizationModal.reporting":"Reporting","personalizationModal.dataSynching":"Data syncing","personalizationModal.specifyUsageMode":"Are you looking to do any of these?","personalizationModal.connectToInternalDB":"Connect to my companys internal databases","personalizationModal.buildBackendServices":"Build backend services (endpoints)","personalizationModal.manipulateFiles":"Manipulate/transfer files","personalizationModal.specifyOtherSalesAndMarketingGoal":"Specify your other Sales and Marketing goals","pushConnection.nodeExecutedSuccessfully":"Node executed successfully","pushConnection.workflowExecutedSuccessfully":"Workflow executed successfully","pushConnectionTracker.cannotConnectToServer":"You have a connection issue or the server is down. <br />n8n should reconnect automatically once the issue is resolved.","pushConnectionTracker.connectionLost":"Connection lost","pushConnection.pollingNode.dataNotFound":"No {service} data found","pushConnection.pollingNode.dataNotFound.message":"We didnt find any data in {service} to simulate an event. Please create one in {service} and try again.","resourceLocator.id.placeholder":"Enter ID...","resourceLocator.mode.id":"By ID","resourceLocator.mode.url":"By URL","resourceLocator.mode.list":"From list","resourceLocator.mode.list.disabled.title":"Change to Fixed mode to choose From List","resourceLocator.mode.list.error.title":"Could not load list","resourceLocator.mode.list.error.description.part1":"Check that your","resourceLocator.mode.list.error.description.part2":"credential","resourceLocator.mode.list.error.description.part3":"is set up correctly","resourceLocator.mode.list.noResults":"No results","resourceLocator.mode.list.openUrl":"Open URL","resourceLocator.mode.list.placeholder":"Choose...","resourceLocator.mode.list.searchRequired":"Enter a search term to show results","resourceLocator.modeSelector.placeholder":"Mode...","resourceLocator.openSpecificResource":"Open {entity} in {appName}","resourceLocator.openResource":"Open in {appName}","resourceLocator.search.placeholder":"Search...","resourceLocator.url.placeholder":"Enter URL...","runData.emptyItemHint":"This is an item, but it\'s empty.","runData.emptyArray":"[empty array]","runData.emptyString":"[empty]","runData.emptyObject":"[empty object]","runData.unnamedField":"[Unnamed field]","runData.switchToBinary.info":"This item only has","runData.switchToBinary.binary":"binary data","runData.linking.hint":"Link displayed input and output runs","runData.unlinking.hint":"Unlink displayed input and output runs","runData.binary":"Binary","runData.copyItemPath":"Copy Item Path","runData.copyItemPath.toast":"Item path copied","runData.copyParameterPath":"Copy Parameter Path","runData.copyParameterPath.toast":"Parameter path copied","runData.copyValue":"Copy Selection","runData.copyValue.toast":"Output data copied","runData.copyToClipboard":"Copy to Clipboard","runData.copyDisabled":"First click on the output data you want to copy, then click this button.","runData.editOutput":"Edit Output","runData.editOutputInvalid":"Problem with output data","runData.editOutputInvalid.singleQuote":"Unexpected single quote. Please use double quotes (\\") instead","runData.editOutputInvalid.onLine":"On line {line}:","runData.editOutputInvalid.atPosition":"(at position {position})","runData.editValue":"Edit Value","runData.downloadBinaryData":"Download","runData.executeNode":"Execute Node","runData.executionTime":"Execution Time","runData.fileExtension":"File Extension","runData.fileName":"File Name","runData.invalidPinnedData":"Invalid pinned data","runData.items":"Items","runData.json":"JSON","runData.mimeType":"Mime Type","runData.ms":"ms","runData.noBinaryDataFound":"No binary data found","runData.noData":"No data","runData.noTextDataFound":"No text data found","runData.nodeReturnedALargeAmountOfData":"Node returned a large amount of data","runData.output":"Output","runData.showBinaryData":"View","runData.startTime":"Start Time","runData.table":"Table","runData.pindata.learnMore":"Learn more","runData.pindata.thisDataIsPinned":"This data is pinned.","runData.pindata.unpin":"Unpin","runData.editor.save":"Save","runData.editor.cancel":"Cancel","runData.editor.copyDataInfo":"You can copy data from previous executions and paste it above.","saveButton.save":"@:_reusableBaseText.save","saveButton.saved":"Saved","saveButton.saving":"Saving","settings":"Settings","settings.communityNodes":"Community nodes","settings.communityNodes.empty.title":"Supercharge your workflows with community nodes","settings.communityNodes.empty.description":"Install over {count} node packages contributed by our community.","settings.communityNodes.empty.description.no-packages":"Install node packages contributed by our community.","settings.communityNodes.empty.installPackageLabel":"Install a community node","settings.communityNodes.queueMode.warning":"You need to install community nodes manually because your instance is running in queue mode. <a href=\\"{docURL}\\" target=\\"_blank\\" title=\\"Read the n8n docs\\">More info</a>","settings.communityNodes.npmUnavailable.warning":"To use this feature, please <a href=\\"{npmUrl}\\" target=\\"_blank\\" title=\\"How to install npm\\">install npm</a> and restart n8n.","settings.communityNodes.packageNodes.label":"{count} node | {count} nodes","settings.communityNodes.updateAvailable.tooltip":"A newer version is available","settings.communityNodes.viewDocsAction.label":"Documentation","settings.communityNodes.uninstallAction.label":"Uninstall package","settings.communityNodes.upToDate.tooltip":"You are up to date","settings.communityNodes.failedToLoad.tooltip":"There is a problem with this package, try uninstalling it then reinstalling to resolve this issue","settings.communityNodes.fetchError.title":"Problem fetching installed packages","settings.communityNodes.fetchError.message":"There may be a problem with your internet connection or your n8n instance","settings.communityNodes.installModal.title":"Install community nodes","settings.communityNodes.installModal.description":"Find community nodes to add on the npm public registry.","settings.communityNodes.browseButton.label":"Browse","settings.communityNodes.installModal.packageName.label":"npm Package Name","settings.communityNodes.installModal.packageName.tooltip":"<img src=\'/static/community_package_tooltip_img.png\'/><p>This is the title of the package on <a href=\'{npmURL}\'>npmjs.com</a></p><p>Install a specific version by adding it after @, e.g. <code>package-name@0.15.0</code></p>","settings.communityNodes.installModal.packageName.placeholder":"e.g. n8n-nodes-chatwork","settings.communityNodes.installModal.checkbox.label":"I understand the risks of installing unverified code from a public source.","settings.communityNodes.installModal.installButton.label":"Install","settings.communityNodes.installModal.installButton.label.loading":"Installing","settings.communityNodes.installModal.error.packageNameNotValid":"Package name must start with n8n-nodes-","settings.communityNodes.messages.install.success":"Package installed","settings.communityNodes.messages.install.error":"Error installing new package","settings.communityNodes.messages.uninstall.error":"Problem uninstalling package","settings.communityNodes.messages.uninstall.success.title":"Package uninstalled","settings.communityNodes.messages.update.success.title":"Package updated","settings.communityNodes.messages.update.success.message":"{packageName} updated to version {version}","settings.communityNodes.messages.update.error.title":"Problem updating package","settings.communityNodes.confirmModal.uninstall.title":"Uninstall package?","settings.communityNodes.confirmModal.uninstall.message":"Any workflows that use nodes from the {packageName} package won\'t be able to run. Are you sure?","settings.communityNodes.confirmModal.uninstall.buttonLabel":"Uninstall package","settings.communityNodes.confirmModal.uninstall.buttonLoadingLabel":"Uninstalling","settings.communityNodes.confirmModal.update.title":"Update community node package?","settings.communityNodes.confirmModal.update.message":"You are about to update {packageName} to version {version}","settings.communityNodes.confirmModal.update.description":"We recommend you deactivate workflows that use any of the package\'s nodes and reactivate them once the update is completed","settings.communityNodes.confirmModal.update.buttonLabel":"Update package","settings.communityNodes.confirmModal.update.buttonLoadingLabel":"Updating...","settings.goBack":"Go back","settings.personal":"Personal","settings.personal.basicInformation":"Basic Information","settings.personal.personalSettings":"Personal Settings","settings.personal.personalSettingsUpdated":"Personal details updated","settings.personal.personalSettingsUpdatedError":"Problem updating your details","settings.personal.save":"Save","settings.personal.security":"Security","settings.signup.signUpInviterInfo":"{firstName} {lastName} has invited you to n8n","settings.users":"Users","settings.users.confirmDataHandlingAfterDeletion":"What should we do with their data?","settings.users.confirmUserDeletion":"Are you sure you want to delete this invited user?","settings.users.delete":"Delete","settings.users.deleteConfirmationMessage":"Type delete all data to confirm","settings.users.deleteConfirmationText":"delete all data","settings.users.deleteUser":"Delete {user}","settings.users.deleteWorkflowsAndCredentials":"Delete their workflows and credentials","settings.users.emailInvitesSent":"An invite email was sent to {emails}","settings.users.emailInvitesSentError":"Could not invite {emails}","settings.users.emailSentTo":"Email sent to {email}","settings.users.invalidEmailError":"{email} is not a valid email","settings.users.invite":"Invite","settings.users.inviteNewUsers":"Invite new users","settings.users.inviteResent":"Invite resent","settings.users.inviteUser":"Invite user","settings.users.inviteXUser":"Invite {count} users","settings.users.newEmailsToInvite":"New User Email Addresses","settings.users.noUsersToInvite":"No users to invite","settings.users.setupMyAccount":"Set up my owner account","settings.users.setupSMTPToInviteUsers":"Set up SMTP to invite users. {action}","settings.users.setupSMTPToInviteUsers.instructions":"Instructions","settings.users.setupToInviteUsers":"To invite users, set up your own account","settings.users.setupToInviteUsersInfo":"Invited users wont be able to see workflows and credentials of other users. <a href=\\"https://docs.n8n.io/reference/user-management.html\\" target=\\"_blank\\">More info</a> <br /> <br /> You will need details of an <a href=\\"https://docs.n8n.io/reference/user-management.html#step-one-smtp\\" target=\\"_blank\\">SMTP server</a> to complete the setup.","settings.users.smtpToAddUsersWarning":"Set up SMTP before adding users (so that n8n can send them invitation emails). <a target=\\"_blank\\" href=\\"https://docs.n8n.io/reference/user-management.html#step-one-smtp\\">Instructions</a>","settings.users.transferWorkflowsAndCredentials":"Transfer their workflows and credentials to another user","settings.users.transferredToUser":"Data transferred to {user}","settings.users.userDeleted":"User deleted","settings.users.userDeletedError":"Problem while deleting user","settings.users.userInvited":"User invited","settings.users.userInvitedError":"User could not be invited","settings.users.userReinviteError":"Could not reinvite user","settings.users.userToTransferTo":"User to transfer to","settings.users.usersEmailedError":"Couldn\'t send invite email","settings.users.usersInvited":"Users invited","settings.users.usersInvitedError":"Could not invite users","settings.api":"API","settings.n8napi":"n8n API","settings.api.create.description":"Control n8n programmatically using the <a href=\\"https://docs.n8n.io/api\\" target=\\"_blank\\">n8n API</a>","settings.api.create.button":"Create an API Key","settings.api.create.button.loading":"Creating API Key...","settings.api.create.error":"Creating the API Key failed.","settings.api.delete.title":"Delete this API Key?","settings.api.delete.description":"Any application using this API Key will no longer have access to n8n. This operation cannot be undone.","settings.api.delete.button":"Delete Forever","settings.api.delete.error":"Deleting the API Key failed.","settings.api.delete.toast":"API Key deleted","settings.api.view.copy.toast":"API Key copied to clipboard","settings.api.view.apiPlayground":"API Playground","settings.api.view.info":"Use your API Key to control n8n programmatically using the {apiAction}. But if you only want to trigger workflows, consider using the {webhookAction} instead.","settings.api.view.info.api":"n8n API","settings.api.view.info.webhook":"webhook node","settings.api.view.myKey":"My API Key","settings.api.view.tryapi":"Try it out using the","settings.api.view.error":"Could not check if an api key already exists.","settings.version":"Version","showMessage.cancel":"@:_reusableBaseText.cancel","showMessage.ok":"OK","showMessage.showDetails":"Show Details","startupError":"Error connecting to n8n","startupError.message":"Could not connect to server. <a data-action=\'reload\'>Refresh</a> to try again","tagsDropdown.createTag":"Create tag \\"{filter}\\"","tagsDropdown.manageTags":"Manage tags","tagsDropdown.noMatchingTagsExist":"No matching tags exist","tagsDropdown.noTagsExist":"No tags exist","tagsDropdown.showError.message":"A problem occurred when trying to create the \'{name}\' tag","tagsDropdown.showError.title":"Could not create tag","tagsDropdown.typeToCreateATag":"Type to create a tag","tagsManager.couldNotDeleteTag":"Could not delete tag","tagsManager.done":"Done","tagsManager.manageTags":"Manage tags","tagsManager.showError.onCreate.message":"A problem occurred when trying to create the tag \'{escapedName}\'","tagsManager.showError.onCreate.title":"Could not create tag","tagsManager.showError.onDelete.message":"A problem occurred when trying to delete the tag \'{escapedName}\'","tagsManager.showError.onDelete.title":"Could not delete tag","tagsManager.showError.onUpdate.message":"A problem occurred when trying to update the tag \'{escapedName}\'","tagsManager.showError.onUpdate.title":"Could not update tag","tagsManager.showMessage.onDelete.title":"Tag deleted","tagsManager.showMessage.onUpdate.title":"Tag updated","tagsManager.tagNameCannotBeEmpty":"Tag name cannot be empty","tagsTable.areYouSureYouWantToDeleteThisTag":"Are you sure you want to delete this tag?","tagsTable.cancel":"@:_reusableBaseText.cancel","tagsTable.createTag":"Create tag","tagsTable.deleteTag":"Delete tag","tagsTable.editTag":"Edit Tag","tagsTable.name":"@:_reusableBaseText.name","tagsTable.noMatchingTagsExist":"No matching tags exist","tagsTable.saveChanges":"Save changes?","tagsTable.usage":"Usage","tagsTableHeader.addNew":"Add new","tagsTableHeader.searchTags":"Search Tags","tagsView.inUse":"{count} workflow | {count} workflows","tagsView.notBeingUsed":"Not being used","template.buttons.goBackButton":"Go back","template.buttons.useThisWorkflowButton":"Use this workflow","template.details.appsInTheCollection":"This collection features","template.details.appsInTheWorkflow":"Apps in this workflow","template.details.by":"by","template.details.categories":"Categories","template.details.created":"Created","template.details.details":"Details","template.details.times":"times","template.details.viewed":"Viewed","templates.allCategories":"All Categories","templates.categoriesHeading":"Categories","templates.collection":"Collection","templates.collections":"Collections","templates.collectionsNotFound":"Collection could not be found","templates.connectionWarning":" There was a problem fetching workflow templates. Check your internet connection.","templates.endResult":"Share your own useful workflows through your <a href=\'https://n8n.io/dashboard\' target=\'_blank\'>n8n.io account</a>","templates.heading":"Workflow templates","templates.newButton":"New blank workflow","templates.noSearchResults":"Nothing found. Try adjusting your search to see more.","templates.searchPlaceholder":"Search workflows","templates.workflow":"Workflow","templates.workflows":"Workflows","templates.workflowsNotFound":"Workflow could not be found","textEdit.edit":"Edit","timeAgo.daysAgo":"%s days ago","timeAgo.hoursAgo":"%s hours ago","timeAgo.inDays":"in %s days","timeAgo.inHours":"in %s hours","timeAgo.inMinutes":"in %s minutes","timeAgo.inMonths":"in %s months","timeAgo.inOneDay":"in 1 day","timeAgo.inOneHour":"in 1 hour","timeAgo.inOneMinute":"in 1 minute","timeAgo.inOneMonth":"in 1 month","timeAgo.inOneWeek":"in 1 week","timeAgo.inOneYear":"in 1 year","timeAgo.inWeeks":"in %s weeks","timeAgo.inYears":"in %s years","timeAgo.justNow":"Just now","timeAgo.minutesAgo":"%s minutes ago","timeAgo.monthsAgo":"%s months ago","timeAgo.oneDayAgo":"1 day ago","timeAgo.oneHourAgo":"1 hour ago","timeAgo.oneMinuteAgo":"1 minute ago","timeAgo.oneMonthAgo":"1 month ago","timeAgo.oneWeekAgo":"1 week ago","timeAgo.oneYearAgo":"1 year ago","timeAgo.rightNow":"Right now","timeAgo.weeksAgo":"%s weeks ago","timeAgo.yearsAgo":"%s years ago","nodeIssues.credentials.notSet":"Credentials for {type} are not set.","nodeIssues.credentials.notAvailable":"Credential is not available","nodeIssues.credentials.doNotExist":"Credentials with name {name} do not exist for {type}.","nodeIssues.credentials.doNotExist.hint":"You can create credentials with the exact name and then they get auto-selected on refresh..","nodeIssues.credentials.notIdentified":"Credentials with name {name} exist for {type}.","nodeIssues.credentials.notIdentified.hint":"Credentials are not clearly identified. Please select the correct credentials.","ndv.trigger.moreInfo":"More info","ndv.trigger.copiedTestUrl":"Test URL copied to clipboard","ndv.trigger.webhookBasedNode.executionsHelp.inactive":"<b>While building your workflow</b>, click the \'listen\' button, then go to {service} and make an event happen. This will trigger an execution, which will show up in this editor.<br /> <br /> <b>Once you\'re happy with your workflow</b>, <a data-key=\\"activate\\">activate</a> it. Then every time there\'s a matching event in {service}, the workflow will execute. These executions will show up in the <a data-key=\\"executions\\">executions list</a>, but not in the editor.","ndv.trigger.webhookBasedNode.executionsHelp.active":"<b>While building your workflow</b>, click the \'listen\' button, then go to {service} and make an event happen. This will trigger an execution, which will show up in this editor.<br /> <br /> <b>Your workflow will also execute automatically</b>, since it\'s activated. Every time theres a matching event in {service}, this node will trigger an execution. These executions will show up in the <a data-key=\\"executions\\">executions list</a>, but not in the editor. ","ndv.trigger.webhookNode.listening":"Listening for test event","ndv.trigger.webhookBasedNode.listening":"Listening for your trigger event","ndv.trigger.webhookNode.requestHint":"Make a {type} request to:","ndv.trigger.webhookBasedNode.serviceHint":"Go to {service} and create an event","ndv.trigger.webhookBasedNode.activationHint.inactive":"Once youve finished building your workflow, <a data-key=\\"activate\\">activate it</a> to have it also listen continuously (you just wont see those executions here).","ndv.trigger.webhookBasedNode.activationHint.active":"This node will also trigger automatically on new {service} events (but those executions wont show up here).","ndv.trigger.pollingNode.activationHint.inactive":"Once youve finished building your workflow, <a data-key=\\"activate\\">activate it</a> to have it also check for events regularly (you just wont see those executions here).","ndv.trigger.pollingNode.activationHint.active":"This node will also trigger automatically on new {service} events (but those executions wont show up here).","ndv.trigger.executionsHint.question":"When will this node trigger my flow?","ndv.trigger.pollingNode.fetchingEvent":"Fetching event","ndv.trigger.pollingNode.fetchingHint":"This node is looking for an event in {name} that is similar to the one you defined","ndv.trigger.pollingNode.executionsHelp.inactive":"<b>While building your workflow</b>, click the \'fetch\' button to fetch a single mock event. It will show up in this editor.<br /><br /><b>Once you\'re happy with your workflow</b>, <a data-key=\\"activate\\">activate</a> it. Then n8n will regularly check {service} for new events, and execute this workflow if it finds any. These executions will show up in the <a data-key=\\"executions\\">executions list</a>, but not in the editor.","ndv.trigger.pollingNode.executionsHelp.active":"<b>While building your workflow</b>, click the \'fetch\' button to fetch a single mock event. It will show up in this editor.<br /><br /><b>Your workflow will also execute automatically</b>, since it\'s activated. n8n will regularly check {app_name} for new events, and execute this workflow if it finds any. These executions will show up in the <a data-key=\\"executions\\">executions list</a>, but not in the editor.","ndv.trigger.webhookBasedNode.action":"Pull in events from {name}","updatesPanel.andIs":"and is","updatesPanel.behindTheLatest":"behind the latest and greatest n8n","updatesPanel.howToUpdateYourN8nVersion":"How to update your n8n version","updatesPanel.version":"{numberOfVersions} version{howManySuffix}","updatesPanel.weVeBeenBusy":"Weve been busy ","updatesPanel.youReOnVersion":"Youre on {currentVersionName}, which was released","variableSelector.context":"Context","variableSelector.currentNode":"Current Node","variableSelector.nodes":"Nodes","variableSelector.outputData":"Output Data","variableSelector.parameters":"Parameters","variableSelector.variableFilter":"Variable filter...","variableSelectorItem.empty":"--- EMPTY ---","variableSelectorItem.selectItem":"Select Item","versionCard.breakingChanges":"Breaking changes","versionCard.released":"Released","versionCard.securityUpdate":"Security update","versionCard.thisVersionHasASecurityIssue":"This version has a security issue.<br />It is listed here for completeness.","versionCard.unknown":"unknown","versionCard.version":"Version","workflowActivator.workflowIsActive":"Workflow is already active","workflowActivator.activateWorkflow":"Activate workflow","workflowActivator.deactivateWorkflow":"Deactivate workflow","workflowActivator.showError.title":"Workflow could not be {newStateName}","workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.message":"Please resolve outstanding issues before you activate it","workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.title":"Problem activating workflow","workflowActivator.showMessage.activeChangedWorkflowIdUndefined.message":"Please save it before activating","workflowActivator.showMessage.activeChangedWorkflowIdUndefined.title":"Problem activating workflow","workflowActivator.showMessage.displayActivationError.message.catchBlock":"Sorry there was a problem requesting the error","workflowActivator.showMessage.displayActivationError.message.errorDataNotUndefined":"The following error occurred on workflow activation:<br /><i>{message}</i>","workflowActivator.showMessage.displayActivationError.message.errorDataUndefined":"Unknown error","workflowActivator.showMessage.displayActivationError.title":"Problem activating workflow","workflowActivator.theWorkflowIsSetToBeActiveBut":"The workflow is activated but could not be started.<br />Click to display error message.","workflowActivator.thisWorkflowHasNoTriggerNodes":"This workflow has no trigger nodes that require activation","workflowDetails.active":"Active","workflowDetails.addTag":"Add tag","workflowDetails.chooseOrCreateATag":"Choose or create a tag","workflowDetails.showMessage.message":"Please enter a name, or press \'esc\' to go back to the old one","workflowDetails.showMessage.title":"Name missing","workflowHelpers.showMessage.title":"Problem saving workflow","workflowOpen.active":"Active","workflowOpen.confirmMessage.cancelButtonText":"Leave without saving","workflowOpen.confirmMessage.confirmButtonText":"Save","workflowOpen.confirmMessage.headline":"Save changes before leaving?","workflowOpen.confirmMessage.message":"If you don\'t save, you will lose your changes.","workflowOpen.couldNotLoadActiveWorkflows":"Could not load active workflows","workflowOpen.created":"Created","workflowOpen.filterWorkflows":"Filter by tags","workflowOpen.name":"@:_reusableBaseText.name","workflowOpen.openWorkflow":"Open Workflow","workflowOpen.searchWorkflows":"Search workflows...","workflowOpen.showError.title":"Problem loading workflows","workflowOpen.showMessage.message":"This is the current workflow","workflowOpen.showMessage.title":"Workflow already open","workflowOpen.updated":"Updated","workflowPreview.showError.arrayEmpty":"Must have an array of nodes","workflowPreview.showError.missingWorkflow":"Missing workflow","workflowPreview.showError.previewError.message":"Unable to preview workflow","workflowPreview.showError.previewError.title":"Preview error","workflowRun.noActiveConnectionToTheServer":"Lost connection to the server","workflowRun.showError.title":"Problem running workflow","workflowRun.showMessage.message":"Please fix them before executing","workflowRun.showMessage.title":"Workflow has issues","workflowSettings.defaultTimezone":"Default - {defaultTimezoneValue}","workflowSettings.defaultTimezoneNotValid":"Default Timezone not valid","workflowSettings.errorWorkflow":"Error Workflow","workflowSettings.helpTexts.errorWorkflow":"A second workflow to run if the current one fails.<br />The second workflow should an \'Error Trigger\' node.","workflowSettings.helpTexts.executionTimeout":"How long the workflow should wait before timing out","workflowSettings.helpTexts.executionTimeoutToggle":"Whether to cancel workflow execution after a defined time","workflowSettings.helpTexts.saveDataErrorExecution":"Whether to save data of executions that fail","workflowSettings.helpTexts.saveDataSuccessExecution":"Whether to save data of executions that finish successfully","workflowSettings.helpTexts.saveExecutionProgress":"Whether to save data after each node execution. This allows you to resume from where execution stopped if there is an error, but may increase latency.","workflowSettings.helpTexts.saveManualExecutions":"Whether to save data of executions that are started manually from the editor","workflowSettings.helpTexts.timezone":"The timezone in which the workflow should run. Used by \'cron\' node, for example.","workflowSettings.hours":"hours","workflowSettings.minutes":"minutes","workflowSettings.noWorkflow":"- No Workflow -","workflowSettings.save":"@:_reusableBaseText.save","workflowSettings.saveDataErrorExecution":"Save failed executions","workflowSettings.saveDataErrorExecutionOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveDataErrorExecutionOptions.doNotSave":"Do not save","workflowSettings.saveDataErrorExecutionOptions.save":"@:_reusableBaseText.save","workflowSettings.saveDataSuccessExecution":"Save successful executions","workflowSettings.saveDataSuccessExecutionOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveDataSuccessExecutionOptions.doNotSave":"Do not save","workflowSettings.saveDataSuccessExecutionOptions.save":"@:_reusableBaseText.save","workflowSettings.saveExecutionProgress":"Save execution progress","workflowSettings.saveExecutionProgressOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveExecutionProgressOptions.no":"No","workflowSettings.saveExecutionProgressOptions.yes":"Yes","workflowSettings.saveManualExecutions":"Save manual executions","workflowSettings.saveManualOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveManualOptions.no":"No","workflowSettings.saveManualOptions.yes":"Yes","workflowSettings.seconds":"seconds","workflowSettings.selectOption":"Select Option","workflowSettings.settingsFor":"Settings for {workflowName} (#{workflowId})","workflowSettings.showError.saveSettings1.errorMessage":"Timeout is activated but set to 0","workflowSettings.showError.saveSettings1.message":"There was a problem saving the settings","workflowSettings.showError.saveSettings1.title":"Problem saving settings","workflowSettings.showError.saveSettings2.errorMessage":"Maximum Timeout is: {hours} hours, {minutes} minutes, {seconds} seconds","workflowSettings.showError.saveSettings2.message":"The timeout is longer than allowed","workflowSettings.showError.saveSettings2.title":"Problem saving settings","workflowSettings.showError.saveSettings3.title":"Problem saving settings","workflowSettings.showMessage.saveSettings.title":"Workflow settings saved","workflowSettings.timeoutAfter":"Timeout After","workflowSettings.timeoutWorkflow":"Timeout Workflow","workflowSettings.timezone":"Timezone"}')},ece1:function(e,t,s){},ed99:function(e,t,s){},ede3:function(e,t,s){"use strict";var n=s("798e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},f14f:function(e,t,s){"use strict";s("96f7")},f367:function(e,t,s){"use strict";s("3760")},f56b:function(e,t,s){"use strict";var n=s("4772"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},f583:function(e,t,s){e.exports={mockMenu:"TemplatesView_mockMenu_hFRjL",menu:"TemplatesView_menu_2cNdl TemplatesView_mockMenu_hFRjL",expandedMenu:"TemplatesView_expandedMenu_2ZbuC TemplatesView_mockMenu_hFRjL",template:"TemplatesView_template_XvW3d",container:"TemplatesView_container_1IIfI",header:"TemplatesView_header_1VTYl",goBack:"TemplatesView_goBack_2KSig"}},f5a0:function(e,t,s){"use strict";var n=s("50dc"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},f5b3:function(e,t,s){"use strict";var n=s("3440"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},f704:function(e,t,s){"use strict";var n=s("ca09"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},f727:function(e,t,s){},f77e:function(e,t,s){e.exports={cardContainer:"CommunityPackageCard_cardContainer_SJNto",packageCard:"CommunityPackageCard_packageCard_3LZak",cardSkeleton:"CommunityPackageCard_cardSkeleton_3B6tp",loader:"CommunityPackageCard_loader_1GtxO",cardInfoContainer:"CommunityPackageCard_cardInfoContainer_1iw6g",cardTitle:"CommunityPackageCard_cardTitle_3X0Ki",cardSubtitle:"CommunityPackageCard_cardSubtitle_UyMsl",cardControlsContainer:"CommunityPackageCard_cardControlsContainer_1DC4a",cardActions:"CommunityPackageCard_cardActions_2E4gB"}},f783:function(e,t,s){e.exports={trigger:"TriggerIcon_trigger_2V4Ig"}},f88b:function(e,t,s){e.exports={copyText:"CopyInput_copyText_3EVrj",large:"CopyInput_large_1oqw8",medium:"CopyInput_medium_n1F8m",collapsed:"CopyInput_collapsed_2kEum",copyButton:"CopyInput_copyButton_2dW9I",hint:"CopyInput_hint_1-lcr"}},f895:function(e,t,s){"use strict";s("d1a5")},f8e4:function(e,t,s){"use strict";var n=s("690e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},f9bd:function(e,t,s){"use strict";var n=s("d412"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},fc10:function(e,t,s){"use strict";var n=s("724e"),a=s.n(n);s.d(t,"default",(function(){return a.a}))},fc9b:function(e,t,s){e.exports={table:"RunDataTable_table_3pYO8",nodeClass:"RunDataTable_nodeClass_1IeTE",emptyCell:"RunDataTable_emptyCell_3fC1P",header:"RunDataTable_header_St6gl",draggableHeader:"RunDataTable_draggableHeader_2ZfxU",dragButton:"RunDataTable_dragButton_1TO0k",draggingHeader:"RunDataTable_draggingHeader_20d-H",activeHeader:"RunDataTable_activeHeader_3xJk6",dragPill:"RunDataTable_dragPill_3EvsA",droppablePill:"RunDataTable_droppablePill_3fzHk",defaultPill:"RunDataTable_defaultPill_3sQCY",dataKey:"RunDataTable_dataKey_1qo16",value:"RunDataTable_value_37i5d",nestedValue:"RunDataTable_nestedValue_3sdCg RunDataTable_value_37i5d",mappable:"RunDataTable_mappable_38P0t",empty:"RunDataTable_empty_1FxjR",limitColWidth:"RunDataTable_limitColWidth_3kud6",minColWidth:"RunDataTable_minColWidth_K5K9d",hoveringKey:"RunDataTable_hoveringKey_KrJq4",draggingKey:"RunDataTable_draggingKey_9v8dr",tableRightMargin:"RunDataTable_tableRightMargin_1byBS"}},fe0b:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fixed-collection-parameter",on:{keydown:function(e){e.stopPropagation()}}},[0===e.getProperties.length?s("div",{staticClass:"no-items-exist"},[s("n8n-text",{attrs:{size:"small"}},[e._v(e._s(e.$locale.baseText("fixedCollectionParameter.currentlyNoItemsExist")))])],1):e._e(),e._l(e.getProperties,(function(t){return s("div",{key:t.name,staticClass:"fixed-collection-parameter-property"},[""!==t.displayName&&e.parameter.options&&1!==e.parameter.options.length?s("n8n-input-label",{attrs:{label:e.$locale.nodeText().inputLabelDisplayName(t,e.path),underline:!0,size:"small"}}):e._e(),!0===e.multipleValues?s("div",e._l(e.values[t.name],(function(n,a){return s("div",{key:t.name+a,staticClass:"parameter-item"},[s("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():s("div",{staticClass:"delete-option"},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("fixedCollectionParameter.deleteItem")},on:{click:function(s){return e.deleteOption(t.name,a)}}}),e.sortable?s("div",{staticClass:"sort-icon"},[0!==a?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-up",title:e.$locale.baseText("fixedCollectionParameter.moveUp")},on:{click:function(s){return e.moveOptionUp(t.name,a)}}}):e._e(),a!==e.values[t.name].length-1?s("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-down",title:e.$locale.baseText("fixedCollectionParameter.moveDown")},on:{click:function(s){return e.moveOptionDown(t.name,a)}}}):e._e()],1):e._e()],1),s("parameter-input-list",{attrs:{parameters:t.values,nodeValues:e.nodeValues,path:e.getPropertyPath(t.name,a),hideDelete:!0},on:{valueChanged:e.valueChanged}})],1)])})),0):s("div",{staticClass:"parameter-item"},[s("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():s("div",{staticClass:"delete-option"},[s("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("fixedCollectionParameter.deleteItem")},on:{click:function(s){return e.deleteOption(t.name)}}})],1),s("parameter-input-list",{staticClass:"parameter-item",attrs:{parameters:t.values,nodeValues:e.nodeValues,path:e.getPropertyPath(t.name),hideDelete:!0},on:{valueChanged:e.valueChanged}})],1)])],1)})),e.parameterOptions.length>0&&!e.isReadOnly?s("div",[1===e.parameter.options.length?s("n8n-button",{attrs:{type:"tertiary",block:"",label:e.getPlaceholderText},on:{click:function(t){return e.optionSelected(e.parameter.options[0].name)}}}):s("div",{staticClass:"add-option"},[s("n8n-select",{attrs:{placeholder:e.getPlaceholderText,size:"small",filterable:""},on:{change:e.optionSelected},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}},e._l(e.parameterOptions,(function(t){return s("n8n-option",{key:t.name,attrs:{label:e.$locale.nodeText().collectionOptionDisplayName(e.parameter,t,e.path),value:t.name}})})),1)],1)],1):e._e()],2)},a=[],o=s("9ec3"),i=s("4971"),r=s("aaf5"),l=Object(r["a"])(i["a"]).extend({name:"FixedCollectionParameter",props:["nodeValues","parameter","path","values"],data(){return{selectedOption:void 0}},computed:{getPlaceholderText(){const e=this.$locale.nodeText().placeholder(this.parameter,this.path);return e||this.$locale.baseText("fixedCollectionParameter.choose")},getProperties(){const e=[];let t;for(const s of this.propertyNames)t=this.getOptionProperties(s),void 0!==t&&e.push(t);return e},multipleValues(){return void 0!==this.parameter.typeOptions&&!0===this.parameter.typeOptions.multipleValues},parameterOptions(){return!0===this.multipleValues?this.parameter.options:this.parameter.options.filter(e=>!this.propertyNames.includes(e.name))},propertyNames(){return this.values?Object.keys(this.values):[]},sortable(){return this.parameter.typeOptions&&this.parameter.typeOptions.sortable}},methods:{deleteOption(e,t){const s=this.values[e];!s||s.length>1?this.$emit("valueChanged",{name:this.getPropertyPath(e,t),value:void 0}):this.$emit("valueChanged",{name:this.getPropertyPath(e),value:void 0})},getPropertyPath(e,t){return`${this.path}.${e}`+(void 0!==t?`[${t}]`:"")},getOptionProperties(e){for(const t of this.parameter.options)if(t.name===e)return t},moveOptionDown(e,t){this.values[e].splice(t+1,0,this.values[e].splice(t,1)[0]);const s={name:this.getPropertyPath(e),value:this.values[e]};this.$emit("valueChanged",s)},moveOptionUp(e,t){this.values[e].splice(t-1,0,this.values[e].splice(t,1)[0]);const s={name:this.getPropertyPath(e),value:this.values[e]};this.$emit("valueChanged",s)},optionSelected(e){const t=this.getOptionProperties(e);if(void 0===t)return;const s=`${this.path}.${t.name}`;let n;const a={};for(const r of t.values)"fixedCollection"===r.type&&void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?a[r.name]={}:void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?(a[r.name]=Object(o["get"])(this.nodeValues,`${this.path}.${r.name}`,[]),Array.isArray(r.default)?a[r.name].push(...JSON.parse(JSON.stringify(r.default))):""!==r.default&&"object"!==typeof r.default&&a[r.name].push(JSON.parse(JSON.stringify(r.default)))):a[r.name]=JSON.parse(JSON.stringify(r.default));let i;!0===this.multipleValues?(i=Object(o["get"])(this.nodeValues,s,[]),i.push(a)):i=a,n={name:s,value:i},this.$emit("valueChanged",n),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}},beforeCreate:function(){this.$options.components.ParameterInputList=s("3c38").default}}),c=l,d=(s("0e91"),s("2be6")),u=Object(d["a"])(c,n,a,!1,null,"f7ed85c2",null);t["default"]=u.exports},ff07:function(e,t,s){}});
//# sourceMappingURL=app.889b15ad.js.map